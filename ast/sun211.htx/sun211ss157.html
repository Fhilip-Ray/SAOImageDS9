<!DOCTYPE html> 
<html> 
<head><title> astQuadApprox </title> 
<meta charset=utf-8/> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<link rel="stylesheet" type="text/css" href="sun211.css" /> 
 <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=MML_HTMLorMML"></script><style type="text/css">.MathJax_MathML {text-indent: 0;}</style></head><body 
>
<div class="sstrefsection"><div class="crosslinks"><ul class='nav'> <li class="prev"> <a 
href="sun211ss156.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211ss158.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li>
</ul></div>
<!--l. 24773--><p class="noindent" ><header class="sstreftitle"><h3 class="sstsectitle"><a 
 id="x182-3740000"></a> astQuadApprox </h3>  <p class="subtitle"> Obtain a quadratic approximation to a 2D Mapping  </p> </h3> </header><a 
 id="Q1-182-704"></a> <a 
 id="Q1-182-705"></a> <a name="xref_astQuadApprox"></a>  <h4 class="ssth4">Description: </h4><div class="sstvalues">
This function returns the co-efficients of a quadratic fit to the supplied <a 
href="sun211ss459.html#x486-6780000">Mapping</a> over
the input area specified by <code>&#x0022;</code> lbnd<code>&#x0022;</code> and <code>&#x0022;</code> ubnd<code>&#x0022;</code> . The Mapping must have 2 inputs, but
may have any number of outputs. The i<code>&#x2019;</code> th Mapping output is modelled as a quadratic
function of the 2 inputs (x,y):
<!--l. 24773--><p class="noindent" >output_i = a_i_0 <!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math>
a_i_1<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>x
<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math>
a_i_2<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>y
<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math>
a_i_3<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>x<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>y
                                                                                       

                                                                                       
<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math>
a_i_4<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>x<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>x
<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math>
a_i_5<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>y<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>y
<!--l. 24773--><p class="noindent" >The <code>&#x0022;</code> fit<code>&#x0022;</code> array is returned holding the values of the co-efficients
a_0_0, a_0_1, etc.  </div> <h4 class="ssth4">Synopsis </h4><div class="sstvalues"> int QuadApprox( AstMapping
<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>this,
const double lbnd[2], const double ubnd[2], int nx, int ny, double
<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>fit,
double <!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>rms
)  </div> <h4 class="ssth4">Parameters: </h4><div class="sstvalues"> <h5 class="ssth5"> this  </h5><div class="sstsub"> Pointer to the Mapping.  </div> <h5 class="ssth5"> lbnd  </h5><div class="sstsub"> Pointer to an array of
doubles containing the lower bounds of a box defined within the input coordinate system
of the Mapping. The number of elements in this array should equal the value of the
Mapping<code>&#x2019;</code> s <a 
href="sun211ss353.html#x379-5710000">Nin</a> attribute. This box should specify the region over which the fit is to
be performed.  </div> <h5 class="ssth5"> ubnd  </h5><div class="sstsub"> Pointer to an array of doubles containing the upper bounds of
the box specifying the region over which the fit is to be performed.  </div> <h5 class="ssth5"> nx  </h5><div class="sstsub"> The number
of points to place along the first Mapping input. The first point is at <code>&#x0022;</code> lbnd[0]<code>&#x0022;</code> and
the last is at <code>&#x0022;</code> ubnd[0]<code>&#x0022;</code> . If a value less than three is supplied a value of three
will be used.  </div> <h5 class="ssth5"> ny  </h5><div class="sstsub"> The number of points to place along the second Mapping input.
The first point is at <code>&#x0022;</code> lbnd[1]<code>&#x0022;</code> and the last is at <code>&#x0022;</code> ubnd[1]<code>&#x0022;</code> . If a value
less than three is supplied a value of three will be used.  </div> <h5 class="ssth5"> fit  </h5><div class="sstsub"> Pointer
to an array of doubles in which to return the co-efficients of the quadratic
approximation to the specified transformation. This array should have at least <code>&#x0022;</code>
6<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math><a 
href="sun211ss359.html#x385-5770000">Nout</a><code>&#x0022;</code>
, elements. The first 6 elements hold the fit to the first Mapping output. The next 6
elements hold the fit to the second Mapping output, etc. So if the Mapping has 2
inputs and 2 outputs the quadratic approximation to the forward transformation
is:
<!--l. 24773--><p class="noindent" >X_out = fit[0] <!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math>
fit[1]<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>X_in
<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math>
fit[2]<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>Y_in
<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math>
fit[3]<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>X_in<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>Y_in
<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math>
fit[4]<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>X_in<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>X_in
<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math>
fit[5]<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>Y_in<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>Y_in
Y_out = fit[6] <!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math>
fit[7]<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>X_in
<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math>
fit[8]<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>Y_in
<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math>
fit[9]<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>X_in<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>Y_in
<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math>
fit[10]<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>X_in<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>X_in
<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math>
                                                                                       

                                                                                       
fit[11]<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>Y_in<!--l. 24773--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>Y_in
</div> <h5 class="ssth5"> rms  </h5><div class="sstsub"> Pointer to a double in which to return the RMS residual between the fit and the
Mapping, summed over all Mapping outputs.  </div>  </div> <h4 class="ssth4">Returned Value </h4><div class="sstvalues"> <h5 class="ssth5"> astQuadApprox()  </h5><div class="sstsub"> If a
quadratic approximation was created, a non-zero value is returned. Otherwise
zero is returned and the fit co-efficients are set to AST__BAD.  </div>  </div> <h4 class="ssth4">Notes: </h4><div class="sstvalues">
<ul class="sstitemlist">
<li >
<!--l. 24773--><p class="noindent" >This function fits the Mapping<code>&#x2019;</code> s forward transformation. To fit the inverse
transformation, the Mapping should be inverted using <a 
href="sun211ss94.html#x119-3110000">astInvert</a> before invoking this
function.
<li >
<!--l. 24773--><p class="noindent" >A value of zero will be returned if this function is invoked with the global error
status set, or if it should fail for any reason.  </li></ul>  </div><div class="crosslinks"> <div class="copyright"><span class="pushright">Copyright (C) 2014 Science &#x0026; Technology Facilities Council</span></div> <ul class='nav'> <li class="prev"> <a 
href="sun211ss156.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for
Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211ss158.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li> </ul></div>
<!--l. 33670--><p class="noindent" ><a 
 id="tailsun211ss157.html"></a> </div> 
</body> 
</html>