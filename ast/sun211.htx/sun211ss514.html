<!DOCTYPE html> 
<html> 
<head><title> astChrSub </title> 
<meta charset=utf-8/> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<link rel="stylesheet" type="text/css" href="sun211.css" /> 
 <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=MML_HTMLorMML"></script><style type="text/css">.MathJax_MathML {text-indent: 0;}</style></head><body 
>
<div class="sstrefsection"><div class="crosslinks"><ul class='nav'> <li class="prev"> <a 
href="sun211ss513.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211ss515.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li>
</ul></div>
<!--l. 48929--><p class="noindent" ><header class="sstreftitle"><h3 class="sstsectitle"><a 
 id="x543-7350000"></a> astChrSub </h3>  <p class="subtitle"> Performs substitutions on a supplied string  </p> </h3> </header><a 
 id="Q1-543-1779"></a> <a 
 id="Q1-543-1780"></a> <a name="xref_astChrSub"></a>  <h4 class="ssth4">Description: </h4><div class="sstvalues"> This
function checks a supplied test string to see if it matches a supplied template. If it
does, specified sub-sections of the test string may optionally be replaced by
                                                                                       

                                                                                       
supplied substitution strings. The resulting string is returned.  </div> <h4 class="ssth4">Synopsis </h4><div class="sstvalues"> char
<!--l. 48929--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>astChrSub( const
char <!--l. 48929--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>test, const
char <!--l. 48929--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>pattern,
const char <!--l. 48929--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>subs[],
int nsub )  </div> <h4 class="ssth4">Parameters: </h4><div class="sstvalues"> <h5 class="ssth5"> test  </h5><div class="sstsub"> The string to be tested.  </div> <h5 class="ssth5"> pattern  </h5><div class="sstsub"> The
template string. See <code>&#x0022;</code> Template Syntax:<code>&#x0022;</code> below.  </div> <h5 class="ssth5"> subs  </h5><div class="sstsub"> An array of strings that
are to replace the sections of the test string that match each parenthesised
sub-string in <code>&#x0022;</code> pattern<code>&#x0022;</code> . The first element of <code>&#x0022;</code> subs<code>&#x0022;</code> replaces the part of the
test string that matches the first parenthesised sub-string in the template,
etc.
<!--l. 48929--><p class="noindent" >If <code>&#x0022;</code> nsub<code>&#x0022;</code> is zero, then the <code>&#x0022;</code> subs<code>&#x0022;</code> pointer is ignored. In this case,
substitution strings may be specified by appended them to the end of the
<code>&#x0022;</code> pattern<code>&#x0022;</code> string, separated by <code>&#x0022;</code> =<code>&#x0022;</code> characters. Note, if you need to
include a literal <code>&#x0022;</code> =<code>&#x0022;</code> character in the pattern, precede it by an escape <code>&#x0022;</code>
<!--l. 48929--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2216;</mo></math><code>&#x0022;</code>
character.  </div> <h5 class="ssth5"> nsub  </h5><div class="sstsub"> The number of substitution strings supplied in array <code>&#x0022;</code> subs<code>&#x0022;</code> .  </div>  </div>
<h4 class="ssth4">Returned Value </h4><div class="sstvalues"> <h5 class="ssth5"> astChrSub()  </h5><div class="sstsub"> A pointer to a dynamically allocated string holding the
result of the substitutions, or NULL if the test string does not match the template
string. This string should be freed using <a 
href="sun211ss516.html#x545-7370000">astFree</a> when no longer needed. If no
substituions are specified then a copy of the test string is returned if it matches the
template.  </div>  </div> <h4 class="ssth4">Notes: </h4><div class="sstvalues"> <ul class="sstitemlist">
<li >
<!--l. 48929--><p class="noindent" >A NULL pointer is returned if this function is invoked with the global error
status set or if it should fail for any reason, or if the supplied test
string does not match the template.  </li></ul>  </div> <h4 class="ssth4"> Template Syntax  </h4><div class="sstvalues"> The template
syntax is a minimal form of regular expression, The quantifiers allowed are <code>&#x0022;</code>
<!--l. 48929--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math><code>&#x0022;</code> , <code>&#x0022;</code> ?<code>&#x0022;</code> ,
<code>&#x0022;</code> <!--l. 48929--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math><code>&#x0022;</code> , <code>&#x0022;</code>
{n}<code>&#x0022;</code> , <code>&#x0022;</code> <!--l. 48929--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>?<code>&#x0022;</code>
and <code>&#x0022;</code> <!--l. 48929--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math>?<code>&#x0022;</code>
(the last two are non-greedy - they match the minimum length possible that still
gives an overall match to the template). The only constraints allowed are <code>&#x0022;</code>
<!--l. 48929--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><code><mstyle 
class="text"><mtext  >^</mtext></mstyle></code></math><code>&#x0022;</code> and
<code>&#x0022;</code> $<code>&#x0022;</code> . The following atoms are allowed:
<ul class="sstitemlist">
<li >
<!--l. 48929--><p class="noindent" >[chars]: Matches any of the specified characters.
<li >
<!--l. 48929--><p class="noindent" >[<!--l. 48929--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><code><mstyle 
class="text"><mtext  >^</mtext></mstyle></code></math>chars]:
Matches anything but the specified characters.
<li >
<!--l. 48929--><p class="noindent" >.: Matches any single character.
<li >
<!--l. 48929--><p class="noindent" >x: Matches the character x so long as x has no other significance.
<li >
                                                                                       

                                                                                       
<!--l. 48929--><p class="noindent" ><!--l. 48929--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2216;</mo></math>x:
Always matches the character x (except for [dDsSwW]).
<li >
<!--l. 48929--><p class="noindent" ><!--l. 48929--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2216;</mo></math>d:
Matches a single digit.
<li >
<!--l. 48929--><p class="noindent" ><!--l. 48929--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2216;</mo></math>D:
Matches anything but a single digit.
<li >
<!--l. 48929--><p class="noindent" ><!--l. 48929--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2216;</mo></math>w:
Matches any alphanumeric character, and <code>&#x0022;</code> _<code>&#x0022;</code> .
<li >
<!--l. 48929--><p class="noindent" ><!--l. 48929--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2216;</mo></math>W:
Matches anything but alphanumeric characters, and <code>&#x0022;</code> _<code>&#x0022;</code> .
<li >
<!--l. 48929--><p class="noindent" ><!--l. 48929--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2216;</mo></math>s:
Matches white space.
<li >
<!--l. 48929--><p class="noindent" ><!--l. 48929--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2216;</mo></math>S:
Matches anything but white space.
</li>
</ul>
<!--l. 48929--><p class="noindent" >Note, minus signs (<code>&#x0022;</code> -<code>&#x0022;</code> ) within brackets have no special significance, so ranges of
characters must be specified explicitly.
<!--l. 48929--><p class="noindent" >Multiple template strings can be concatenated, using the <code>&#x0022;</code>
<!--l. 48929--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-rel">|</mo></math><code>&#x0022;</code>
character to separate them. The test string is compared against each one in turn until
a match is found.
<!--l. 48929--><p class="noindent" >Parentheses are used within each template to identify sub-strings that are to be
replaced by the strings supplied in <code>&#x0022;</code> sub<code>&#x0022;</code> .
<!--l. 48929--><p class="noindent" >If <code>&#x0022;</code> nsub<code>&#x0022;</code> is supplied as zero, then substitution strings may be specified by appended
them to the end of the <code>&#x0022;</code> pattern<code>&#x0022;</code> string, separated by <code>&#x0022;</code> =<code>&#x0022;</code> characters. If <code>&#x0022;</code> nsub<code>&#x0022;</code> is
not zero, then any substitution strings appended to the end of <code>&#x0022;</code> pattern<code>&#x0022;</code> are
ignored.
<!--l. 48929--><p class="noindent" >Each element of <code>&#x0022;</code> subs<code>&#x0022;</code> may contain a reference to a token of the form <code>&#x0022;</code> $1<code>&#x0022;</code> , <code>&#x0022;</code> $2<code>&#x0022;</code> ,
etc. The <code>&#x0022;</code> $1<code>&#x0022;</code> token will be replaced by the part of the test string that matched the
first parenthesised sub-string in <code>&#x0022;</code> pattern<code>&#x0022;</code> . The <code>&#x0022;</code> $2<code>&#x0022;</code> token will be replaced by the
part of the test string that matched the second parenthesised sub-string in <code>&#x0022;</code> pattern<code>&#x0022;</code>
, etc.  </div><div class="crosslinks"> <div class="copyright"><span class="pushright">Copyright (C) 2014 Science &#x0026; Technology Facilities Council</span></div> <ul class='nav'> <li class="prev"> <a 
href="sun211ss513.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for
Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211ss515.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li> </ul></div>
<!--l. 49550--><p class="noindent" ><a 
 id="tailsun211ss514.html"></a> </div> 
</body> 
</html>