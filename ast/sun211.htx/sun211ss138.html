<!DOCTYPE html> 
<html> 
<head><title> astPermMap </title> 
<meta charset=utf-8/> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<link rel="stylesheet" type="text/css" href="sun211.css" /> 
 <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=MML_HTMLorMML"></script><style type="text/css">.MathJax_MathML {text-indent: 0;}</style></head><body 
>
<div class="sstrefsection"><div class="crosslinks"><ul class='nav'> <li class="prev"> <a 
href="sun211ss137.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211ss139.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li>
</ul></div>
<!--l. 23127--><p class="noindent" ><header class="sstreftitle"><h3 class="sstsectitle"><a 
 id="x163-3550000"></a> astPermMap </h3>  <p class="subtitle"> Create a PermMap  </p> </h3> </header><a 
 id="Q1-163-647"></a> <a 
 id="Q1-163-648"></a> <a name="xref_astPermMap"></a>  <h4 class="ssth4">Description: </h4><div class="sstvalues"> This function creates a new
<a 
href="sun211ss466.html#x493-6850000">PermMap</a> and optionally initialises its attributes.
<!--l. 23127--><p class="noindent" >A PermMap is a <a 
href="sun211ss459.html#x486-6780000">Mapping</a> which permutes the order of coordinates, and possibly also
changes the number of coordinates, between its input and output.
                                                                                       

                                                                                       
<!--l. 23127--><p class="noindent" >In addition to permuting the coordinate order, a PermMap may also assign constant
values to coordinates. This is useful when the number of coordinates is being increased
as it allows fixed values to be assigned to any new ones.  </div> <h4 class="ssth4">Synopsis </h4><div class="sstvalues"> AstPermMap
<!--l. 23127--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>astPermMap(
int nin, const int inperm[], int nout, const int outperm[], double constant[], const char
<!--l. 23127--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>options,
... )  </div> <h4 class="ssth4">Parameters: </h4><div class="sstvalues"> <h5 class="ssth5"> nin  </h5><div class="sstsub"> The number of input coordinates.  </div> <h5 class="ssth5"> inperm  </h5><div class="sstsub"> An optional
array with <code>&#x0022;</code> nin<code>&#x0022;</code> elements which, for each input coordinate, should contain the number
of the output coordinate whose value is to be used (note that this array therefore
defines the inverse coordinate transformation). Coordinates are numbered starting from
1.
<!--l. 23127--><p class="noindent" >For details of additional special values that may be used in this array, see the
description of the <code>&#x0022;</code> constant<code>&#x0022;</code> parameter.
<!--l. 23127--><p class="noindent" >If a NULL pointer is supplied instead of an array, each input coordinate will
obtain its value from the corresponding output coordinate (or will be assigned
the value AST__BAD if there is no corresponding output coordinate).  </div> <h5 class="ssth5"> nout  </h5><div class="sstsub">
The number of output coordinates.  </div> <h5 class="ssth5"> outperm  </h5><div class="sstsub"> An optional array with <code>&#x0022;</code> nout<code>&#x0022;</code>
elements which, for each output coordinate, should contain the number of the input
coordinate whose value is to be used (note that this array therefore defines the
forward coordinate transformation). Coordinates are numbered starting from
1.
<!--l. 23127--><p class="noindent" >For details of additional special values that may be used in this array, see the
description of the <code>&#x0022;</code> constant<code>&#x0022;</code> parameter.
<!--l. 23127--><p class="noindent" >If a NULL pointer is supplied instead of an array, each output coordinate will obtain
its value from the corresponding input coordinate (or will be assigned the value
AST__BAD if there is no corresponding input coordinate).  </div> <h5 class="ssth5"> constant  </h5><div class="sstsub"> An optional
array containing values which may be assigned to input and/or output coordinates
instead of deriving them from other coordinate values. If either of the <code>&#x0022;</code> inperm<code>&#x0022;</code>
or <code>&#x0022;</code> outperm<code>&#x0022;</code> arrays contains a negative value, it is used to address this <code>&#x0022;</code>
constant<code>&#x0022;</code> array (such that -1 addresses the first element, -2 addresses the second
element, etc.) and the value obtained is used as the corresponding coordinate
value.
<!--l. 23127--><p class="noindent" >Care should be taken to ensure that locations lying outside the extent of this array
are not accidentally addressed. The array is not used if the <code>&#x0022;</code> inperm<code>&#x0022;</code> and <code>&#x0022;</code> outperm<code>&#x0022;</code>
arrays do not contain negative values.
<!--l. 23127--><p class="noindent" >If a NULL pointer is supplied instead of an array, the behaviour is as if the array
were of infinite length and filled with the value AST__BAD.  </div> <h5 class="ssth5"> options  </h5><div class="sstsub"> Pointer to a
null-terminated string containing an optional comma-separated list of attribute
assignments to be used for initialising the new PermMap. The syntax used is identical
to that for the <a 
href="sun211ss177.html#x202-3940000">astSet</a> function and may include <code>&#x0022;</code> printf<code>&#x0022;</code> format specifiers identified
by <code>&#x0022;</code> %<code>&#x0022;</code> symbols in the normal way.  </div> <h5 class="ssth5"> ...  </h5><div class="sstsub"> If the <code>&#x0022;</code> options<code>&#x0022;</code> string contains <code>&#x0022;</code> %<code>&#x0022;</code>
format specifiers, then an optional list of additional arguments may follow it in order
to supply values to be substituted for these specifiers. The rules for supplying these
are identical to those for the astSet function (and for the C <code>&#x0022;</code> printf<code>&#x0022;</code> function).  </div>
</div> <h4 class="ssth4">Returned Value </h4><div class="sstvalues"> <h5 class="ssth5"> astPermMap()  </h5><div class="sstsub"> A pointer to the new PermMap.  </div>  </div> <h4 class="ssth4">Notes: </h4><div class="sstvalues">
<ul class="sstitemlist">
                                                                                       

                                                                                       
<li >
<!--l. 23127--><p class="noindent" >If either of the <code>&#x0022;</code> inperm<code>&#x0022;</code> or <code>&#x0022;</code> outperm<code>&#x0022;</code> arrays contains a zero value (or a positive
value which does not identify a valid output/input coordinate, as appropriate), then
the value AST__BAD is assigned as the new coordinate value.
<li >
<!--l. 23127--><p class="noindent" >This function does not attempt to ensure that the forward and inverse transformations
performed by the PermMap are self-consistent in any way. You are therefore
free to supply coordinate permutation arrays that achieve whatever effect is
desired.
<li >
<!--l. 23127--><p class="noindent" >A null <a 
href="sun211ss464.html#x491-6830000">Object</a> pointer (AST__NULL) will be returned if this function is invoked with the
AST error status set, or if it should fail for any reason.  </li></ul>  </div><div class="crosslinks"> <div class="copyright"><span class="pushright">Copyright (C) 2014 Science &#x0026; Technology Facilities Council</span></div> <ul class='nav'> <li class="prev"> <a 
href="sun211ss137.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for
Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211ss139.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li> </ul></div>
<!--l. 33670--><p class="noindent" ><a 
 id="tailsun211ss138.html"></a> </div> 
</body> 
</html>