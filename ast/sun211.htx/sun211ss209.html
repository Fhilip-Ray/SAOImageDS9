<!DOCTYPE html> 
<html> 
<head><title> astTableSource </title> 
<meta charset=utf-8/> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<link rel="stylesheet" type="text/css" href="sun211.css" /> 
 <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=MML_HTMLorMML"></script><style type="text/css">.MathJax_MathML {text-indent: 0;}</style></head><body 
>
<div class="sstrefsection"><div class="crosslinks"><ul class='nav'> <li class="prev"> <a 
href="sun211ss208.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211ss210.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li>
</ul></div>
<!--l. 30563--><p class="noindent" ><header class="sstreftitle"><h3 class="sstsectitle"><a 
 id="x234-4260000"></a> astTableSource </h3>  <p class="subtitle"> Register a source function for accessing tables in FITS files  </p> </h3> </header><a 
 id="Q1-234-860"></a> <a 
 id="Q1-234-861"></a> <a name="xref_astTableSource"></a>
<h4 class="ssth4">Description: </h4><div class="sstvalues"> This function can be used to register a call-back function with a
<a 
href="sun211ss449.html#x476-6680000">FitsChan</a>. The registered function is called when-ever the FitsChan needs to read
information from a binary table contained within a FITS file. This occurs if the
<a 
href="sun211ss160.html#x185-3770000">astRead</a> function is invoked to read a <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> from a set of FITS headers that use the
<code>&#x0022;</code> -TAB<code>&#x0022;</code> algorithm to describe one or more axes. Such axes use a FITS binary table to
store a look-up table of axis values. The FitsChan will fail to read such axes unless
the <code>&#x0022;</code> <a 
href="sun211ss414.html#x440-6320000">TabOK</a><code>&#x0022;</code> attribute is set to a non-zero positive integer value. The table
containing the axis values must be made available to the FitsChan either by storing the
table contents in the FitsChan (using <a 
href="sun211ss156.html#x181-3730000">astPutTables</a> or <a 
href="sun211ss154.html#x179-3710000">astPutTable</a>) prior to
invoking astRead or by registering a call-back function using astTableSource. The
first method is possibly simpler, but requires that the name of the extension
containing the table be known in advance. Since the table name is embedded in
the FITS headers, the name is often not known in advance. If a call-back is
registered, the FitsChan will determine the name of the required table and invoke
the call-back function to supply the table at the point where it is needed
(i.e. within the astRead method).  </div> <h4 class="ssth4">Synopsis </h4><div class="sstvalues"> void astTableSource( AstFitsChan
<!--l. 30563--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>this, void
(<!--l. 30563--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math> tabsource)(
AstFitsChan <!--l. 30563--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>,
const char <!--l. 30563--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>,
int, int, int <!--l. 30563--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>
) )  </div> <h4 class="ssth4">Parameters: </h4><div class="sstvalues"> <h5 class="ssth5"> this  </h5><div class="sstsub"> Pointer to the FitsChan.  </div> <h5 class="ssth5"> tabsource  </h5><div class="sstsub"> Pointer to the table
source function to use. It takes five arguments - the first is a pointer to the
FitsChan, the second is a string holding the name of the FITS extension containing the
required binary table (<code>&#x0022;</code> EXTNAME<code>&#x0022;</code> ), the third is the integer FITS <code>&#x0022;</code> EXTVER<code>&#x0022;</code> header
value for the required extension, the fourth is the integer FITS <code>&#x0022;</code> EXTLEVEL<code>&#x0022;</code> header
value for the required extension, and the fifth is a pointer to the inherited integer
status value.
<!--l. 30563--><p class="noindent" >The call-back should read the entire contents (header and data) of the binary table in
the named extension of the external FITS file, storing the contents in a newly created
<a 
href="sun211ss450.html#x477-6690000">FitsTable</a> object. It should then store this FitsTable in the FitsChan using
the astPutTables or astPutTable method, and finally annull its local copy of
the FitsTable pointer. If the table cannot be read for any reason, or if any
                                                                                       

                                                                                       
other error occurs, it should return a non-zero integer for the final (third)
argument.
<!--l. 30563--><p class="noindent" >If <code>&#x0022;</code> tabsource<code>&#x0022;</code> is NULL, any registered call-back function will be removed.  </div>  </div> <h4 class="ssth4">Notes: </h4><div class="sstvalues">
<ul class="sstitemlist">
<li >
<!--l. 30563--><p class="noindent" >Application code can pass arbitrary data (such as file descriptors, etc) to the table
source function using the <a 
href="sun211ss151.html#x176-3680000">astPutChannelData</a> function. The source function should use
the <a 
href="sun211ss18.html#x43-2350000">astChannelData</a> macro to retrieve this data.  </li></ul>  </div><div class="crosslinks"> <div class="copyright"><span class="pushright">Copyright (C) 2014 Science &#x0026; Technology Facilities Council</span></div> <ul class='nav'> <li class="prev"> <a 
href="sun211ss208.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for
Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211ss210.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li> </ul></div>
<!--l. 33670--><p class="noindent" ><a 
 id="tailsun211ss209.html"></a> </div> 
</body> 
</html>