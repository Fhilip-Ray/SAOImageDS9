<!DOCTYPE html> 
<html> 
<head><title>Celestial Coordinate Systems (SkyFrames)</title> 
<meta charset=utf-8/> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<link rel="stylesheet" type="text/css" href="sun211.css" /> 
 <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=MML_HTMLorMML"></script><style type="text/css">.MathJax_MathML {text-indent: 0;}</style></head><body 
>
<div class="crosslinks"><ul class='nav'> <li class="prev"> <a 
href="sun211se7.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211se9.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li>
</ul></div>
<h3 class="sectionHead"><span class="titlemark">8    </span> <a 
 id="x9-900008"></a>Celestial Coordinate Systems (SkyFrames)</h3>
<div class="sectionTOCS">
&#x00A0;<span class="subsectionToc" >8.1 <a 
href="#x9-910001">The SkyFrame Model</a></span>
<br />&#x00A0;<span class="subsectionToc" >8.2 <a 
href="#x9-920002">Creating a SkyFrame</a></span>
<br />&#x00A0;<span class="subsectionToc" >8.3 <a 
href="#x9-930003">Specifying a Particular Celestial Coordinate System</a></span>
<br />&#x00A0;<span class="subsectionToc" >8.4 <a 
href="#x9-940004">Attributes which Qualify Celestial Coordinate Systems</a></span>
<br />&#x00A0;<span class="subsectionToc" >8.5 <a 
href="#x9-950005">Using Default SkyFrame Attributes</a></span>
<br />&#x00A0;<span class="subsectionToc" >8.6 <a 
href="#x9-960006">Formatting Celestial Coordinates</a></span>
<br />&#x00A0;<span class="subsectionToc" >8.7 <a 
href="#x9-970007">Reading Formatted Celestial Coordinates</a></span>
<br />&#x00A0;<span class="subsectionToc" >8.8 <a 
href="#x9-980008">Representing Offsets from a Specified Sky Position</a></span>
</div>
<!--l. 4798--><p class="noindent" >A <a 
href="sun211ss452.html#x479-6710000">Frame</a> which is specialised for representing coordinate systems on the celestial sphere is obviously
of great importance in astronomy. The <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> is such a Frame. In this section we examine the
additional properties and behaviour of a SkyFrame that distinguish it from a basic Frame
(&#x00A7;<a 
href="sun211se7.html#x8-730007">7<!--tex4ht:ref: ss:frames --></a>).
<a 
 id="x9-90001r99"></a>
<h4 class="subsectionHead"><span class="titlemark">8.1    </span> <a 
 id="x9-910001"></a>The SkyFrame Model</h4>
<!--l. 4806--><p class="noindent" >A <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> is, of course, a <a 
href="sun211ss452.html#x479-6710000">Frame</a> (&#x00A7;<a 
href="sun211se7.html#x8-730007">7<!--tex4ht:ref: ss:frames --></a>) and also a <a 
href="sun211ss459.html#x486-6780000">Mapping</a> (&#x00A7;<a 
href="sun211se5.html#x6-530005">5<!--tex4ht:ref: ss:mappings --></a>), so it inherits all the properties and
behaviour of these two ancestral classes. When used as a Mapping, a SkyFrame implements a unit
transformation, exactly like a basic Frame (&#x00A7;<a 
href="sun211se7.html#x8-760003">7.3<!--tex4ht:ref: ss:frameasmapping --></a>) or a <a 
href="sun211ss495.html#x522-7140000">UnitMap</a>, so this aspect of its behaviour is not of
great importance.
                                                                                       

                                                                                       
<!--l. 4813--><p class="noindent" >When used as a Frame, however, a SkyFrame represents a 2-dimensional <em>spherical</em> coordinate system,
in which the shortest distance between two points is a great circle. A SkyFrame therefore always has
exactly two axes which represent the longitude and latitude of a coordinate system residing on the
celestial sphere. Many such coordinate systems can be represented by a SkyFrame, as we will see
shortly.
<!--l. 4821--><p class="noindent" >A SkyFrame can represent any of the commonly used celestial coordinate systems. Optionally,
the origin of the longitude/latitude system can be moved to any specified point in the
standard celestial system, allowing a SkyFrame to represent offsets from a specified sky
position.
<!--l. 4826--><p class="noindent" >When it is first created, a SkyFrame&#x2019;s axes are always in the order (longitude,&#x00A0;latitude) but this can be
changed, if required, by using the <a 
href="sun211ss137.html#x162-3540000">astPermAxes</a> function (&#x00A7;<a 
href="sun211se7.html#x8-820009">7.9<!--tex4ht:ref: ss:permutingaxes --></a>). The order of the axes can be
determined at any time using the <a 
href="sun211ss328.html#x354-5460000">LatAxis</a> and <a 
href="sun211ss334.html#x360-5520000">LonAxis</a> attributes. A SkyFrame&#x2019;s coordinate values are
always stored as angles in (double precision) radians, regardless of the setting of the Unit attribute
<span class="footnote-mark"><a 
href="#fn16x0" id="fn16x0-bk"><sup class="textsuperscript">16</sup></a></span><a 
 id="x9-91001f16"></a>.
<a 
 id="x9-91002r103"></a>
<h4 class="subsectionHead"><span class="titlemark">8.2    </span> <a 
 id="x9-920002"></a>Creating a SkyFrame</h4>
<!--l. 4839--><p class="noindent" >The <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> constructor function is particularly simple and a SkyFrame with default attributes is
created as follows:
<div class="fancyvrb" id="fancyvrb107"> <a 
 id="x9-92002r1"></a>&#x00A0;&#x00A0;#include&#x00A0;&#x0022;ast.h&#x0022;<br class="fancyvrb" /><a 
 id="x9-92004r2"></a>&#x00A0;&#x00A0;AstSkyFrame&#x00A0;*skyframe;<br class="fancyvrb" /><a 
 id="x9-92006r3"></a>&#x00A0;&#x00A0;<br class="fancyvrb" /><a 
 id="x9-92008r4"></a>&#x00A0;&#x00A0;...<br class="fancyvrb" /><a 
 id="x9-92010r5"></a>&#x00A0;&#x00A0;<br class="fancyvrb" /><a 
 id="x9-92012r6"></a>&#x00A0;&#x00A0;skyframe&#x00A0;=&#x00A0;astSkyFrame(&#x00A0;&#x0022;&#x0022;&#x00A0;);</div>
<!--l. 4853--><p class="noindent" >Such a SkyFrame would represent the default celestial coordinate system which, at present, is the
ICRS system (the default was &#x0022;FK5(J2000)&#x0022; in versions of AST prior to 3.0).
<a 
 id="x9-92013r104"></a>
<h4 class="subsectionHead"><span class="titlemark">8.3    </span> <a 
 id="x9-930003"></a>Specifying a Particular Celestial Coordinate System</h4>
<!--l. 4859--><p class="noindent" >For many purposes, the ICRS coordinate system is perfectly adequate. In order to support conversion
between a variety of celestial coordinate systems, however, you can create SkyFrames that represent
any of these.
<!--l. 4864--><p class="noindent" >Selection of a particular coordinate system is performed simply by setting a value for the <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a>&#x2019;s
(character string) <a 
href="sun211ss413.html#x439-6310000">System</a> attribute. This setting is most conveniently done when the SkyFrame is
created. For example, a SkyFrame representing the old FK4&#x00A0;(B1950.0) coordinate system would be
created by:
<div class="fancyvrb" id="fancyvrb108"> <a 
 id="x9-93002r1"></a>&#x00A0;&#x00A0;skyframe&#x00A0;=&#x00A0;astSkyFrame(&#x00A0;&#x0022;System=FK4&#x0022;&#x00A0;);</div>
<!--l. 4876--><p class="noindent" >Note that specifying &#x201C;System<!--l. 4876--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <mo 
class="MathClass-rel">=</mo></math>FK4&#x201D;
also changes the associated equinox (from J2000.0 to B1950.0). This is because the default value of the
SkyFrame&#x2019;s <a 
href="sun211ss286.html#x312-5040000">Equinox</a> attribute (&#x00A7;<a 
href="#x9-940004">8.4<!--tex4ht:ref: ss:equinoxitem --></a>) depends on the System attribute setting.
<!--l. 4881--><p class="noindent" >You may change the System value at any time, although this is not usually needed. The values
supported are set out in the attribute&#x2019;s description in Appendix&#x00A0;<a 
href="sun211se25.html#x266-4580003">C<!--tex4ht:ref: ss:attributedescriptions --></a> and include a variety of equatorial
coordinate systems, together with ecliptic and galactic coordinates.
                                                                                       

                                                                                       
<!--l. 4887--><p class="noindent" >General spherical coordinates are supported by specifying
&#x201C;System<!--l. 4888--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <mo 
class="MathClass-rel">=</mo></math>unknown&#x201D;.
You should note, though, that no <a 
href="sun211ss459.html#x486-6780000">Mapping</a> can be created to convert between &#x201C;unknown&#x201D; coordinates
and any of the other celestial coordinate systems (see &#x00A7;<a 
href="sun211se12.html#x13-11500012">12<!--tex4ht:ref: ss:introducingconversion --></a> ).
<a 
 id="x9-93003r105"></a>
<h4 class="subsectionHead"><span class="titlemark">8.4    </span> <a 
 id="x9-940004"></a>Attributes which Qualify Celestial Coordinate Systems</h4>
<!--l. 4894--><p class="noindent" >Many celestial coordinate systems have some additional free parameters which serve to identify a
particular coordinate system from amongst a broader class of related coordinate systems. For
example, the FK5&#x00A0;(J2010.0) system is distinguished from the FK5&#x00A0;(J2000.0) system by a different
equinox&#x2014;and the coordinates of a fixed astronomical source would have different values when
expressed in these two systems.
<!--l. 4902--><p class="noindent" >In AST, these free parameters are represented by additional <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> attributes, each of which has a
default appropriate to (<em>i.e.</em>&#x00A0;defined by) the setting of the main <a 
href="sun211ss413.html#x439-6310000">System</a> attribute. Each of these
<em>qualifying attributes</em> may, however, be assigned an explicit value so as to select a particular coordinate
system. Note, it is usually best to assign explicit values whenever possible rather than relying on
defaults. Attribute should only be left at their default value if you &#x201C;don&#x2019;t care&#x201D; what value is used. In
certain circumstances (particularly, when aligning two Frames), a default value for an attribute
may be replaced by the value from another similar <a 
href="sun211ss452.html#x479-6710000">Frame</a>. Such value replacement can be
prevented by assigning an explicit value to the attribute, rather than simply relying on the
default.
<!--l. 4917--><p class="noindent" >The main SkyFrame attributes which qualify the System attribute are:
     <div class="quote">
     <dl class="description"><dt class="description">
<a 
href="sun211ss285.html#x311-5030000">Epoch</a> </dt><dd 
class="description"><br 
class="newline" />This attribute is inherited from the Frame class. It gives the moment in time
     when  the  coordinates  are  correct  for  the  astronomical  source  under  study
     (usually the date of observation).
     </dd><dt class="description">
<a 
href="sun211ss286.html#x312-5040000">Equinox</a> </dt><dd 
class="description"><br 
class="newline" />This value is used to qualify celestial coordinate systems that are notionally
     based on the Earth&#x2019;s equator and/or the ecliptic (the plane of the Earth&#x2019;s orbit
     around the Sun). The position of either of these planes is difficult to specify
     precisely, so in practice a model <em>mean</em> equator and/or ecliptic are used instead.
     These, together with the point on the sky that defines the coordinate origin
     (termed  the  <em>mean  equinox</em>)  move  with  time  according  to  some  model  which
     smoothes out the more rapid fluctuations. The SkyFrame class supports both
     the old FK4 model and the newer FK5 one.
     <!--l. 4938--><p class="noindent" >Coordinates  expressed  in  any  of  these  systems  vary  with  time  due  to
     movement (by definition) of the coordinate system itself, and must therefore
     be qualified by a moment in time (the <em>epoch of the mean equinox</em>, or &#x201C;equinox&#x201D;
     for short) which specifies the position of the model coordinate system on the
     sky. This is the role of the Equinox attribute.
                                                                                       

                                                                                       
     <!--l. 4945--><p class="noindent" >Note that it is quite valid and common to relate the position of a source to an
     equinox other than the date of observation. Usually a standard equinox such
     as J2000.0 is used, meaning that the coordinates are referred to axes defined by
     where the model mean equator and ecliptic would lie on the sky at the Julian
     epoch J2000.0.</dd></dl>
     </div>
<!--l. 4953--><p class="noindent" >For further details of these attributes you should consult their descriptions in Appendix&#x00A0;<a 
href="sun211se25.html#x266-4580003">C<!--tex4ht:ref: ss:attributedescriptions --></a> and
for details of the System settings for which they are relevant, see the description of the
System attribute (also in Appendix&#x00A0;<a 
href="sun211se25.html#x266-4580003">C<!--tex4ht:ref: ss:attributedescriptions --></a>). For the interested reader, an excellent overview of
celestial coordinate systems can also be found in the documentation for the SLALIB library
(<a 
href="http://www.starlink.ac.uk/cgi-bin/htxserver/sun67.htx/sun67.html?xref_" >SUN/67</a>).
<!--l. 4961--><p class="noindent" >The value of these qualifying attributes is most conveniently set at the same time as the System value,
<em>e.g.</em>&#x00A0;when a SkyFrame is created. For instance:
<div class="fancyvrb" id="fancyvrb109"> <a 
 id="x9-94002r1"></a>&#x00A0;&#x00A0;skyframe&#x00A0;=&#x00A0;astSkyFrame(&#x00A0;&#x0022;System=Ecliptic,&#x00A0;Equinox=J2005.5&#x0022;&#x00A0;);</div>
<!--l. 4971--><p class="noindent" >would create a SkyFrame representing an ecliptic coordinate system referred to the mean equinox and
ecliptic of Julian epoch J2005.5.
<!--l. 4974--><p class="noindent" >Note that it does no harm to assign values to qualifying attributes which are not relevant to the main
System value. Any such values are stored, but are not used unless the System value is later set so that
they become relevant.
<a 
 id="x9-94003r106"></a>
<h4 class="subsectionHead"><span class="titlemark">8.5    </span> <a 
 id="x9-950005"></a>Using Default SkyFrame Attributes</h4>
<!--l. 4981--><p class="noindent" >The default values supplied for many <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> attributes will depend on the value of the SkyFrame&#x2019;s
<a 
href="sun211ss413.html#x439-6310000">System</a> attribute. In practice, this means that there is usually little need to specify many of these
attributes explicitly unless you have some special requirement. This can be illustrated by using
<a 
href="sun211ss187.html#x212-4040000">astShow</a> to examine a SkyFrame, as follows:
<div class="fancyvrb" id="fancyvrb110"> <a 
 id="x9-95002r1"></a>&#x00A0;&#x00A0;astShow(&#x00A0;astSkyFrame(&#x00A0;&#x0022;System=FK4-NO-E,&#x00A0;Epoch=1958&#x0022;&#x00A0;)&#x00A0;);</div>
<!--l. 4993--><p class="noindent" >The output from this might look like the following:
<div class="fancyvrb" id="fancyvrb111"> <a 
 id="x9-95004r1"></a>&#x00A0;&#x00A0;&#x00A0;Begin&#x00A0;SkyFrame&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;Description&#x00A0;of&#x00A0;celestial&#x00A0;coordinate&#x00A0;system
<br class="fancyvrb" /><a 
 id="x9-95006r2"></a>&#x00A0;&#x00A0;#&#x00A0;&#x00A0;&#x00A0;Title&#x00A0;=&#x00A0;&#x0022;FK4&#x00A0;equatorial&#x00A0;coordinates;&#x00A0;no&#x00A0;E-terms;&#x00A0;mean&#x00A0;equinox&#x00A0;B1950.0;
<br class="fancyvrb" /><a 
 id="x9-95008r3"></a>&#x00A0;&#x00A0;epoch&#x00A0;B1958.0&#x0022;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;Title&#x00A0;of&#x00A0;coordinate&#x00A0;system<br class="fancyvrb" /><a 
 id="x9-95010r4"></a>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Naxes&#x00A0;=&#x00A0;2&#x00A0;&#x00A0;&#x00A0;#&#x00A0;Number&#x00A0;of&#x00A0;coordinate&#x00A0;axes
<br class="fancyvrb" /><a 
 id="x9-95012r5"></a>&#x00A0;&#x00A0;#&#x00A0;&#x00A0;&#x00A0;Domain&#x00A0;=&#x00A0;&#x0022;SKY&#x0022;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;Coordinate&#x00A0;system&#x00A0;domain<br class="fancyvrb" /><a 
 id="x9-95014r6"></a>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Epoch&#x00A0;=&#x00A0;1958&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;Besselian&#x00A0;epoch&#x00A0;of&#x00A0;observation
<br class="fancyvrb" /><a 
 id="x9-95016r7"></a>&#x00A0;&#x00A0;#&#x00A0;&#x00A0;&#x00A0;Lbl1&#x00A0;=&#x00A0;&#x0022;Right&#x00A0;ascension&#x0022;&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;Label&#x00A0;for&#x00A0;axis&#x00A0;1<br class="fancyvrb" /><a 
 id="x9-95018r8"></a>&#x00A0;&#x00A0;#&#x00A0;&#x00A0;&#x00A0;Lbl2&#x00A0;=&#x00A0;&#x0022;Declination&#x0022;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;Label&#x00A0;for&#x00A0;axis&#x00A0;2
<br class="fancyvrb" /><a 
 id="x9-95020r9"></a>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;System&#x00A0;=&#x00A0;&#x0022;FK4-NO-E&#x0022;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;Coordinate&#x00A0;system&#x00A0;type<br class="fancyvrb" /><a 
 id="x9-95022r10"></a>&#x00A0;&#x00A0;#&#x00A0;&#x00A0;&#x00A0;Uni1&#x00A0;=&#x00A0;&#x0022;hh:mm:ss.s&#x0022;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;Units&#x00A0;for&#x00A0;axis&#x00A0;1
<br class="fancyvrb" /><a 
 id="x9-95024r11"></a>&#x00A0;&#x00A0;#&#x00A0;&#x00A0;&#x00A0;Uni2&#x00A0;=&#x00A0;&#x0022;ddd:mm:ss&#x0022;&#x00A0;&#x00A0;#&#x00A0;Units&#x00A0;for&#x00A0;axis&#x00A0;2<br class="fancyvrb" /><a 
 id="x9-95026r12"></a>&#x00A0;&#x00A0;#&#x00A0;&#x00A0;&#x00A0;Dir1&#x00A0;=&#x00A0;0&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;Plot&#x00A0;axis&#x00A0;1&#x00A0;in&#x00A0;reverse&#x00A0;direction
<br class="fancyvrb" /><a 
 id="x9-95028r13"></a>&#x00A0;&#x00A0;#&#x00A0;&#x00A0;&#x00A0;Bot2&#x00A0;=&#x00A0;-1.5707963267949&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;Lowest&#x00A0;legal&#x00A0;axis&#x00A0;value
<br class="fancyvrb" /><a 
 id="x9-95030r14"></a>&#x00A0;&#x00A0;#&#x00A0;&#x00A0;&#x00A0;Top2&#x00A0;=&#x00A0;1.5707963267949&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;Highest&#x00A0;legal&#x00A0;axis&#x00A0;value<br class="fancyvrb" /><a 
 id="x9-95032r15"></a>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Ax1&#x00A0;=&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;Axis&#x00A0;number&#x00A0;1
<br class="fancyvrb" /><a 
 id="x9-95034r16"></a>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Begin&#x00A0;SkyAxis&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;Celestial&#x00A0;coordinate&#x00A0;axis<br class="fancyvrb" /><a 
 id="x9-95036r17"></a>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;End&#x00A0;SkyAxis
<br class="fancyvrb" /><a 
 id="x9-95038r18"></a>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Ax2&#x00A0;=&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;Axis&#x00A0;number&#x00A0;2<br class="fancyvrb" /><a 
 id="x9-95040r19"></a>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Begin&#x00A0;SkyAxis&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;Celestial&#x00A0;coordinate&#x00A0;axis
<br class="fancyvrb" /><a 
 id="x9-95042r20"></a>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;End&#x00A0;SkyAxis<br class="fancyvrb" /><a 
 id="x9-95044r21"></a>&#x00A0;&#x00A0;&#x00A0;IsA&#x00A0;Frame&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;Coordinate&#x00A0;system&#x00A0;description
<br class="fancyvrb" /><a 
 id="x9-95046r22"></a>&#x00A0;&#x00A0;#&#x00A0;&#x00A0;&#x00A0;Eqnox&#x00A0;=&#x00A0;1950&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;Besselian&#x00A0;epoch&#x00A0;of&#x00A0;mean&#x00A0;equinox<br class="fancyvrb" /><a 
 id="x9-95048r23"></a>&#x00A0;&#x00A0;&#x00A0;End&#x00A0;SkyFrame</div>
                                                                                       

                                                                                       
<!--l. 5021--><p class="noindent" >Note that the defaults (indicated by the &#x201C;<span class="obeylines-h"><span class="verb">#</span></span>&#x201D; comment character at the start of the line) for attributes
such as the <a 
href="sun211ss420.html#x446-6380000">Title</a>, axis Labels and Format specifiers are all set to values appropriate for the particular
equatorial coordinate system that the SkyFrame represents.
<!--l. 5027--><p class="noindent" >This means, for example, that if we were to use this SkyFrame to format a right ascension value stored
in radians using <a 
href="sun211ss56.html#x81-2730000">astFormat</a> (&#x00A7;<a 
href="sun211se7.html#x8-790006">7.6<!--tex4ht:ref: ss:formattingaxisvalues --></a>), it would automatically result in a string in sexagesimal notation
(such as &#x201C;12:14:35.7&#x201D;) suitable for display. If we changed the value of the SkyFrame&#x2019;s Digits attribute
(which is inherited from the <a 
href="sun211ss452.html#x479-6710000">Frame</a> class), the number of digits appearing would also change
accordingly.
<!--l. 5035--><p class="noindent" >These choices would be appropriate for a System value of &#x201C;FK4-NO-E&#x201D;, but if a different System value
were set, the defaults would be correspondingly different. For example, ecliptic longitude is
traditionally expressed in degrees, so setting &#x201C;System=ecliptic&#x201D; would result in coordinate values
being formatted as degrees by default.
<!--l. 5042--><p class="noindent" >Of course, if you do not like any of these defaults, you may always over-ride them by setting explicit
attribute values yourself.
<a 
 id="x9-95049r107"></a>
<h4 class="subsectionHead"><span class="titlemark">8.6    </span> <a 
 id="x9-960006"></a>Formatting Celestial Coordinates</h4>
<!--l. 5047--><p class="noindent" >SkyFrames use <a 
href="sun211ss56.html#x81-2730000">astFormat</a> for formatting coordinate values in the same way as other Frames
(&#x00A7;<a 
href="sun211se7.html#x8-790006">7.6<!--tex4ht:ref: ss:formattingaxisvalues --></a>). However, they offer a different set of formatting options more appropriate to celestial
coordinates.
<!--l. 5052--><p class="noindent" >The Digits attribute of a <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> behaves in essentially the same way as for a basic <a 
href="sun211ss452.html#x479-6710000">Frame</a> (&#x00A7;<a 
href="sun211se7.html#x8-790006">7.6<!--tex4ht:ref: ss:formattingwithdigits --></a>), so
the precision with which celestial coordinates are displayed can also be adjusted in this way. However,
the range of format specifiers that can be given for the <a 
href="sun211ss292.html#x318-5100000">Format(axis)</a> attribute, and the default format
resulting from any particular Digits value, is different.
<!--l. 5059--><p class="noindent" >The syntax of SkyFrame format specifiers is detailed under the description of the Format(axis)
attribute in Appendix&#x00A0;<a 
href="sun211se25.html#x266-4580003">C<!--tex4ht:ref: ss:attributedescriptions --></a>. Briefly, however, it allows celestial coordinates to be expressed either as
angles or times and to include one or more of the fields:
     <div class="quote">
     <ul class="itemize1">
     <li class="itemize">degrees or hours
     </li>
     <li class="itemize">arc-minutes or minutes
     </li>
     <li class="itemize">arc-seconds or seconds</li></ul>
     </div>
<!--l. 5073--><p class="noindent" >with a specified number of decimal places for the final field. A range of field separators is also
available, as the following examples show:
     <div class="quote">
<div class="center">
                                                                                       

                                                                                       
     <div class="tabular"> <table id="TBL-5" class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-5-1g"><col 
id="TBL-5-1"></colgroup><colgroup id="TBL-5-2g"><col 
id="TBL-5-2"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-1-"><td  style="text-align:left; white-space:nowrap;" id="TBL-5-1-1"  
class="td11"> <b>Format Specifier</b>  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-5-1-2"  
class="td11"> <b>Example Formatted Value</b>  </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-2-"><td  style="text-align:left; white-space:nowrap;" id="TBL-5-2-1"  
class="td11"> d               </td><td  style="text-align:left; white-space:nowrap;" id="TBL-5-2-2"  
class="td11"> 219                     </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-3-"><td  style="text-align:left; white-space:nowrap;" id="TBL-5-3-1"  
class="td11"> d.3 </td> <td  style="text-align:left; white-space:nowrap;" id="TBL-5-3-2"  
class="td11"> 219.123</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-5-4-"><td  style="text-align:left; white-space:nowrap;" id="TBL-5-4-1"  
class="td11"> dm              </td><td  style="text-align:left; white-space:nowrap;" id="TBL-5-4-2"  
class="td11"> 219:05                  </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-5-"><td  style="text-align:left; white-space:nowrap;" id="TBL-5-5-1"  
class="td11"> dm.2 </td> <td  style="text-align:left; white-space:nowrap;" id="TBL-5-5-2"  
class="td11"> 219:05.44</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-5-6-"><td  style="text-align:left; white-space:nowrap;" id="TBL-5-6-1"  
class="td11"> dms             </td><td  style="text-align:left; white-space:nowrap;" id="TBL-5-6-2"  
class="td11"> 219:05:42               </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-7-"><td  style="text-align:left; white-space:nowrap;" id="TBL-5-7-1"  
class="td11"> hms.1 </td> <td  style="text-align:left; white-space:nowrap;" id="TBL-5-7-2"  
class="td11"> 15:44:13.8</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-5-8-"><td  style="text-align:left; white-space:nowrap;" id="TBL-5-8-1"  
class="td11"> bdms.2          </td><td  style="text-align:left; white-space:nowrap;" id="TBL-5-8-2"  
class="td11"> 219 05 42.81            </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-9-"><td  style="text-align:left; white-space:nowrap;" id="TBL-5-9-1"  
class="td11"> lhms.3 </td> <td  style="text-align:left; white-space:nowrap;" id="TBL-5-9-2"  
class="td11"> 15h44m13.88s</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-5-10-"><td  style="text-align:left; white-space:nowrap;" id="TBL-5-10-1"  
class="td11"> +zlhms          </td><td  style="text-align:left; white-space:nowrap;" id="TBL-5-10-2"  
class="td11"> +06h10m44s              </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-11-"><td  style="text-align:left; white-space:nowrap;" id="TBL-5-11-1"  
class="td11"> ms.1 </td> <td  style="text-align:left; white-space:nowrap;" id="TBL-5-11-2"  
class="td11"> 13145:42.8</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-5-12-"><td  style="text-align:left; white-space:nowrap;" id="TBL-5-12-1"  
class="td11"> lmst.3          </td><td  style="text-align:left; white-space:nowrap;" id="TBL-5-12-2"  
class="td11"> 876m22.854s             </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-13-"><td  style="text-align:left; white-space:nowrap;" id="TBL-5-13-1"  
class="td11"> s.2 </td> <td  style="text-align:left; white-space:nowrap;" id="TBL-5-13-2"  
class="td11"> 788742.81</td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-14-"><td  style="text-align:left; white-space:nowrap;" id="TBL-5-14-1"  
class="td11">                 </td></tr></table>
     </div></div>
     </div>
<!--l. 5099--><p class="noindent" >Note the following key points:
     <ul class="itemize1">
     <li class="itemize">The required fields are specified using characters chosen from either &#x201C;dms&#x201D; or &#x201C;hms&#x201D;
     according to whether the value is to be formatted as an angle (in degrees) or a time (in
     hours).
     </li>
     <li class="itemize">If no degrees or hours field is required, the distinction between angle and time may be
     made by including &#x201C;t&#x201D; to request time.
     </li>
     <li class="itemize">The  number  of  decimal  places  (for  the  final  field)  is  indicated  using  &#x201C;<code>.</code>&#x201D;  followed  by
     an integer. An asterisk can be used in place of an integer, in which case the number of
     decimal places is chosen so that the total number of digits in the formatted value is equal
     to the value of the Digits attribute.
     </li>
     <li class="itemize">&#x201C;b&#x201D; causes fields to be separated by blanks, while &#x201C;l&#x201D; causes them to be separated by the
     appropriate letters (the default being a colon).
     </li>
     <li class="itemize">&#x201C;z&#x201D; causes padding with leading zeros.
     </li>
     <li class="itemize">&#x201C;+&#x201D; cause a plus sign to be prefixed to positive values (negative values always have a
     minus sign).</li></ul>
<!--l. 5125--><p class="noindent" >The formatting performed by a SkyFrame is also influenced by the <a 
href="sun211ss251.html#x277-4690000">AsTime(axis)</a> attribute, which has a
boolean (integer) value for each SkyFrame axis. It determines whether the default format specifier for
an axis will present values as angles (<em>e.g.</em>&#x00A0;in degrees) if it is zero, or as times (<em>e.g.</em>&#x00A0;in hours) if it is
non-zero.
<!--l. 5131--><p class="noindent" >The default AsTime value depends on the celestial coordinate system which the SkyFrame represents
which, in turn, depends on its <a 
href="sun211ss413.html#x439-6310000">System</a> attribute value. For example, equatorial longitude values (right
ascension) are normally expressed in hours, whereas ecliptic longitudes are normally expressed in
degrees, so their default AsTime values will reflect this difference.
<!--l. 5138--><p class="noindent" >The value of the AsTime attribute may be set explicitly to over-ride these defaults if required, with the
formatting precision being determined by the <a 
href="sun211ss276.html#x302-4940000">Digits/Digits(axis)</a> value. Alternatively,
the Format(axis) attribute may be set explicitly to specify both the format and precision
                                                                                       

                                                                                       
required. Setting an explicit Format value always over-rides the effects of both the Digits
and AsTime attributes (unless the Format value does not specify the required number of
decimal places, in which case Digits is used to determine the default number of decimal
places)
<a 
 id="x9-96001r108"></a>
<h4 class="subsectionHead"><span class="titlemark">8.7    </span> <a 
 id="x9-970007"></a>Reading Formatted Celestial Coordinates</h4>
<!--l. 5150--><p class="noindent" >The process of converting formatted celestial coordinates, such as might be produced by the <a 
href="sun211ss56.html#x81-2730000">astFormat</a>
function (&#x00A7;<a 
href="#x9-960006">8.6<!--tex4ht:ref: ss:formattingskyaxisvalues --></a>), into numerical (double) coordinate values is performed by using <a 
href="sun211ss228.html#x253-4450000">astUnformat</a> (&#x00A7;<a 
href="sun211se7.html#x8-810008">7.8<!--tex4ht:ref: ss:unformattingaxisvalues --></a>)
and passing it a pointer to a <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a>. The use of a SkyFrame means that the range of input formats
accepted is appropriate to positions on the sky expressed as angles and/or times, while the returned
value is in radians.
<!--l. 5159--><p class="noindent" >The following describes the forms of celestial coordinate which are supported:
     <ul class="itemize1">
     <li class="itemize">You may supply an optional sign, followed by between one and three fields representing
     either degrees, arc-minutes, arc-seconds or hours, minutes, seconds (<em>e.g.</em>&#x00A0;&#x201C;<!--l. 5165--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2212;</mo></math>12&#x00A0;42&#x00A0;03&#x201D;).
     </li>
     <li class="itemize">Each field should consist of a sequence of one or more digits, which may include leading
     zeros. At most one field may contain a decimal point, in which case it is taken to be the
     final field (<em>e.g.</em>&#x00A0;decimal degrees might be given as &#x201C;124.707&#x201D;, while degrees and decimal
     arc-minutes might be given as &#x201C;<!--l. 5171--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2212;</mo></math>13&#x00A0;33.8&#x201D;).
     </li>
     <li class="itemize">The  first  field  given  may  take  any  value,  allowing  angles  and  times  outside  the
     conventional ranges to be represented. However, subsequent fields must have values of
     less than 60 (<em>e.g.</em> &#x201C;720&#x00A0;45&#x00A0;31&#x201D; is valid, whereas &#x201C;11&#x00A0;45&#x00A0;61&#x201D; is not).
     </li>
     <li class="itemize">Fields may be separated by white space or by &#x201C;:&#x201D; (colon), but the choice of separator must
     be used consistently throughout the value. Additional white space may be present around
     fields and separators (<em>e.g.</em>&#x00A0;&#x201C;<!--l. 5181--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2212;</mo></math>&#x00A0;2:&#x00A0;04&#x00A0;:&#x00A0;7.1&#x201D;).
     </li>
     <li class="itemize">The following field identification characters may be used as separators to replace those
     above (or may be appended to the final field), in order to identify the field to which they
     are appended:
          <div class="quote">
          <div class="tabular"> <table id="TBL-6" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-6-1g"><col 
id="TBL-6-1"><col 
id="TBL-6-2"><col 
id="TBL-6-3"></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-6-1-"><td  style="text-align:left; white-space:nowrap;" id="TBL-6-1-1"  
class="td11"> d  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-6-1-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-6-1-3"  
class="td11"> degrees                              </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-6-2-"><td  style="text-align:left; white-space:nowrap;" id="TBL-6-2-1"  
class="td11"> h   </td><td  style="text-align:left; white-space:nowrap;" id="TBL-6-2-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-6-2-3"  
class="td11"> hours                                 </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-6-3-"><td  style="text-align:left; white-space:nowrap;" id="TBL-6-3-1"  
class="td
11"> m  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-6-3-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-6-3-3"  
class="td11"> minutes (of arc or time)  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-6-4-"><td  style="text-align:left; white-space:nowrap;" id="TBL-6-4-1"  
class="td11"> s    </td><td  style="text-align:left; white-space:nowrap;" id="TBL-6-4-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-6-4-3"  
class="td11"> seconds (of arc or time)   </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-6-5-"><td  style="text-align:left; white-space:nowrap;" id="TBL-6-5-1"  
class="td11"> <code>&#x2019;</code>  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-6-5-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-6-5-3"  
class="td11"> arc-minutes                       </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-6-6-"><td  style="text-align:left; white-space:nowrap;" id="TBL-6-6-1"  
class="td
11"> <code>&#x0022;</code>  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-6-6-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-6-6-3"  
class="td11"> arc-seconds                       </td></tr></table></div></div>
     <!--l. 5198--><p class="noindent" >Either lower or upper case may be used. Fields must be given in order of decreasing significance
     (<em>e.g.</em>&#x00A0;&#x201C;<!--l. 5200--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2212;</mo></math>11D&#x00A0;3<code>&#x2019;</code>&#x00A0;14.4<code>&#x0022;</code>&#x201D;
     or &#x201C;22h14m11.2s&#x201D;).
                                                                                       

                                                                                       
     </li>
     <li class="itemize">The presence of certain field identification characters indicates whether the value is to be
     interpreted as an angle or a time (with 24 hours corresponding to 360 degrees), as
     follows:
          <div class="quote">
          <div class="tabular"> <table id="TBL-7" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-7-1g"><col 
id="TBL-7-1"><col 
id="TBL-7-2"><col 
id="TBL-7-3"></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-7-1-"><td  style="text-align:left; white-space:nowrap;" id="TBL-7-1-1"  
class="td11"> d  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-7-1-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-7-1-3"  
class="td11"> angle  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-2-"><td  style="text-align:left; white-space:nowrap;" id="TBL-7-2-1"  
class="td11"> <code>&#x2019;</code>  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-7-2-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-7-2-3"  
class="td11"> angle  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-3-"><td  style="text-align:left; white-space:nowrap;" id="TBL-7-3-1"  
class="td11"> <code>&#x0022;</code>  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-7-3-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-7-3-3"  
class="td11"> angle  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-4-"><td  style="text-align:left; white-space:nowrap;" id="TBL-7-4-1"  
class="td11"> h   </td><td  style="text-align:left; white-space:nowrap;" id="TBL-7-4-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-7-4-3"  
class="td11"> time    </td></tr></table></div></div>
     <!--l. 5215--><p class="noindent" >Incompatible angle/time identification characters may not be mixed (<em>e.g.</em>&#x00A0;&#x201C;10h14<code>&#x2019;</code>3<code>&#x0022;</code>&#x201D; is not
     valid). The remaining field identification characters and separators do not specify a preference
     for an angle or a time and may be used with either.
     </li>
     <li class="itemize">If no preference for an angle or a time is expressed anywhere within the value, then it is
     interpreted as an angle if the Format attribute string associated with the SkyFrame axis
     generates an angle and as a time otherwise. This ensures that values produced by astFormat
     (&#x00A7;<a 
href="#x9-960006">8.6<!--tex4ht:ref: ss:formattingskyaxisvalues --></a>) are correctly interpreted by astUnformat.
     </li>
     <li class="itemize">Fields may be omitted, in which case they default to zero. The remaining fields may be identified by using
     appropriate field identification characters (see above) and/or by adding extra colon separators (e.g.
     &#x201C;<!--l. 5230--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2212;</mo></math>05m13s&#x201D; is
     equivalent to &#x201C;<!--l. 5230--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2212;</mo></math>:05:13&#x201D;).
     If a field is not identified explicitly, it is assumed that adjacent fields have been given, after
     taking account of any extra separator characters. For example:
          <div class="quote">
          <div class="tabular"> <table id="TBL-8" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-8-1g"><col 
id="TBL-8-1"><col 
id="TBL-8-2"><col 
id="TBL-8-3"></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-8-1-"><td  style="text-align:left; white-space:nowrap;" id="TBL-8-1-1"  
class="td11"> 10d                                                                                                                                                                          </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-1-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-1-3"  
class="td11"> degrees                                                                 </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-8-2-"><td  style="text-align:left; white-space:nowrap;" id="TBL-8-2-1"  
class="td11"> 10d12                                                                                                                                                                       </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-2-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-2-3"  
class="td11"> degrees and arc-minutes                                   </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-8-3-"><td  style="text-align:left; white-space:nowrap;" id="TBL-8-3-1"  
class="td11"> 11:14<code>&#x0022;</code>                                                                                 </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-3-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-3-3"  
class="td11"> arc-minutes and arc-seconds                            </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-4-"><td  style="text-align:left; white-space:nowrap;" id="TBL-8-4-1"  
class="td
11"> 9h13s                                                                                                                                                                        </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-4-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-4-3"  
class="td11"> hours and seconds of time                                </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-5-"><td  style="text-align:left; white-space:nowrap;" id="TBL-8-5-1"  
class="td
11"> :45:33                                                                                                                                                                        </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-5-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-5-3"  
class="td11"> minutes and seconds (of arc or time)              </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-8-6-"><td  style="text-align:left; white-space:nowrap;" id="TBL-8-6-1"  
class="td11"> :55:                                                                                                                                                                            </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-6-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-6-3"  
class="td11"> minutes (of arc or time)                                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-8-7-"><td  style="text-align:left; white-space:nowrap;" id="TBL-8-7-1"  
class="td11"> ::13                                                                                                                                                                            </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-7-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-7-3"  
class="td11"> seconds (of arc or time)                                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-8-8-"><td  style="text-align:left; white-space:nowrap;" id="TBL-8-8-1"  
class="td11"> <!--l. 5244--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2212;</mo></math>6::2.5   </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-8-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-8-3"  
class="td11"> degrees/hours and seconds (of arc or time)  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-8-9-"><td  style="text-align:left; white-space:nowrap;" id="TBL-8-9-1"  
class="td11"> 07m14                                                                                                                                                                      </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-9-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-9-3"  
class="td11"> minutes and seconds (of arc or time)              </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-8-10-"><td  style="text-align:left; white-space:nowrap;" id="TBL-8-10-1"  
class="td11"> <!--l. 5246--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2212;</mo></math>8:14<code>&#x2019;</code> </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-10-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-10-3"  
class="td11"> degrees and arc-minutes                                   </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-8-11-"><td  style="text-align:left; white-space:nowrap;" id="TBL-8-11-1"  
class="td11"> <!--l. 5247--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2212;</mo></math>h3:14  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-11-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-11-3"  
class="td11"> minutes and seconds of time                            </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-8-12-"><td  style="text-align:left; white-space:nowrap;" id="TBL-8-12-1"  
class="td11"> h:2.1                                                                                                                                                                         </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-12-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-8-12-3"  
class="td11"> seconds of time                                                   </td></tr></table>
          </div></div>
     </li>
     <li class="itemize">If fields are omitted in such a way that the remaining ones cannot be identified uniquely (e.g.
     &#x201C;01:02&#x201D;), then the first field (either given explicitly or implied by an extra leading colon
     separator) is taken to be the most significant field that astFormat would produce when
     formatting a value (using the Format attribute associated with the SkyFrame axis). By default,
     this means that the first field will normally be interpreted as degrees or hours. However, if this
     does not result in consistent field identification, then the last field (either given explicitly or
     implied by an extra trailing colon separator) is taken to to be the least significant field that
                                                                                       

                                                                                       
     astFormat would produce.
     </li></ul>
<!--l. 5266--><p class="noindent" >This final convention is intended to ensure that values formatted by astFormat which contain less than
three fields will be correctly interpreted if read back using astUnformat, even if they do not
contain field identification characters. However, it also affects other forms of input. For
example, if the <a 
href="sun211ss292.html#x318-5100000">Format(axis)</a> string were set to &#x201C;mst.1&#x201D; (producing two fields representing
minutes and seconds of time), then formatted input would be interpreted by astUnformat as
follows:
     <div class="quote">
     <div class="tabular"> <table id="TBL-9" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-9-1g"><col 
id="TBL-9-1"><col 
id="TBL-9-2"><col 
id="TBL-9-3"></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-9-1-"><td  style="text-align:left; white-space:nowrap;" id="TBL-9-1-1"  
class="td11"> 12 13                                                                                                                                                                      </td><td  style="text-align:left; white-space:nowrap;" id="TBL-9-1-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-9-1-3"  
class="td11"> minutes and seconds              </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-2-"><td  style="text-align:left; white-space:nowrap;" id="TBL-9-2-1"  
class="td11"> 12 </td> <td  style="text-align:left; white-space:nowrap;" id="TBL-9-2-2"  
class="td11"> &#x2013; </td> <td  style="text-align:left; white-space:nowrap;" id="TBL-9-2-3"  
class="td11"> minutes</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-9-3-"><td  style="text-align:left; white-space:nowrap;" id="TBL-9-3-1"  
class="td11"> :13                                                                                                                                                                           </td><td  style="text-align:left; white-space:nowrap;" id="TBL-9-3-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-9-3-3"  
class="td11"> seconds                                      </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-4-"><td  style="text-align:left; white-space:nowrap;" id="TBL-9-4-1"  
class="td11"> <!--l. 5280--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2212;</mo></math>18: </td> <td  style="text-align:left; white-space:nowrap;" id="TBL-9-4-2"  
class="td11"> &#x2013; </td> <td  style="text-align:left; white-space:nowrap;" id="TBL-9-4-3"  
class="td11"> minutes</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-9-5-"><td  style="text-align:left; white-space:nowrap;" id="TBL-9-5-1"  
class="td11"> 12.8                                                                                                                                                                         </td><td  style="text-align:left; white-space:nowrap;" id="TBL-9-5-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-9-5-3"  
class="td11"> minutes                                     </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-6-"><td  style="text-align:left; white-space:nowrap;" id="TBL-9-6-1"  
class="td
11"> 1 2 3                                                                                                                                                                        </td><td  style="text-align:left; white-space:nowrap;" id="TBL-9-6-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-9-6-3"  
class="td11"> hours, minutes and seconds  </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-7-"><td  style="text-align:left; white-space:nowrap;" id="TBL-9-7-1"  
class="td
11">                                                                                      </td><td  style="text-align:left; white-space:nowrap;" id="TBL-9-7-2"  
class="td11">   </td><td  style="text-align:left; white-space:nowrap;" id="TBL-9-7-3"  
class="td11">                          </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-8-"><td  style="text-align:left; white-space:nowrap;" id="TBL-9-8-1"  
class="td11"> 4<code>&#x2019;</code> </td> <td  style="text-align:left; white-space:nowrap;" id="TBL-9-8-2"  
class="td11"> &#x2013; </td> <td  style="text-align:left; white-space:nowrap;" id="TBL-9-8-3"  
class="td11"> arc-minutes</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-9-9-"><td  style="text-align:left; white-space:nowrap;" id="TBL-9-9-1"  
class="td11"> 60::<code>&#x0022;</code>                                                                                 </td><td  style="text-align:left; white-space:nowrap;" id="TBL-9-9-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-9-9-3"  
class="td11"> degrees                                      </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-9-10-"><td  style="text-align:left; white-space:nowrap;" id="TBL-9-10-1"  
class="td11"> <!--l. 5286--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2212;</mo></math>23:<code>&#x0022;</code> </td><td  style="text-align:left; white-space:nowrap;" id="TBL-9-10-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-9-10-3"  
class="td11"> arc-minutes                               </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-9-11-"><td  style="text-align:left; white-space:nowrap;" id="TBL-9-11-1"  
class="td11"> <!--l. 5287--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2212;</mo></math>33h   </td><td  style="text-align:left; white-space:nowrap;" id="TBL-9-11-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-9-11-3"  
class="td11"> hours                                         </td></tr></table>
     </div></div>
<!--l. 5291--><p class="noindent" >(in the last four cases, explicit field identification has been given which overrides the implicit
identification).
<!--l. 5294--><p class="noindent" >Alternatively, if the Format(axis) string were set to &#x201C;s.3&#x201D; (producing only an arc-seconds field), then
formatted input would be interpreted by astUnformat as follows:
     <div class="quote">
     <div class="tabular"> <table id="TBL-10" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-10-1g"><col 
id="TBL-10-1"><col 
id="TBL-10-2"><col 
id="TBL-10-3"></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-10-1-"><td  style="text-align:left; white-space:nowrap;" id="TBL-10-1-1"  
class="td11"> 12.8   </td><td  style="text-align:left; white-space:nowrap;" id="TBL-10-1-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-10-1-3"  
class="td11"> arc-seconds                                                </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-2-"><td  style="text-align:left; white-space:nowrap;" id="TBL-10-2-1"  
class="td
11"> 12 13  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-10-2-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-10-2-3"  
class="td11"> arc-minutes and arc-seconds                  </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-3-"><td  style="text-align:left; white-space:nowrap;" id="TBL-10-3-1"  
class="td
11"> :12      </td><td  style="text-align:left; white-space:nowrap;" id="TBL-10-3-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-10-3-3"  
class="td11"> arc-seconds                                                </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-4-"><td  style="text-align:left; white-space:nowrap;" id="TBL-10-4-1"  
class="td11"> 13: </td> <td  style="text-align:left; white-space:nowrap;" id="TBL-10-4-2"  
class="td11"> &#x2013; </td> <td  style="text-align:left; white-space:nowrap;" id="TBL-10-4-3"  
class="td11"> arc-minutes</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-10-5-"><td  style="text-align:left; white-space:nowrap;" id="TBL-10-5-1"  
class="td11"> 1 2 3   </td><td  style="text-align:left; white-space:nowrap;" id="TBL-10-5-2"  
class="td11"> &#x2013;  </td><td  style="text-align:left; white-space:nowrap;" id="TBL-10-5-3"  
class="td11"> degrees, arc-minutes and arc-seconds  </td></tr></table>
     </div></div>
<!--l. 5308--><p class="noindent" >In general, if you are preparing formatted input data containing celestial coordinates and wish to omit
certain fields, then you are advised to identify clearly those that you do provide by using the
appropriate field identification characters and/or extra colon separators. This prevents you
depending on the implicit field identification described above which, in turn, depends on an
appropriate Format(axis) string having been set.
<!--l. 5316--><p class="noindent" >When writing software, it is also a good idea to set the Format(axis) string so that data input will be as
simple as possible for the user. Unless some special effect is desired, this normally means that it
should contain &#x201C;d&#x201D; or &#x201C;h&#x201D; to ensure that the first field entered by the user will be interpreted as
degrees or hours, unless otherwise identified. This is the normal behaviour unless an explicit
Format(axis) value has been set to override the default.
<a 
 id="x9-97001r109"></a>
<h4 class="subsectionHead"><span class="titlemark">8.8    </span> <a 
 id="x9-980008"></a>Representing Offsets from a Specified Sky Position</h4>
<!--l. 5325--><p class="noindent" >A <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> can be modified so that its longitude and latitude axes are referred to an origin at any
                                                                                       

                                                                                       
specified sky position. Such a coordinate system is referred to as an &#x201C;offset&#x201D; coordinate system. First,
the <a 
href="sun211ss413.html#x439-6310000">System</a> attribute should be set to represent the celestial coordinate system in which the origin is to
be specified. Then the SkyRef attribute should be set to hold the coordinates of the origin within the
selected celestial coordinate system.
<!--l. 5333--><p class="noindent" >By default, &#x201C;north&#x201D; in the new offset coordinate system is parallel to north in the original celestial
coordinate system. However, the direction of north in the offset system can be controlled by
assigning a value to the SkyRefP attribute. This attribute should be assigned the celestial
coordinates of a point which is on the zero longitude meridian and which has non-zero
latitude.
<!--l. 5340--><p class="noindent" >By default, the position given by the SkyRef attribute is used as the origin of the new longitude/latitude
system, but an option exists to use it as the north pole of the system instead. This option is controlled
by the <a 
href="sun211ss395.html#x421-6130000">SkyRefIs</a> attribute. The choice of value for SkyRefIs depends on what sort of offset coordinate
system you want. Setting SkyRefIs to &#x201C;Origin&#x201D; (the default) produces an offset coordinate system
which is approximately Cartesian close to the specified position. Setting SkyRefIs to &#x201C;Pole&#x201D;
produces an offset coordinate system which is approximately Polar close to the specified
position.
                                                                                       

                                                                                       
<!--l. 5351--><p class="noindent" >
                                                                                       

                                                                                       
                                                                                       

                                                                                       
<div class="footnotes"><!--l. 4835--><p class="noindent" ><span class="footnote-mark"><a 
href="#fn16x0-bk" id="fn16x0"><sup class="textsuperscript">16</sup></a></span>The units used for the internal floating-point representation of an axis value can be determined by examining the
InternalUnit attribute of the Frame. For most Frames, the Unit and InternalUnit attributes will be equal, but InternalUnit is
always set to &#x201C;<code>rad</code>&#x201D; for SkyFrames.                                                            </div> <div class="crosslinks">
<div class="copyright"><span class="pushright">Copyright (C) 2014 Science &#x0026; Technology Facilities Council</span></div> <ul class='nav'> <li class="prev"> <a 
href="sun211se7.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for Handling<BR>World
Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211se9.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li> </ul></div>
<!--l. 5352--><p class="noindent" ><a 
 id="tailsun211se8.html"></a> 
</body> 
</html>