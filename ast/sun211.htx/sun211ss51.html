<!DOCTYPE html> 
<html> 
<head><title> astFindFits </title> 
<meta charset=utf-8/> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<link rel="stylesheet" type="text/css" href="sun211.css" /> 
 <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=MML_HTMLorMML"></script><style type="text/css">.MathJax_MathML {text-indent: 0;}</style></head><body 
>
<div class="sstrefsection"><div class="crosslinks"><ul class='nav'> <li class="prev"> <a 
href="sun211ss50.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211ss52.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li>
</ul></div>
<!--l. 15006--><p class="noindent" ><header class="sstreftitle"><h3 class="sstsectitle"><a 
 id="x76-2680000"></a> astFindFits </h3>  <p class="subtitle"> Find a FITS card in a FitsChan by keyword  </p> </h3> </header><a 
 id="Q1-76-386"></a> <a 
 id="Q1-76-387"></a> <a name="xref_astFindFits"></a>  <h4 class="ssth4">Description: </h4><div class="sstvalues"> This
function searches for a card in a <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> by keyword. The search commences at the
                                                                                       

                                                                                       
current card (identified by the <a 
href="sun211ss258.html#x284-4760000">Card</a> attribute) and ends when a card is found whose
FITS keyword matches the template supplied, or when the last card in the FitsChan has
been searched.
<!--l. 15006--><p class="noindent" >If the search is successful (i.e. a card is found which matches the template),
the contents of the card are (optionally) returned and the Card attribute is
adjusted to identify the card found or, if required, the one following it. If the
search is not successful, the function returns zero and the Card attribute
is set to the <code>&#x0022;</code> end-of-file<code>&#x0022;</code> .  </div> <h4 class="ssth4">Synopsis </h4><div class="sstvalues"> int astFindFits( AstFitsChan
<!--l. 15006--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>this, const
char <!--l. 15006--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>name,
char card[ 81 ], int inc )  </div> <h4 class="ssth4">Parameters: </h4><div class="sstvalues"> <h5 class="ssth5"> this  </h5><div class="sstsub"> Pointer to the FitsChan.  </div> <h5 class="ssth5"> name  </h5><div class="sstsub">
Pointer to a null-terminated character string containing a template for the keyword to
be found. In the simplest case, this should simply be the keyword name (the search is
case insensitive and trailing spaces are ignored). However, this template may also
contain <code>&#x0022;</code> field specifiers<code>&#x0022;</code> which are capable of matching a range of characters (see
the <code>&#x0022;</code> Keyword Templates<code>&#x0022;</code> section for details). In this case, the first card with a
keyword which matches the template will be found. To find the next FITS card regardless
of its keyword, you should use the template <code>&#x0022;</code> %f<code>&#x0022;</code> .  </div> <h5 class="ssth5"> card  </h5><div class="sstsub"> An array of at least
81 characters (to allow room for a terminating null) in which the FITS card
which is found will be returned. If the search is not successful (or a NULL
pointer is given), a card will not be returned.  </div> <h5 class="ssth5"> inc  </h5><div class="sstsub"> If this value is zero
(and the search is successful), the FitsChan<code>&#x2019;</code> s Card attribute will be set to
the index of the card that was found. If it is non-zero, however, the Card
attribute will be incremented to identify the card which follows the one found.  </div>  </div>
<h4 class="ssth4">Returned Value </h4><div class="sstvalues"> <h5 class="ssth5"> astFindFits()  </h5><div class="sstsub"> One if the search was successful, otherwise zero.
</div>  </div> <h4 class="ssth4">Examples: </h4><div class="sstvalues"> <dl class="sstexamplesubsection"> result = astFindFits( fitschan, <code>&#x0022;</code> %f<code>&#x0022;</code> , card, 1 );  </dl><dd class="sst"> Returns
the current card in a FitsChan and advances the Card attribute to identify
the card that follows (the <code>&#x0022;</code> %f<code>&#x0022;</code> template matches any keyword).  </dd> <dl class="sstexamplesubsection"> result =
astFindFits( fitschan, <code>&#x0022;</code> BITPIX<code>&#x0022;</code> , card, 1 );  </dl><dd class="sst"> Searches a FitsChan for a FITS card
with the <code>&#x0022;</code> BITPIX<code>&#x0022;</code> keyword and returns that card. The Card attribute is then
incremented to identify the card that follows it.  </dd> <dl class="sstexamplesubsection"> result = astFindFits( fitschan,
<code>&#x0022;</code> COMMENT<code>&#x0022;</code> , NULL, 0 );  </dl><dd class="sst"> Sets the Card attribute of a FitsChan to identify
the next COMMENT card (if any). The card itself is not returned.  </dd> <dl class="sstexamplesubsection"> result =
astFindFits( fitschan, <code>&#x0022;</code> CRVAL%1d<code>&#x0022;</code> , card, 1 );  </dl><dd class="sst"> Searches a FitsChan for the next
card with a keyword of the form <code>&#x0022;</code> CRVALi<code>&#x0022;</code> (for example, any of the keywords <code>&#x0022;</code>
CRVAL1<code>&#x0022;</code> , <code>&#x0022;</code> CRVAL2<code>&#x0022;</code> or <code>&#x0022;</code> CRVAL3<code>&#x0022;</code> would be matched). The card found (if any) is
returned, and the Card attribute is then incremented to identify the following card
(ready to search for another keyword with the same form, perhaps).  </dd>  </div> <h4 class="ssth4">Notes: </h4><div class="sstvalues">
<ul class="sstitemlist">
<li >
<!--l. 15006--><p class="noindent" >The search always starts with the current card, as identified by the Card attribute. To
ensure you search the entire contents of a FitsChan, you should first clear the Card
attribute (using <a 
href="sun211ss21.html#x46-2380000">astClear</a>). This effectively <code>&#x0022;</code> rewinds<code>&#x0022;</code> the FitsChan.
<li >
<!--l. 15006--><p class="noindent" >If a search is unsuccessful, the Card attribute is set to the <code>&#x0022;</code> end-of-file<code>&#x0022;</code> (i.e. to
one more than the number of cards in the FitsChan). No error occurs.
<li >
                                                                                       

                                                                                       
<!--l. 15006--><p class="noindent" >A value of zero will be returned if this function is invoked with the AST error status
set, or if it should fail for any reason.  </li></ul>  </div> <h4 class="ssth4"> Keyword Templates  </h4><div class="sstvalues"> The templates used
to match FITS keywords are normally composed of literal characters, which must match
the keyword exactly (apart from case). However, a template may also contain <code>&#x0022;</code> field
specifiers<code>&#x0022;</code> which can match a range of possible characters. This allows you to search
for keywords that contain (for example) numbers, where the digits comprising the number
are not known in advance.
<!--l. 15006--><p class="noindent" >A field specifier starts with a <code>&#x0022;</code> %<code>&#x0022;</code> character. This is followed by an optional single
digit (0 to 9) specifying a field width. Finally, there is a single character which
specifies the
<!--l. 15006--><p class="noindent" >type of character to be matched, as follows:
<ul class="sstitemlist">
<li >
<!--l. 15006--><p class="noindent" ><code>&#x0022;</code> c<code>&#x0022;</code> : matches all upper case letters,
<li >
<!--l. 15006--><p class="noindent" ><code>&#x0022;</code> d<code>&#x0022;</code> : matches all decimal digits,
<li >
<!--l. 15006--><p class="noindent" ><code>&#x0022;</code> f<code>&#x0022;</code> : matches all characters which are permitted within a FITS keyword (upper case
letters, digits, underscores and hyphens).
</li>
</ul>
<!--l. 15006--><p class="noindent" >If the field width is omitted, the field specifier matches one or more characters. If
the field width is zero, it matches zero or more characters. Otherwise, it matches
exactly the number of
<!--l. 15006--><p class="noindent" >characters specified. In addition to this:
<ul class="sstitemlist">
<li >
<!--l. 15006--><p class="noindent" >The template <code>&#x0022;</code> %f<code>&#x0022;</code> will match a blank FITS keyword consisting of 8 spaces (as well as
matching all other keywords).
<li >
<!--l. 15006--><p class="noindent" >A template consisting of 8 spaces will match a blank keyword (only).
</li>
</ul>
<!--l. 15006--><p class="noindent" >For example:
<ul class="sstitemlist">
<li >
<!--l. 15006--><p class="noindent" >The template <code>&#x0022;</code> BitPix<code>&#x0022;</code> will match the keyword <code>&#x0022;</code> BITPIX<code>&#x0022;</code> only.
<li >
<!--l. 15006--><p class="noindent" >The template <code>&#x0022;</code> crpix%1d<code>&#x0022;</code> will match keywords consisting of <code>&#x0022;</code> CRPIX<code>&#x0022;</code> followed by one
decimal digit.
<li >
<!--l. 15006--><p class="noindent" >The template <code>&#x0022;</code> P%c<code>&#x0022;</code> will match any keyword starting with <code>&#x0022;</code> P<code>&#x0022;</code> and followed by one or
more letters.
                                                                                       

                                                                                       
<li >
<!--l. 15006--><p class="noindent" >The template <code>&#x0022;</code> E%0f<code>&#x0022;</code> will match any keyword beginning with <code>&#x0022;</code> E<code>&#x0022;</code> .
<li >
<!--l. 15006--><p class="noindent" >The template <code>&#x0022;</code> %f<code>&#x0022;</code> will match any keyword at all (including a blank one).  </li></ul>
</div><div class="crosslinks"> <div class="copyright"><span class="pushright">Copyright (C) 2014 Science &#x0026; Technology Facilities Council</span></div> <ul class='nav'> <li class="prev"> <a 
href="sun211ss50.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for
Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211ss52.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li> </ul></div>
<!--l. 33670--><p class="noindent" ><a 
 id="tailsun211ss51.html"></a> </div> 
</body> 
</html>