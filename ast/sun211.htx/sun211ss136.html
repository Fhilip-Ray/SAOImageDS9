<!DOCTYPE html> 
<html> 
<head><title> astPcdMap </title> 
<meta charset=utf-8/> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<link rel="stylesheet" type="text/css" href="sun211.css" /> 
 <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=MML_HTMLorMML"></script><style type="text/css">.MathJax_MathML {text-indent: 0;}</style></head><body 
>
<div class="sstrefsection"><div class="crosslinks"><ul class='nav'> <li class="prev"> <a 
href="sun211ss135.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211ss137.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li>
</ul></div>
<!--l. 22950--><p class="noindent" ><header class="sstreftitle"><h3 class="sstsectitle"><a 
 id="x161-3530000"></a> astPcdMap </h3>  <p class="subtitle"> Create a PcdMap  </p> </h3> </header><a 
 id="Q1-161-641"></a> <a 
 id="Q1-161-642"></a> <a name="xref_astPcdMap"></a>  <h4 class="ssth4">Description: </h4><div class="sstvalues"> This function creates a new <a 
href="sun211ss465.html#x492-6840000">PcdMap</a>
and optionally initialises its attributes.
<!--l. 22950--><p class="noindent" >A PcdMap is a non-linear <a 
href="sun211ss459.html#x486-6780000">Mapping</a> which transforms 2-dimensional positions to correct
for the radial distortion introduced by some cameras and telescopes. This can take the
form either of pincushion or barrel distortion, and is characterized by a single
distortion coefficient.
<!--l. 22950--><p class="noindent" >A PcdMap is specified by giving this distortion coefficient and the coordinates of the
centre of the radial distortion. The forward transformation of a PcdMap applies the
distortion:
<!--l. 22950--><p class="noindent" >RD = R <!--l. 22950--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math> (
1 <!--l. 22950--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math>  C
<!--l. 22950--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math> R
<!--l. 22950--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math> R
)
<!--l. 22950--><p class="noindent" >where R is the undistorted radial distance from the distortion centre (specified
by attribute PcdCen), RD is the radial distance from the same centre in the
presence of distortion, and C is the distortion coefficient (given by attribute
<a 
href="sun211ss278.html#x304-4960000">Disco</a>).
<!--l. 22950--><p class="noindent" >The inverse transformation of a PcdMap removes the distortion produced by the forward
transformation. The expression used to derive R from RD is an approximate inverse of
the expression above, obtained from two iterations of the Newton-Raphson method. The
mismatch between the forward and inverse expressions is negligible for astrometric
applications (to reach 1 milliarcsec at the edge of the Anglo-Australian Telescope
triplet or a Schmidt field would require field diameters of 2.4 and 42 degrees
respectively).
<!--l. 22950--><p class="noindent" >If a PcdMap is inverted (e.g. using <a 
href="sun211ss94.html#x119-3110000">astInvert</a>) then the roles of the forward and
inverse transformations are reversed; the forward transformation will remove the
distortion, and the inverse transformation will apply it.  </div> <h4 class="ssth4">Synopsis </h4><div class="sstvalues"> AstPcdMap
<!--l. 22950--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>astPcdMap(
double disco, const double pcdcen[2], const char
<!--l. 22950--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>options,
... )  </div> <h4 class="ssth4">Parameters: </h4><div class="sstvalues"> <h5 class="ssth5"> disco  </h5><div class="sstsub"> The distortion coefficient. Negative values give barrel
                                                                                       

                                                                                       
distortion, positive values give pincushion distortion, and zero gives no distortion.  </div>
<h5 class="ssth5"> pcdcen  </h5><div class="sstsub"> A 2-element array containing the coordinates of the centre of the
distortion.  </div> <h5 class="ssth5"> options  </h5><div class="sstsub"> Pointer to a null-terminated string containing an
optional comma-separated list of attribute assignments to be used for initialising
the new PcdMap. The syntax used is identical to that for the <a 
href="sun211ss177.html#x202-3940000">astSet</a> function
and may include <code>&#x0022;</code> printf<code>&#x0022;</code> format specifiers identified by <code>&#x0022;</code> %<code>&#x0022;</code> symbols in the
normal way.  </div> <h5 class="ssth5"> ...  </h5><div class="sstsub"> If the <code>&#x0022;</code> options<code>&#x0022;</code> string contains <code>&#x0022;</code> %<code>&#x0022;</code> format specifiers,
then an optional list of additional arguments may follow it in order to supply
values to be substituted for these specifiers. The rules for supplying these are
identical to those for the astSet function (and for the C <code>&#x0022;</code> printf<code>&#x0022;</code> function).
</div>  </div> <h4 class="ssth4">Returned Value </h4><div class="sstvalues"> <h5 class="ssth5"> astPcdMap()  </h5><div class="sstsub"> A pointer to the new PcdMap.  </div>  </div> <h4 class="ssth4">Notes: </h4><div class="sstvalues">
<ul class="sstitemlist">
<li >
<!--l. 22950--><p class="noindent" >A null <a 
href="sun211ss464.html#x491-6830000">Object</a> pointer (AST__NULL) will be returned if this function is invoked
with the AST error status set, or if it should fail for any reason.  </li></ul>  </div>
<h4 class="ssth4"> Status Handling  </h4><div class="sstvalues"> The protected interface to this function includes an
extra parameter at the end of the parameter list descirbed above. This
parameter is a pointer to the integer inherited status variable: <code>&#x0022;</code> int
<!--l. 22950--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>status<code>&#x0022;</code> .
</div><div class="crosslinks"> <div class="copyright"><span class="pushright">Copyright (C) 2014 Science &#x0026; Technology Facilities Council</span></div> <ul class='nav'> <li class="prev"> <a 
href="sun211ss135.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for
Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211ss137.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li> </ul></div>
<!--l. 33670--><p class="noindent" ><a 
 id="tailsun211ss136.html"></a> </div> 
</body> 
</html>