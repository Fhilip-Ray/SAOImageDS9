<!DOCTYPE html> 
<html> 
<head><title>Overview of AST Concepts</title> 
<meta charset=utf-8/> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<link rel="stylesheet" type="text/css" href="sun211.css" /> 
 <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=MML_HTMLorMML"></script><style type="text/css">.MathJax_MathML {text-indent: 0;}</style></head><body 
>
<div class="crosslinks"><ul class='nav'> <li class="prev"> <a 
href="sun211se1.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211se3.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li>
</ul></div>
<h3 class="sectionHead"><span class="titlemark">2    </span> <a 
 id="x3-70002"></a>Overview of AST Concepts</h3>
<div class="sectionTOCS">
&#x00A0;<span class="subsectionToc" >2.1 <a 
href="#x3-80001">Relationships Between Coordinate Systems</a></span>
<br />&#x00A0;<span class="subsectionToc" >2.2 <a 
href="#x3-90002">Mappings Available</a></span>
<br />&#x00A0;<span class="subsectionToc" >2.3 <a 
href="#x3-100003">Compound Mappings</a></span>
<br />&#x00A0;<span class="subsectionToc" >2.4 <a 
href="#x3-110004">Representing Coordinate Systems</a></span>
<br />&#x00A0;<span class="subsectionToc" >2.5 <a 
href="#x3-120005">Networks of Coordinate Systems</a></span>
<br />&#x00A0;<span class="subsectionToc" >2.6 <a 
href="#x3-130006">Input/Output Facilities</a></span>
<br />&#x00A0;<span class="subsectionToc" >2.7 <a 
href="#x3-140007">Producing Graphical Output</a></span>
</div>
<!--l. 249--><p class="noindent" >This section presents a brief overview of AST concepts. It is intended as a basic orientation course
before you move on to the more technical considerations in subsequent sections.
<a 
 id="x3-7001r8"></a>
<h4 class="subsectionHead"><span class="titlemark">2.1    </span> <a 
 id="x3-80001"></a>Relationships Between Coordinate Systems</h4>
<!--l. 255--><p class="noindent" >The relationships between coordinate systems are represented in AST by Objects called Mappings. A
<a 
href="sun211ss459.html#x486-6780000">Mapping</a> does not represent a coordinate system itself, but merely the process by which you move
from one coordinate system to another related one.
<!--l. 260--><p class="noindent" >A convenient picture of a Mapping is as a &#x201C;black box&#x201D; (Figure&#x00A0;<a 
href="#x3-80011">1<!--tex4ht:ref: fig:mapping --></a>) into which you can feed sets of
coordinates. <hr class="figure"><div class="figure" 
>
                                                                                       

                                                                                       
<a 
 id="x3-80011"></a>
                                                                                       

                                                                                       
<div class="center">
<img 
src="sun211_figures/mapping.png" alt="pdfpict"  
 width="70%" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;1: </span><span  
class="content">A Mapping viewed as a &#x201C;black box&#x201D; for transforming coordinates.</span></div><!--tex4ht:label?: x3-80011 -->
</div>
                                                                                       

                                                                                       
<!--l. 269--><p class="noindent" ></div><hr class="endfigure">
<!--l. 271--><p class="noindent" >For each set you feed in, the Mapping returns a corresponding set of transformed coordinates. Since
each set of coordinates represents a point in a coordinate space, the Mapping acts to inter-relate
corresponding positions in the two spaces, although what these spaces represent is unspecified.
Notice that a Mapping need not have the same number of input and output coordinates.
That is, the two coordinate spaces which it inter-relates need not have the same number of
dimensions.
<!--l. 280--><p class="noindent" >In many cases, the transformation can, in principle, be performed in either direction: either from the
<em>input</em> coordinate space to the <em>output</em>, or <em>vice versa</em>. The first of these is termed the <em>forward</em>
transformation and the other the <em>inverse</em> transformation.
<!--l. 287--><p class="noindent" ><b>Further reading:</b> For a more complete discussion of Mappings, see&#x00A0;&#x00A7;<a 
href="sun211se5.html#x6-530005">5<!--tex4ht:ref: ss:mappings --></a>.
<a 
 id="x3-8002r10"></a>
<h4 class="subsectionHead"><span class="titlemark">2.2    </span> <a 
 id="x3-90002"></a>Mappings Available</h4>
<!--l. 292--><p class="noindent" >The basic concept of a <a 
href="sun211ss459.html#x486-6780000">Mapping</a> (&#x00A7;<a 
href="#x3-80001">2.1<!--tex4ht:ref: ss:mappingoverview --></a>) is rather generic and obviously it is necessary to have specific
Mappings that implement specific relationships between coordinate systems. AST provides a range
of these, to perform transformations such as the following and, where appropriate, their
inverses:
     <ul class="itemize1">
     <li class="itemize">Conversions between various celestial coordinate systems (the <a 
href="sun211ss479.html#x506-6980000">SlaMap</a>).
     </li>
     <li class="itemize">Conversions between various spectral coordinate systems (the <a 
href="sun211ss482.html#x509-7010000">SpecMap</a> and <a 
href="sun211ss454.html#x481-6730000">GrismMap</a>).
     </li>
     <li class="itemize">Conversions between various time systems (the <a 
href="sun211ss493.html#x520-7120000">TimeMap</a>).
     </li>
     <li class="itemize">Conversion   between   2-dimensional   spherical   celestial   coordinates   (longitude   and
     latitude) and a 3-dimensional vectorial positions (the <a 
href="sun211ss483.html#x510-7020000">SphMap</a>).
     </li>
     <li class="itemize">Various    projections    of    the    celestial    sphere    on    to    2-dimensional    coordinate
     spaces&#x2014;<em>i.e.</em>&#x00A0;map projections (the <a 
href="sun211ss447.html#x474-6660000">DssMap</a> and <a 
href="sun211ss497.html#x524-7160000">WcsMap</a>).
     </li>
     <li class="itemize">Permutation, introduction and elimination of coordinates (the <a 
href="sun211ss466.html#x493-6850000">PermMap</a>).
     </li>
     <li class="itemize">Various  linear  coordinate  transformations  (the  <a 
href="sun211ss461.html#x488-6800000">MatrixMap</a>,  <a 
href="sun211ss498.html#x525-7170000">WinMap</a>,  <a 
href="sun211ss476.html#x503-6950000">ShiftMap</a>  and
     <a 
href="sun211ss500.html#x527-7190000">ZoomMap</a>).
     </li>
     <li class="itemize">General N-dimensional polynomial transformations (the <a 
href="sun211ss470.html#x497-6890000">PolyMap</a>).
     </li>
     <li class="itemize">Lookup tables (the <a 
href="sun211ss458.html#x485-6770000">LutMap</a>).
                                                                                       

                                                                                       
     </li>
     <li class="itemize">General-purpose  transformations  expressed  using  arithmetic  operations  and  functions
     similar to those available in C (the <a 
href="sun211ss460.html#x487-6790000">MathMap</a>).
     </li>
     <li class="itemize">Transformations  for  internal  use  within  a  program,  based  on  private  transformation
     functions which you write yourself in C (the <a 
href="sun211ss456.html#x483-6750000">IntraMap</a>).</li></ul>
<!--l. 332--><p class="noindent" ><b>Further reading:</b> For a more complete description of each of the Mappings mentioned above,
see its entry in Appendix&#x00A0;<a 
href="sun211se26.html#x465-6570004">D<!--tex4ht:ref: ss:classdescriptions --></a>. In addition, see the discussion of the PermMap in &#x00A7;<a 
href="sun211se5.html#x6-6400011">5.11<!--tex4ht:ref: ss:permmapexample --></a>, the
<a 
href="sun211ss495.html#x522-7140000">UnitMap</a> in &#x00A7;<a 
href="sun211se5.html#x6-6300010">5.10<!--tex4ht:ref: ss:unitmapexample --></a> and the IntraMap in &#x00A7;<a 
href="sun211se20.html#x21-18300020">20<!--tex4ht:ref: ss:intramaps --></a>. The ZoomMap is used as an example throughout
&#x00A7;<a 
href="sun211se4.html#x5-340004">4<!--tex4ht:ref: ss:primer --></a>.
<a 
 id="x3-9001r12"></a>
<h4 class="subsectionHead"><span class="titlemark">2.3    </span> <a 
 id="x3-100003"></a>Compound Mappings</h4>
<!--l. 342--><p class="noindent" >The Mappings described in &#x00A7;<a 
href="#x3-90002">2.2<!--tex4ht:ref: ss:mappingselection --></a> provide a set of basic building blocks from which more complex
Mappings may be constructed. The key to doing this is a type of <a 
href="sun211ss459.html#x486-6780000">Mapping</a> called a <a 
href="sun211ss444.html#x471-6630000">CmpMap</a>, or
compound Mapping. A CmpMap&#x2019;s role is, in principle, very simple: it allows any other pair of
Mappings to be joined together into a single entity which behaves as if it were a single Mapping. A
CmpMap is therefore a container for another pair of Mappings.
<!--l. 350--><p class="noindent" >A pair of Mappings may be combined using a CmpMap in either of two ways. The first of these, <em>in
series</em>, is illustrated in Figure&#x00A0;<a 
href="#x3-100012">2<!--tex4ht:ref: fig:seriescmpmap --></a>. <hr class="figure"><div class="figure" 
>
                                                                                       

                                                                                       
<a 
 id="x3-100012"></a>
                                                                                       

                                                                                       
<div class="center">
<img 
src="sun211_figures/series.png" alt="pdfpict"  
 width="70%" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;2: </span><span  
class="content">A CmpMap (compound Mapping) composed of two component Mappings joined
in series. The output coordinates of the first Mapping feed into the input coordinates of the
second one, so that the whole entity behaves like a single Mapping.</span></div><!--tex4ht:label?: x3-100012 -->
</div>
                                                                                       

                                                                                       
<!--l. 362--><p class="noindent" ></div><hr class="endfigure">
<!--l. 365--><p class="noindent" >Here, the transformations implemented by each component Mapping are performed one after the
other, with the output from the first Mapping feeding into the second. The second way, <em>in parallel</em>, is
shown in Figure&#x00A0;<a 
href="#x3-100023">3<!--tex4ht:ref: fig:parallelcmpmap --></a>. <hr class="figure"><div class="figure" 
>
                                                                                       

                                                                                       
<a 
 id="x3-100023"></a>
                                                                                       

                                                                                       
<div class="center">
<img 
src="sun211_figures/parallel.png" alt="pdfpict"  
 width="50%" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;3:  </span><span  
class="content">A  CmpMap  composed  of  two  Mappings  joined  in  parallel.  Each  component
Mapping acts on a complementary subset of the input and output coordinates.</span></div><!--tex4ht:label?: x3-100023 -->
</div>
                                                                                       

                                                                                       
<!--l. 377--><p class="noindent" ></div><hr class="endfigure">
<!--l. 379--><p class="noindent" >In this case, each Mapping acts on a complementary subset of the input and output
coordinates.<span class="footnote-mark"><a 
href="#fn2x0" id="fn2x0-bk"><sup class="textsuperscript">2</sup></a></span><a 
 id="x3-10003f2"></a>
<!--l. 385--><p class="noindent" >The CmpMap forms the key to building arbitrarily complex Mappings because it is itself a form of
Mapping. This means that a CmpMap may contain other CmpMaps as components (<em>e.g.</em>&#x00A0;Figure&#x00A0;<a 
href="#x3-100044">4<!--tex4ht:ref: fig:complexcmpmap --></a>).
This nesting of CmpMaps can be repeated indefinitely, so that complex Mappings may be built in a
hierarchical manner out of simper ones. <hr class="figure"><div class="figure" 
>
                                                                                       

                                                                                       
<a 
 id="x3-100044"></a>
                                                                                       

                                                                                       
<div class="center">
<img 
src="sun211_figures/complex.png" alt="pdfpict"  
 width="65%" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;4:  </span><span  
class="content">CmpMaps  (compound  Mappings)  may  be  nested  in  order  to  construct  complex
Mappings out of simpler building blocks.</span></div><!--tex4ht:label?: x3-100044 -->
</div>
                                                                                       

                                                                                       
<!--l. 400--><p class="noindent" ></div><hr class="endfigure">
<!--l. 401--><p class="noindent" >This gives AST great flexibility in the coordinate transformations it can describe.
<!--l. 404--><p class="noindent" ><b>Further reading:</b> For a more complete description of CmpMaps, see &#x00A7;<a 
href="sun211se6.html#x7-650006">6<!--tex4ht:ref: ss:cmpmaps --></a>. Also see the CmpMap entry in
Appendix&#x00A0;<a 
href="sun211se26.html#x465-6570004">D<!--tex4ht:ref: ss:classdescriptions --></a>.
<a 
 id="x3-10005r13"></a>
<h4 class="subsectionHead"><span class="titlemark">2.4    </span> <a 
 id="x3-110004"></a>Representing Coordinate Systems</h4>
<!--l. 410--><p class="noindent" >While Mappings (&#x00A7;<a 
href="#x3-80001">2.1<!--tex4ht:ref: ss:mappingoverview --></a>) represent the relationships between coordinate systems in AST,
the coordinate systems themselves are represented by Objects called Frames (Figure&#x00A0;<a 
href="#x3-110015">5<!--tex4ht:ref: fig:frames --></a>).
<hr class="figure"><div class="figure" 
>
                                                                                       

                                                                                       
<a 
 id="x3-110015"></a>
                                                                                       

                                                                                       
<div class="center">
<img 
src="sun211_figures/frames.png" alt="pdfpict"  
 width="55%" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;5:  </span><span  
class="content">(a)  A  basic  Frame  is  used  to  represent  a  Cartesian  coordinate  system,  here
2-dimensional. (b) A <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> represents a (spherical) celestial coordinate system. (c) The axis
order of any <a 
href="sun211ss452.html#x479-6710000">Frame</a> may be permuted to match the coordinate space it describes.</span></div><!--tex4ht:label?: x3-110015 -->
</div>
                                                                                       

                                                                                       
<!--l. 423--><p class="noindent" ></div><hr class="endfigure">
<!--l. 425--><p class="noindent" >A Frame is similar in concept to the frame you might draw around a graph. It contains information
about the labels which appear on the axes, the axis units, a title, knowledge of how to format the
coordinate values on each axis, <em>etc.</em> An AST Frame is not, however, restricted to two dimensions and
may have any number of axes.
<!--l. 431--><p class="noindent" >A basic Frame may be used to represent a Cartesian coordinate system by setting values for its
<em>attributes</em> (all AST Objects have values associated with them called attributes, which may be
set and enquired). Usually, this would involve setting appropriate axis labels and units,
for example. Functions are provided for use with Frames to perform operations such as
formatting coordinate values as text, calculating distances between points, interchanging axes,
<em>etc.</em>
<!--l. 440--><p class="noindent" >There are several more specialised forms of Frame, which provide the additional functionality
required when handling coordinates within some specific physical domain. This ranges from tasks
such as formatting axis values, to complex tasks such as determining the transformation between any
pair of related coordinate systems. For instance, the SkyFrame (Figure&#x00A0;<a 
href="#x3-110015">5<!--tex4ht:ref: fig:frames --></a>b,c), represents celestial
coordinate systems, the <a 
href="sun211ss481.html#x508-7000000">SpecFrame</a> represents spectral coordinate systems, and the <a 
href="sun211ss492.html#x519-7110000">TimeFrame</a>
represents time coordinate systems. All these provide a wide range of different systems for describing
positions within their associated physical domain, and these may be selected by setting appropriate
attributes.
<!--l. 451--><p class="noindent" >As with compound Mappings (&#x00A7;<a 
href="#x3-100003">2.3<!--tex4ht:ref: ss:cmpmapoverview --></a>), it is possible to merge two Frames together to form a compound
Frame, or <a 
href="sun211ss443.html#x470-6620000">CmpFrame</a>, in which both sets of axes are combined. One could, for example, have celestial
coordinates on two axes and an unrelated coordinate (wavelength, perhaps) on a third (Figure&#x00A0;<a 
href="#x3-110026">6<!--tex4ht:ref: fig:cmpframe --></a>).
Knowledge of the relationships between the axes is preserved internally by the process of constructing
the CmpFrame which represents them. <hr class="figure"><div class="figure" 
>
                                                                                       

                                                                                       
<a 
 id="x3-110026"></a>
                                                                                       

                                                                                       
<div class="center">
<img 
src="sun211_figures/cmpframe.png" alt="pdfpict"  
 width="40%" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;6: </span><span  
class="content">A CmpFrame (compound Frame) formed by combining two simpler Frames. Note
how the special relationship which exists between the RA and Dec axes is preserved within this
data structure. As with compound Mappings (Figure&#x00A0;<a 
href="#x3-100044">4<!--tex4ht:ref: fig:complexcmpmap --></a>), CmpFrames may be nested in order
to build more complex Frames.</span></div><!--tex4ht:label?: x3-110026 -->
</div>
                                                                                       

                                                                                       
<!--l. 470--><p class="noindent" ></div><hr class="endfigure">
<!--l. 472--><p class="noindent" ><b>Further reading:</b> For a more complete description of Frames see &#x00A7;<a 
href="sun211se7.html#x8-730007">7<!--tex4ht:ref: ss:frames --></a>, for SkyFrames see &#x00A7;<a 
href="sun211se8.html#x9-900008">8<!--tex4ht:ref: ss:skyframes --></a> and for
SpecFrames see &#x00A7;<a 
href="sun211se9.html#x10-990009">9<!--tex4ht:ref: ss:specframes --></a>. Also see the Frame, SkyFrame, SpecFrame, TimeFrame and CmpFrame entries in
Appendix&#x00A0;<a 
href="sun211se26.html#x465-6570004">D<!--tex4ht:ref: ss:classdescriptions --></a>.
<a 
 id="x3-11003r17"></a>
<h4 class="subsectionHead"><span class="titlemark">2.5    </span> <a 
 id="x3-120005"></a>Networks of Coordinate Systems</h4>
<!--l. 479--><p class="noindent" >Mappings and Frames may be connected together to form networks called FrameSets, which are used
to represent sets of inter-related coordinate systems (Figure&#x00A0;<a 
href="#x3-120017">7<!--tex4ht:ref: fig:frameset --></a>). <hr class="figure"><div class="figure" 
>
                                                                                       

                                                                                       
<a 
 id="x3-120017"></a>
                                                                                       

                                                                                       
<div class="center">
<img 
src="sun211_figures/frameset.png" alt="pdfpict"  
 width="65%" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;7: </span><span  
class="content">A FrameSet is a network of Frames inter-connected by Mappings such that there is
exactly one conversion path, <em>via</em> Mappings, between any pair of Frames.</span></div><!--tex4ht:label?: x3-120017 -->
</div>
                                                                                       

                                                                                       
<!--l. 490--><p class="noindent" ></div><hr class="endfigure">
<!--l. 493--><p class="noindent" >A <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> may be extended by adding a new <a 
href="sun211ss452.html#x479-6710000">Frame</a> to it, together with an associated
<a 
href="sun211ss459.html#x486-6780000">Mapping</a> which relates the new coordinate system to one which is already present. This
process ensures that there is always exactly one path, <em>via</em> Mappings, between any pair
of Frames. A function is provided for identifying this path and returning the complete
Mapping.
<!--l. 500--><p class="noindent" >One of the Frames in a FrameSet is termed its <em>base</em> Frame. This underlies the FrameSet&#x2019;s purpose,
which is to calibrate datasets and other entities by attaching coordinate systems to them.
In this context, the base Frame represents the &#x201C;native&#x201D; coordinate system (for example,
the pixel coordinates of an image). Similarly, one Frame is termed the <em>current</em> Frame and
represents the &#x201C;currently-selected&#x201D; coordinates. It might, typically, be a celestial or spectral
coordinate system and would be used during interactions with a user, as when plotting axes on
a graph or producing a table of results. Other Frames within the FrameSet represent a
library of alternative coordinate systems which a software user can select by making them
current.
<!--l. 514--><p class="noindent" ><b>Further reading:</b> For a more complete description of FrameSets, see &#x00A7;<a 
href="sun211se13.html#x14-12200013">13<!--tex4ht:ref: ss:framesets --></a> and &#x00A7;<a 
href="sun211se14.html#x15-13300014">14<!--tex4ht:ref: ss:fshigher --></a>. Also see the
FrameSet entry in Appendix&#x00A0;<a 
href="sun211se26.html#x465-6570004">D<!--tex4ht:ref: ss:classdescriptions --></a>.
<a 
 id="x3-12002r20"></a>
<h4 class="subsectionHead"><span class="titlemark">2.6    </span> <a 
 id="x3-130006"></a>Input/Output Facilities</h4>
<!--l. 520--><p class="noindent" >AST allows you to convert any kind of <a 
href="sun211ss464.html#x491-6830000">Object</a> into a stream of text which contains a full description of
that Object. This text may be written out by one program and read back in by another, thus allowing
the original Object to be reconstructed.
<!--l. 525--><p class="noindent" >The filter which converts Objects into text and back again is itself a kind of Object, called a
<a 
href="sun211ss441.html#x468-6600000">Channel</a>. A Channel provides a number of options for controlling the information content of
the text, such as the addition of comments for human interpretation. It is also possible
to intercept the text being processed by a Channel so that it may be redirected to/from
any chosen external data store, such as a text file, an astronomical dataset, or a network
connection.
<!--l. 533--><p class="noindent" >The text format used by the basic Channel class is peculiar to the AST library - no other software will
understand it. However, more specialised forms of Channel are provided which use text formats more
widely understood.
<!--l. 538--><p class="noindent" >To further facilitate the storage of coordinate system information in astronomical datasets, a more
specialised form of Channel called a <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> is provided. Instead of using free-format text, a
FitsChan converts AST Objects to and from FITS header cards. It also allows the information to be
encoded in the FITS cards in a number of ways (called <em>encodings</em>), so that WCS information from a
variety of sources can be handled.
<!--l. 546--><p class="noindent" >Another sub-class of Channel, called <a 
href="sun211ss499.html#x526-7180000">XmlChan</a>, is a specialised form of Channel that stores
the text in the form of XML markup. Currently, two markup formats are provided by the
XmlChan class, one is closely related to the text format produced by the basic Channel class
(currently, no schema or DTD is available describing this format). The other is a subset of an
early draft of the IVOA Space-Time-Coordinates XML (STC-X) schema (V1.20) described at
<a 
href="http://www.ivoa.net/Documents/WD/STC/STC-20050225.html" class="url" >http://www.ivoa.net/Documents/WD/STC/STC-_20050225.html</a><span class="footnote-mark"><a 
href="#fn3x0" id="fn3x0-bk"><sup class="textsuperscript">3</sup></a></span><a 
 id="x3-13001f3"></a>.
The version of STC-X that has been adopted by the IVOA differs in several significant respects from
V1.20, and therefore this XmlChan format is of historical interest only.
                                                                                       

                                                                                       
<!--l. 562--><p class="noindent" >Finally, the <a 
href="sun211ss489.html#x516-7080000">StcsChan</a> class provides facilities for reading and writing IVOA STC-S region
descriptions. STC-S (see <a 
href="http://www.ivoa.net/Documents/latest/STC-S.html" class="url" >http://www.ivoa.net/Documents/latest/STC-_S.html</a>) is a linear string
syntax that allows simple specification of STC metadata. AST supports a subset of the
STC-S specification, allowing an STC-S description of a region within an AST-supported
astronomical coordinate system to be converted into an equivalent AST <a 
href="sun211ss474.html#x501-6930000">Region</a> object, and
vice-versa.
<!--l. 570--><p class="noindent" ><b>Further reading:</b> For a more complete description of Channels see &#x00A7;<a 
href="sun211se15.html#x16-14100015">15<!--tex4ht:ref: ss:channels --></a> and for FitsChans see &#x00A7;<a 
href="sun211se16.html#x17-15700016">16<!--tex4ht:ref: ss:nativefits --></a> and
&#x00A7;<a 
href="sun211se17.html#x18-17200017">17<!--tex4ht:ref: ss:foreignfits --></a>. Also see the Channel and FitsChan entries in Appendix&#x00A0;<a 
href="sun211se26.html#x465-6570004">D<!--tex4ht:ref: ss:classdescriptions --></a> and the <a 
href="sun211ss284.html#x310-5020000">Encoding</a> entry in
Appendix&#x00A0;<a 
href="sun211se25.html#x266-4580003">C<!--tex4ht:ref: ss:attributedescriptions --></a>.
<a 
 id="x3-13002r22"></a>
<h4 class="subsectionHead"><span class="titlemark">2.7    </span> <a 
 id="x3-140007"></a>Producing Graphical Output</h4>
<!--l. 578--><p class="noindent" >Two dimensional graphical output is supported by a specialised form of <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> called a <a 
href="sun211ss467.html#x494-6860000">Plot</a>, whose
base <a 
href="sun211ss452.html#x479-6710000">Frame</a> corresponds with the native coordinates of the underlying graphics system. Plotting
operations are specified in <em>physical coordinates</em> which correspond with the Plot&#x2019;s current Frame.
Typically, this might be a celestial coordinate system.
<!--l. 585--><p class="noindent" >Three dimensional plotting is also supported, via the <a 
href="sun211ss468.html#x495-6870000">Plot3D</a> class - sub-class of Plot.
<!--l. 588--><p class="noindent" >Operations, such as drawing lines, are automatically transformed from physical to graphical
coordinates before plotting, using an adaptive algorithm which ensures smooth curves (because the
transformation is usually non-linear). &#x201C;Missing&#x201D; coordinates (<em>e.g.</em>&#x00A0;graphical coordinates which do not
project on to the celestial sphere), discontinuities and generalised clipping are all consistently handled.
It is possible, for example, to plot in equatorial coordinates and clip in galactic coordinates. The usual
plotting operations are provided (text, markers), but a geodesic curve replaces the primitive straight
line element. There is also a separate function for drawing axis lines, since these are normally not
geodesics.
<!--l. 600--><p class="noindent" >In addition to drawing coordinate grids over an area of the sky, another common use of the Plot class
is to produce line plots such as flux against wavelength, displacement again time, <em>etc</em>. For these
situations the current Frame of the Plot would be a compound Frame (<a 
href="sun211ss443.html#x470-6620000">CmpFrame</a>) containing a pair
of 1-dimensional Frames - the first representing the X axis quantity (wavelength, time, etc), and the
second representing the Y axis quantity (flux, displacement, etc). The Plot class includes an option for
axes to be plotted logarithmically.
<!--l. 609--><p class="noindent" >Perhaps the most useful graphics function available is for drawing fully annotated coordinate grids
(<em>e.g.</em>&#x00A0;Figure&#x00A0;<a 
href="#x3-140018">8<!--tex4ht:ref: fig:gridplot --></a>). <hr class="figure"><div class="figure" 
>
                                                                                       

                                                                                       
<a 
 id="x3-140018"></a>
                                                                                       

                                                                                       
<div class="center">
<img 
src="sun211_figures/gridplot_bw.png" alt="pdfpict"  
 width="60%" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;8: </span><span  
class="content">A labelled coordinate grid for an all-sky zenithal equal area projection in ecliptic
coordinates. This was composed and drawn <em>via</em> a Plot using a single function call.</span></div><!--tex4ht:label?: x3-140018 -->
</div>
                                                                                       

                                                                                       
<!--l. 621--><p class="noindent" ></div><hr class="endfigure">
<!--l. 623--><p class="noindent" >This uses a general algorithm which does not depend on knowledge of the coordinates being
represented, so can also handle programmer-defined coordinate systems. Grids for all-sky projections,
including polar regions, can be drawn and most aspects of the output (colour, line style, <em>etc.</em>) can be
adjusted by setting appropriate Plot attributes.
<!--l. 630--><p class="noindent" ><b>Further reading:</b> For a more complete description of Plots and how to produce graphical output, see
&#x00A7;<a 
href="sun211se21.html#x22-19600021">21<!--tex4ht:ref: ss:plots --></a>. Also see the Plot entry in Appendix&#x00A0;<a 
href="sun211se26.html#x465-6570004">D<!--tex4ht:ref: ss:classdescriptions --></a>.
                                                                                       

                                                                                       
                                                                                       

                                                                                       
<div class="footnotes"><!--l. 383--><p class="noindent" ><span class="footnote-mark"><a 
href="#fn2x0-bk" id="fn2x0"><sup class="textsuperscript">2</sup></a></span>A pair of Mappings can be combined in a third way using a <a 
href="sun211ss494.html#x521-7130000">TranMap</a>. A TranMap allows the forward
transformation of one Mapping to be combined with the inverse transformation of another to produce a single
Mapping.
<!--l. 558--><p class="noindent" ><span class="footnote-mark"><a 
href="#fn3x0-bk" id="fn3x0"><sup class="textsuperscript">3</sup></a></span>XML documents which use only the subset of the STC schema supported by AST can be read by the XmlChan class to
produce corresponding AST objects (subclasses of the <a 
href="sun211ss484.html#x511-7030000">Stc</a> class). However, the reverse is not possible. That is, AST objects
can not currently be written out in the form of STC documents.                                       </div> <div class="crosslinks">
<div class="copyright"><span class="pushright">Copyright (C) 2014 Science &#x0026; Technology Facilities Council</span></div> <ul class='nav'> <li class="prev"> <a 
href="sun211se1.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for Handling<BR>World
Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211se3.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li> </ul></div>
<!--l. 635--><p class="noindent" ><a 
 id="tailsun211se2.html"></a> 
</body> 
</html>