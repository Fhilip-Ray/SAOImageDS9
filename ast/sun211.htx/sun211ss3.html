<!DOCTYPE html> 
<html> 
<head><title> astAddFrame </title> 
<meta charset=utf-8/> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<link rel="stylesheet" type="text/css" href="sun211.css" /> 
 <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=MML_HTMLorMML"></script><style type="text/css">.MathJax_MathML {text-indent: 0;}</style></head><body 
>
<div class="sstrefsection"><div class="crosslinks"><ul class='nav'> <li class="prev"> <a 
href="sun211ss2.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211ss4.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li>
</ul></div>
<!--l. 11309--><p class="noindent" ><header class="sstreftitle"><h3 class="sstsectitle"><a 
 id="x28-2200000"></a> astAddFrame </h3>  <p class="subtitle"> Add a Frame to a FrameSet to define a new coordinate system  </p> </h3> </header><a 
 id="Q1-28-242"></a> <a 
 id="Q1-28-243"></a> <a name="xref_astAddFrame"></a>
<h4 class="ssth4">Description: </h4><div class="sstvalues"> This function adds a new <a 
href="sun211ss452.html#x479-6710000">Frame</a> and an associated <a 
href="sun211ss459.html#x486-6780000">Mapping</a> to a
<a 
href="sun211ss453.html#x480-6720000">FrameSet</a> so as to define a new coordinate system, derived from one which already
exists within the FrameSet. The new Frame then becomes the FrameSet<code>&#x2019;</code> s current
Frame.
<!--l. 11309--><p class="noindent" >This function may also be used to merge two FrameSets, or to append extra axes
to every Frame in a FrameSet.  </div> <h4 class="ssth4">Synopsis </h4><div class="sstvalues"> void astAddFrame( AstFrameSet
<!--l. 11309--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>this, int iframe,
AstMapping <!--l. 11309--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>map,
AstFrame <!--l. 11309--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>frame
)  </div> <h4 class="ssth4">Parameters: </h4><div class="sstvalues"> <h5 class="ssth5"> this  </h5><div class="sstsub"> Pointer to the FrameSet.  </div> <h5 class="ssth5"> iframe  </h5><div class="sstsub"> The index of the Frame
within the FrameSet which describes the coordinate system upon which the new one is to
be based. This value should lie in the range from 1 to the number of Frames
already in the FrameSet (as given by its <a 
href="sun211ss352.html#x378-5700000">Nframe</a> attribute). As a special case,
AST__ALLFRAMES may be supplied, in which case the axes defined by the supplied Frame
are appended to every Frame in the FrameSet (see the Notes section for details).  </div> <h5 class="ssth5">
map  </h5><div class="sstsub"> Pointer to a Mapping which describes how to convert coordinates from
the old coordinate system (described by the Frame with index <code>&#x0022;</code> iframe<code>&#x0022;</code> ) into
coordinates in the new system. The Mapping<code>&#x2019;</code> s forward transformation should
perform this conversion, and its inverse transformation should convert in the
opposite direction. The supplied Mapping is ignored if parameter <code>&#x0022;</code> iframe<code>&#x0022;</code> is
equal to AST__ALLFRAMES.  </div> <h5 class="ssth5"> frame  </h5><div class="sstsub"> Pointer to a Frame that describes the new
coordinate system. Any class of Frame may be supplied (including Regions and
FrameSets).
<!--l. 11309--><p class="noindent" >This function may also be used to merge two FrameSets by supplying a pointer to a
second FrameSet for this parameter (see the Notes section for details).  </div>  </div> <h4 class="ssth4">Notes: </h4><div class="sstvalues">
<ul class="sstitemlist">
<li >
<!--l. 11309--><p class="noindent" >Deep copies of the supplied <code>&#x0022;</code> mapping<code>&#x0022;</code> and <code>&#x0022;</code> frame<code>&#x0022;</code> objects are stored within the
modified FrameSet. So any changes made to the FrameSet after calling this method will
have no effect on the supplied Mapping and Frame objects.
<li >
<!--l. 11309--><p class="noindent" >A value of AST__BASE or AST__CURRENT may be given for the <code>&#x0022;</code> iframe<code>&#x0022;</code> parameter to
specify the base Frame or the current Frame respectively.
<li >
<!--l. 11309--><p class="noindent" >This function sets the value of the <a 
href="sun211ss273.html#x299-4910000">Current</a> attribute for the FrameSet so that the new
Frame subsequently becomes the current Frame.
                                                                                       

                                                                                       
<li >
<!--l. 11309--><p class="noindent" >The number of input coordinate values accepted by the supplied Mapping (its
<a 
href="sun211ss353.html#x379-5710000">Nin</a> attribute) must match the number of axes in the Frame identified by the <code>&#x0022;</code>
iframe<code>&#x0022;</code> parameter. Similarly, the number of output coordinate values generated by
this Mapping (its <a 
href="sun211ss359.html#x385-5770000">Nout</a> attribute) must match the number of axes in the new
Frame.
<li >
<!--l. 11309--><p class="noindent" >As a special case, if a pointer to a FrameSet is given for the <code>&#x0022;</code> frame<code>&#x0022;</code> parameter, this
is treated as a request to merge a pair of FrameSets. This is done by appending all the
new Frames (in the <code>&#x0022;</code> frame<code>&#x0022;</code> FrameSet) to the original FrameSet, while preserving their
order and retaining all the inter-relationships (i.e. Mappings) between them. The
two sets of Frames are inter-related within the merged FrameSet by using the
Mapping supplied. This should convert between the Frame identified by the <code>&#x0022;</code>
iframe<code>&#x0022;</code> parameter (in the original FrameSet) and the current Frame of the <code>&#x0022;</code>
frame<code>&#x0022;</code> FrameSet. This latter Frame becomes the current Frame in the merged
FrameSet.
<li >
<!--l. 11309--><p class="noindent" >As another special case, if a value of AST__ALLFRAMES is supplied for parameter <code>&#x0022;</code>
iframe<code>&#x0022;</code> , then the supplied Mapping is ignored, and the axes defined by the supplied
Frame are appended to each Frame in the FrameSet. In detail, each Frame in the FrameSet
is replaced by a <a 
href="sun211ss443.html#x470-6620000">CmpFrame</a> containing the original Frame and the Frame specified by
parameter <code>&#x0022;</code> frame<code>&#x0022;</code> . In addition, each Mapping in the FrameSet is replaced by a <a 
href="sun211ss444.html#x471-6630000">CmpMap</a>
containing the original Mapping and a <a 
href="sun211ss495.html#x522-7140000">UnitMap</a> in parallel. The Nin and Nout attributes
of the UnitMap are set equal to the number of axes in the supplied Frame. Each new
CmpMap is simplified using <a 
href="sun211ss190.html#x215-4070000">astSimplify</a> before being stored in the FrameSet.  </li></ul>
</div><div class="crosslinks"> <div class="copyright"><span class="pushright">Copyright (C) 2014 Science &#x0026; Technology Facilities Council</span></div> <ul class='nav'> <li class="prev"> <a 
href="sun211ss2.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for
Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211ss4.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li> </ul></div>
<!--l. 33670--><p class="noindent" ><a 
 id="tailsun211ss3.html"></a> </div> 
</body> 
</html>