<!DOCTYPE html> 
<html> 
<head><title> astMatrixMap </title> 
<meta charset=utf-8/> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<link rel="stylesheet" type="text/css" href="sun211.css" /> 
 <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=MML_HTMLorMML"></script><style type="text/css">.MathJax_MathML {text-indent: 0;}</style></head><body 
>
<div class="sstrefsection"><div class="crosslinks"><ul class='nav'> <li class="prev"> <a 
href="sun211ss123.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211ss125.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li>
</ul></div>
<!--l. 21941--><p class="noindent" ><header class="sstreftitle"><h3 class="sstsectitle"><a 
 id="x149-3410000"></a> astMatrixMap </h3>  <p class="subtitle"> Create a MatrixMap  </p> </h3> </header><a 
 id="Q1-149-605"></a> <a 
 id="Q1-149-606"></a> <a name="xref_astMatrixMap"></a>  <h4 class="ssth4">Description: </h4><div class="sstvalues"> This function creates a new
<a 
href="sun211ss461.html#x488-6800000">MatrixMap</a> and optionally initialises its attributes.
<!--l. 21941--><p class="noindent" >A MatrixMap is a form of <a 
href="sun211ss459.html#x486-6780000">Mapping</a> which performs a general linear transformation.
Each set of input coordinates, regarded as a column-vector, are pre-multiplied
by a matrix (whose elements are specified when the MatrixMap is created) to
give a new column-vector containing the output coordinates. If appropriate,
the inverse transformation may also be performed.  </div> <h4 class="ssth4">Synopsis </h4><div class="sstvalues"> AstMatrixMap
<!--l. 21941--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>astMatrixMap(
int nin, int nout, int form, const double matrix[], const char
<!--l. 21941--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>options,
... )  </div> <h4 class="ssth4">Parameters: </h4><div class="sstvalues"> <h5 class="ssth5"> nin  </h5><div class="sstsub"> The number of input coordinates, which determines the
number of columns in the matrix.  </div> <h5 class="ssth5"> nout  </h5><div class="sstsub"> The number of output coordinates, which
determines the number of rows in the matrix.  </div> <h5 class="ssth5"> form  </h5><div class="sstsub"> An integer which indicates the
form in which the matrix elements will be supplied.
<!--l. 21941--><p class="noindent" >A value of zero indicates that a full <code>&#x0022;</code> nout<code>&#x0022;</code> x <code>&#x0022;</code> nin<code>&#x0022;</code> matrix of values will be
supplied via the <code>&#x0022;</code> matrix<code>&#x0022;</code> parameter (below). In this case, the elements should be
given in row order (the elements of the first row, followed by the elements of the
second row, etc.).
<!--l. 21941--><p class="noindent" >A value of 1 indicates that only the diagonal elements of the matrix will be supplied,
and that all others should be zero. In this case, the elements of <code>&#x0022;</code> matrix<code>&#x0022;</code> should
contain only the diagonal elements, stored consecutively.
<!--l. 21941--><p class="noindent" >A value of 2 indicates that a <code>&#x0022;</code> unit<code>&#x0022;</code> matrix is required, whose diagonal elements are
set to unity (with all other elements zero). In this case, the <code>&#x0022;</code> matrix<code>&#x0022;</code> parameter is
ignored and a NULL pointer may be supplied.  </div> <h5 class="ssth5"> matrix  </h5><div class="sstsub"> The array of matrix elements to
be used, stored according to the value of <code>&#x0022;</code> form<code>&#x0022;</code> .  </div> <h5 class="ssth5"> options  </h5><div class="sstsub"> Pointer to a
null-terminated string containing an optional comma-separated list of attribute
assignments to be used for initialising the new MatrixMap. The syntax used is identical
to that for the <a 
href="sun211ss177.html#x202-3940000">astSet</a> function and may include <code>&#x0022;</code> printf<code>&#x0022;</code> format specifiers identified
by <code>&#x0022;</code> %<code>&#x0022;</code> symbols in the normal way.  </div> <h5 class="ssth5"> ...  </h5><div class="sstsub"> If the <code>&#x0022;</code> options<code>&#x0022;</code> string contains <code>&#x0022;</code> %<code>&#x0022;</code>
format specifiers, then an optional list of additional arguments may follow it in order
to supply values to be substituted for these specifiers. The rules for supplying these
are identical to those for the astSet function (and for the C <code>&#x0022;</code> printf<code>&#x0022;</code> function).  </div>  </div>
<h4 class="ssth4">Returned Value </h4><div class="sstvalues"> <h5 class="ssth5"> astMatrixMap()  </h5><div class="sstsub"> A pointer to the new MatrixMap.  </div>  </div> <h4 class="ssth4">Notes: </h4><div class="sstvalues">
<ul class="sstitemlist">
<li >
<!--l. 21941--><p class="noindent" >In general, a MatrixMap<code>&#x2019;</code> s forward transformation will always be available
(as indicated by its <a 
href="sun211ss425.html#x451-6430000">TranForward</a> attribute), but its inverse transformation
(<a 
href="sun211ss426.html#x452-6440000">TranInverse</a> attribute) will only be available if the associated matrix is square and
                                                                                       

                                                                                       
non-singular.
<li >
<!--l. 21941--><p class="noindent" >As an exception to this, the inverse transformation is always available if a unit or
diagonal matrix is specified. In this case, if the matrix is not square, one or more
of the input coordinate values may not be recoverable from a set of output
coordinates. Any coordinates affected in this way will simply be set to the value
zero.
<li >
<!--l. 21941--><p class="noindent" >A null <a 
href="sun211ss464.html#x491-6830000">Object</a> pointer (AST__NULL) will be returned if this function is invoked
with the AST error status set, or if it should fail for any reason.  </li></ul>  </div>
<h4 class="ssth4"> Status Handling  </h4><div class="sstvalues"> The protected interface to this function includes an
extra parameter at the end of the parameter list descirbed above. This
parameter is a pointer to the integer inherited status variable: <code>&#x0022;</code> int
<!--l. 21941--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>status<code>&#x0022;</code> .
</div><div class="crosslinks"> <div class="copyright"><span class="pushright">Copyright (C) 2014 Science &#x0026; Technology Facilities Council</span></div> <ul class='nav'> <li class="prev"> <a 
href="sun211ss123.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for
Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211ss125.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li> </ul></div>
<!--l. 33670--><p class="noindent" ><a 
 id="tailsun211ss124.html"></a> </div> 
</body> 
</html>