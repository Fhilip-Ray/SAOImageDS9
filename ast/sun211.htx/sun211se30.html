<!DOCTYPE html> 
<html> 
<head><title>Release Notes</title> 
<meta charset=utf-8/> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<link rel="stylesheet" type="text/css" href="sun211.css" /> 
 <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=MML_HTMLorMML"></script><style type="text/css">.MathJax_MathML {text-indent: 0;}</style></head><body 
>
<div class="crosslinks"><ul class='nav'> <li class="prev"> <a 
href="sun211se29.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next">&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li>
</ul></div>
<h3 class="sectionHead"><span class="titlemark">H  </span> <a 
 id="x559-7670008"></a><a name="xref_changes_and_new_features"></a>Release Notes</h3>
<div class="sectionTOCS">
&#x00A0;<span class="subsectionToc" >H.1 <a 
href="#x559-7680001">Changes Introduced in V1.1</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.2 <a 
href="#x559-7690002">Changes Introduced in V1.2</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.3 <a 
href="#x559-7700003">Changes Introduced in V1.3</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.4 <a 
href="#x559-7710004">Changes Introduced in V1.4</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.5 <a 
href="#x559-7720005">Changes Introduced in V1.5</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.6 <a 
href="#x559-7730006">Changes Introduced in V1.6</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.7 <a 
href="#x559-7740007">Changes Introduced in V1.7</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.8 <a 
href="#x559-7750008">Changes Introduced in V1.8-2</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.9 <a 
href="#x559-7760009">Changes Introduced in V1.8-3</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.10 <a 
href="#x559-77700010">Changes Introduced in V1.8-4</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.11 <a 
href="#x559-77800011">Changes Introduced in V1.8-5</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.12 <a 
href="#x559-77900012">Changes Introduced in V1.8-7</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.13 <a 
href="#x559-78000013">Changes Introduced in V1.8-8</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.14 <a 
href="#x559-78100014">Changes Introduced in V1.8-13</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.15 <a 
href="#x559-78200015">Changes Introduced in V2.0</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.16 <a 
href="#x559-78300016">Changes Introduced in V3.0</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.17 <a 
href="#x559-78400017">Changes Introduced in V3.1</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.18 <a 
href="#x559-78500018">Changes Introduced in V3.2</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.19 <a 
href="#x559-78600019">Changes Introduced in V3.3</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.20 <a 
href="#x559-78700020">Changes Introduced in V3.4</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.21 <a 
href="#x559-78800021">Changes Introduced in V3.5</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.22 <a 
href="#x559-78900022">Changes Introduced in V3.6</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.23 <a 
href="#x559-79000023">Changes Introduced in V3.7</a></span>
                                                                                       

                                                                                       
<br />&#x00A0;<span class="subsectionToc" >H.24 <a 
href="#x559-79100024">Changes Introduced in V4.0</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.25 <a 
href="#x559-79200025">Changes Introduced in V4.1</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.26 <a 
href="#x559-79300026">Changes Introduced in V4.2</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.27 <a 
href="#x559-79400027">Changes Introduced in V4.3</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.28 <a 
href="#x559-79500028">Changes Introduced in V4.4</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.29 <a 
href="#x559-79600029">Changes Introduced in V4.5</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.30 <a 
href="#x559-79700030">Changes Introduced in V4.6</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.31 <a 
href="#x559-79800031">Changes Introduced in V5.0</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.32 <a 
href="#x559-79900032">Changes Introduced in V5.1</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.33 <a 
href="#x559-80000033">Changes Introduced in V5.2</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.34 <a 
href="#x559-80100034">Changes Introduced in V5.3</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.35 <a 
href="#x559-80200035">Changes Introduced in V5.3-1</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.36 <a 
href="#x559-80300036">Changes Introduced in V5.3-2</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.37 <a 
href="#x559-80400037">Changes Introduced in V5.4-0</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.38 <a 
href="#x559-80500038">Changes Introduced in V5.5-0</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.39 <a 
href="#x559-80600039">Changes Introduced in V5.6-0</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.40 <a 
href="#x559-80700040">ChangesIntroduced in V5.6-1</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.41 <a 
href="#x559-80800041">Changes Introduced in V5.7-0</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.42 <a 
href="#x559-80900042">Changes Introduced in V5.7-1</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.43 <a 
href="#x559-81000043">Changes Introduced in V5.7-2</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.44 <a 
href="#x559-81100044">Changes Introduced in V6.0</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.45 <a 
href="#x559-81200045">Changes Introduced in V6.0-1</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.46 <a 
href="#x559-81300046">Changes Introduced in V7.0.0</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.47 <a 
href="#x559-81400047">Changes Introduced in V7.0.1</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.48 <a 
href="#x559-81500048">Changes Introduced in V7.0.2</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.49 <a 
href="#x559-81600049">Changes Introduced in V7.0.3</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.50 <a 
href="#x559-81700050">Changes Introduced in V7.0.4</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.51 <a 
href="#x559-81800051">Changes Introduced in V7.0.5</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.52 <a 
href="#x559-81900052">Changes Introduced in V7.0.6</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.53 <a 
href="#x559-82000053">Changes Introduced in V7.1.0</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.54 <a 
href="#x559-82100054">Changes Introduced in V7.1.1</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.55 <a 
href="#x559-82200055">Changes Introduced in V7.2.0</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.56 <a 
href="#x559-82300056">Changes Introduced in V7.3.0</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.57 <a 
href="#x559-82400057">Changes Introduced in V7.3.1</a></span>
                                                                                       

                                                                                       
<br />&#x00A0;<span class="subsectionToc" >H.58 <a 
href="#x559-82500058">Changes Introduced in V7.3.2</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.59 <a 
href="#x559-82600059">Changes Introduced in V7.3.3</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.60 <a 
href="#x559-82700060">Changes Introduced in V7.3.4</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.61 <a 
href="#x559-82800061">Changes Introduced in V8.0.0</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.62 <a 
href="#x559-82900062">Changes Introduced in V8.0.1</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.63 <a 
href="#x559-83000063">Changes Introduced in V8.0.2</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.64 <a 
href="#x559-83100064">Changes Introduced in V8.0.3</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.65 <a 
href="#x559-83200065">Changes Introduced in V8.0.4</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.66 <a 
href="#x559-83300066">Changes Introduced in V8.0.5</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.67 <a 
href="#x559-83400067">Changes Introduced in V8.1.0</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.68 <a 
href="#x559-83500068">Changes Introduced in V8.2</a></span>
<br />&#x00A0;<span class="subsectionToc" >H.69 <a 
href="#x559-83600069">Changes Introduced in V8.3</a></span>
</div>
<a 
 id="x559-767001r1841"></a>
<h4 class="subsectionHead"><span class="titlemark">H.1  </span> <a 
 id="x559-7680001"></a>Changes Introduced in V1.1</h4>
<!--l. 50111--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V1.0 and V1.1 (not the most recent version):
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">A new &#x201C;How To&#x2026;&#x201D; section (&#x00A7;<a 
href="sun211se3.html#x4-150003">3<!--tex4ht:ref: ss:howto --></a>) has been added to this document. It contains
     simple recipies for performing commonly-required operations using AST.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">A new <a 
href="sun211ss228.html#x253-4450000">astUnformat</a> function has been provided to read formatted coordinate
     values for the axes of a <a 
href="sun211ss452.html#x479-6710000">Frame</a> (&#x00A7;<a 
href="sun211se7.html#x8-810008">7.8<!--tex4ht:ref: ss:unformattingaxisvalues --></a>). In essence, this function is the
     inverse of <a 
href="sun211ss56.html#x81-2730000">astFormat</a>. It may be used to decode user-supplied formatted
     values representing coordinates, turning them into numerical values for
     processing. Celestial coordinates may also be read using this function
     (&#x00A7;<a 
href="sun211se8.html#x9-970007">8.7<!--tex4ht:ref: ss:unformattingskyaxisvalues --></a>) and free-format input is supported.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The Format attribute string used by a <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> when formatting celestial
     coordinate values now allows the degrees/hours field to be omitted, so that
     celestial coordinates may be given in (<em>e.g.</em>) arc-minutes and/or arc-seconds
     (&#x00A7;<a 
href="sun211se8.html#x9-960006">8.6<!--tex4ht:ref: ss:formattingskyaxisvalues --></a>). As a result, the degrees/hours field is no longer included by
     default. A new &#x201C;t&#x201D; format specifier has been introduced (see the Format
     attribute) to allow minutes and/or seconds of time to be specified if
     required.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">A new function <a 
href="sun211ss100.html#x125-3170000">astMapBox</a> has been introduced. This allows you to find the
                                                                                       

                                                                                       
     extent of a &#x201C;bounding box&#x201D; which just encloses another box after it has
     been transformed by a <a 
href="sun211ss459.html#x486-6780000">Mapping</a>. A typical use might be to calculate the size
     which an image would have if it were transformed by the Mapping.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">A new class of <a 
href="sun211ss464.html#x491-6830000">Object</a>, the <a 
href="sun211ss456.html#x483-6750000">IntraMap</a>, has been introduced (&#x00A7;<a 
href="sun211se20.html#x21-18300020">20<!--tex4ht:ref: ss:intramaps --></a>). This is a
     specialised form of Mapping which encapsulates a privately-defined
     coordinate transformation function (<em>e.g.</em>&#x00A0;written in C) so that it may be
     used like any other AST Mapping. This allows you to create Mappings that
     perform any conceivable coordinate transformation.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">The internal integrity of a <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> is now automatically preserved
     whenever changes are made to any attributes which affect the current Frame
     (either by setting or clearing their values). This is accomplished by
     appropriately re-mapping the current Frame to account for any change to the
     coordinate system which it represents (&#x00A7;<a 
href="sun211se14.html#x15-1390006">14.6<!--tex4ht:ref: ss:framesetintegrity --></a>).
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">The internal structure of a FrameSet is now automatically tidied to
     eliminate redundant nodes whenever any of its Frames is removed or
     re-mapped. Automatic simplification of any compound Mappings which result
     may also occur. The effect of this change is to prevent the accumulation of
     unnecessary structure in FrameSets which are repeatedly modified.
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">Some improvements have been made to the algorithms for simplifying compound
     Mappings, as used by <a 
href="sun211ss190.html#x215-4070000">astSimplify</a>.
     </dd><dt class="enumerate-enumitem">
 (9) </dt><dd 
class="enumerate-enumitem">The textual representation used for some Objects (<em>i.e.</em>&#x00A0;when they are
     written to a <a 
href="sun211ss441.html#x468-6600000">Channel</a>) has changed slightly, but remains compatible with
     earlier versions of AST.
     </dd><dt class="enumerate-enumitem">
(10) </dt><dd 
class="enumerate-enumitem">Interfaces to the internal functions and macros used by AST for handling
     memory and error conditions are now provided <em>via</em> the &#x201C;ast.h&#x201D; header file.
     This is for the benefit of those writing (<em>e.g.</em>) new graphics interfaces for
     AST.
     </dd><dt class="enumerate-enumitem">
(11) </dt><dd 
class="enumerate-enumitem">A problem has been fixed which could result when using <a 
href="sun211ss160.html#x185-3770000">astRead</a> to read FITS
     headers in which the CDELT value is zero. Previously, this could produce a
     Mapping whose inverse transformation was not defined and this could
     unnecessarily restrict the use to which it could be put. The problem has
     been overcome by supplying a suitable small CDELT value for FITS axes which
     have only a single pixel.
     </dd><dt class="enumerate-enumitem">
(12) </dt><dd 
class="enumerate-enumitem">A bug has been fixed which could occasionally cause a <a 
href="sun211ss461.html#x488-6800000">MatrixMap</a> to be used
     with the wrong <a 
href="sun211ss312.html#x338-5300000">Invert</a> attribute value when it forms part of a compound
                                                                                       

                                                                                       
     Mapping which is being simplified using astSimplify.
     </dd><dt class="enumerate-enumitem">
(13) </dt><dd 
class="enumerate-enumitem">A problem has been fixed which could prevent tick marks being drawn on a
     coordinate axis close to a singularity in the coordinate system.</dd></dl>
<a 
 id="x559-768014r1844"></a>
<h4 class="subsectionHead"><span class="titlemark">H.2  </span> <a 
 id="x559-7690002"></a>Changes Introduced in V1.2</h4>
<!--l. 50197--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V1.1 and V1.2 (not the most recent version):
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">A new function, <a 
href="sun211ss143.html#x168-3600000">astPolyCurve</a>, has been introduced to allow more efficient
     plotting of multiple geodesic curves (&#x00A7;<a 
href="sun211se21.html#x22-1990003">21.3<!--tex4ht:ref: ss:plottinggeodesics --></a>).
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">A new set of functions, <a 
href="sun211ss172.html#x197-3890000">astResample<!--l. 50206--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <mo 
class="MathClass-rel">&#x003C;</mo></math>X<!--l. 50206--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <mo 
class="MathClass-rel">&#x003E;</mo></math></a>,
     has been introduced to perform resampling of gridded data such as images (<em>i.e.</em>&#x00A0;re-gridding)
     under the control of a geometrical transformation specified by a <a 
href="sun211ss459.html#x486-6780000">Mapping</a>.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The command-line options &#x201C;<!--l. 50211--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2212;</mo></math>pgp&#x201D;
     and &#x201C;<!--l. 50211--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2212;</mo></math>pgplot&#x201D;,
     which were previously synonymous when used with the &#x201C;<a 
href="sun211ss501.html#x529-7210000">ast_link</a>&#x201D; and &#x201C;<a 
href="sun211ss502.html#x530-7220000">ast_link_adam</a>&#x201D;
     commands, are no longer synonymous. The option &#x201C;<!--l. 50214--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2212;</mo></math>pgp&#x201D;
     now causes linking with the Starlink version of PGPLOT (which uses GKS to generate
     its output), while &#x201C;<!--l. 50215--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2212;</mo></math>pgplot&#x201D;
     links with the standard (or &#x201C;native&#x201D;) version of PGPLOT.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">The function <a 
href="sun211ss100.html#x125-3170000">astMapBox</a> has been changed to execute more quickly, although
     this has been achieved at the cost of some loss of robustness when used
     with difficult Mappings.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">A new value of &#x201C;FITS-IRAF&#x201D; has been introduced for the <a 
href="sun211ss284.html#x310-5020000">Encoding</a> attribute
     of a <a 
href="sun211ss449.html#x476-6680000">FitsChan</a>. This new encoding provides an interim solution to the
     problem of storing coordinate system information in FITS headers, until the
     proposed new FITS-WCS standard becomes stable.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">When a <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> is created from a set of FITS header cards (by reading from
     a FitsChan using a &#x201C;foreign&#x201D; encoding), the base <a 
href="sun211ss452.html#x479-6710000">Frame</a> of the resulting
     FrameSet now has its <a 
href="sun211ss279.html#x305-4970000">Domain</a> attribute set to &#x201C;GRID&#x201D;. This reflects the fact
     that this Frame represents FITS data grid coordinates (equivalent to FITS
     pixel coordinates&#x2013;-see &#x00A7;<a 
href="sun211se7.html#x8-8600013">7.13<!--tex4ht:ref: ss:domainconventions --></a>). Previously, this Domain value was not set.
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem"><a 
href="sun211ss51.html#x76-2680000">astFindFits</a> now ignores trailing spaces in its keyword template.
                                                                                       

                                                                                       
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem"><a 
href="sun211ss153.html#x178-3700000">astPutFits</a> now recognises &#x201C;D&#x201D; and &#x201C;d&#x201D; as valid exponent characters in
     floating point numbers.
     </dd><dt class="enumerate-enumitem">
 (9) </dt><dd 
class="enumerate-enumitem">The FitsChan class is now more tolerant of common minor violations of the
     FITS standard.
     </dd><dt class="enumerate-enumitem">
(10) </dt><dd 
class="enumerate-enumitem">The FitsChan class now incorporates an improved test for the linearity of
     Mappings, allowing more reliable conversion of AST data into FITS (using
     &#x201C;foreign&#x201D; FITS encodings).
     </dd><dt class="enumerate-enumitem">
(11) </dt><dd 
class="enumerate-enumitem">Some further improvements have been made to the algorithms for simplifying
     compound Mappings, as used by <a 
href="sun211ss190.html#x215-4070000">astSimplify</a>.
     </dd><dt class="enumerate-enumitem">
(12) </dt><dd 
class="enumerate-enumitem">A new <a 
href="sun211ss428.html#x454-6460000">UnitRadius</a> attribute has been added to the <a 
href="sun211ss483.html#x510-7020000">SphMap</a> class. This allows
     improved simplification of compound Mappings (CmpMaps) involving SphMaps
     and typically improves performance when handling FITS world coordinate
     information.
     </dd><dt class="enumerate-enumitem">
(13) </dt><dd 
class="enumerate-enumitem">A <a 
href="sun211ss461.html#x488-6800000">MatrixMap</a> no longer propagates input coordinate values of AST__BAD
     automatically to all output coordinates. If certain output coordinates do
     not depend on the affected input coordinate(s) because the relevant matrix
     elements are zero, then they may now remain valid.
     </dd><dt class="enumerate-enumitem">
(14) </dt><dd 
class="enumerate-enumitem">A minor bug has been corrected which could cause certain projections which
     involve half the celestial sphere to produce valid coordinates for the
     other (unprojected) half of the sphere as well.
     </dd><dt class="enumerate-enumitem">
(15) </dt><dd 
class="enumerate-enumitem">A bug has been fixed which could occasionally cause <a 
href="sun211ss32.html#x57-2490000">astConvert</a> to think
     that conversion between a <a 
href="sun211ss443.html#x470-6620000">CmpFrame</a> and another Frame was possible when, in
     fact, it wasn&#x2019;t.</dd></dl>
<a 
 id="x559-769016r1845"></a>
<h4 class="subsectionHead"><span class="titlemark">H.3  </span> <a 
 id="x559-7700003"></a>Changes Introduced in V1.3</h4>
<!--l. 50272--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V1.2 and V1.3 (not the most recent version):
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">A new set of functions, <a 
href="sun211ss172.html#x197-3890000">astResample<!--l. 50277--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <mo 
class="MathClass-rel">&#x003C;</mo></math>X<!--l. 50277--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <mo 
class="MathClass-rel">&#x003E;</mo></math></a>,
     has been introduced to provide efficient resampling of gridded data, such as
     spectra and images, under the control of a geometrical transformation specified
     by a <a 
href="sun211ss459.html#x486-6780000">Mapping</a>. A variety of sub-pixel interpolation schemes are supported.
                                                                                       

                                                                                       
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">A new class, <a 
href="sun211ss465.html#x492-6840000">PcdMap</a>, has been introduced. This is a specialised form of
     Mapping which implements 2-dimensional pincushion or barrel distortion.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">A bug has been fixed which could cause a <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> to produce too many
     digits when formatting floating point values for inclusion in a FITS header
     if the numerical value was in the range -0.00099999&#x2026;to -0.0001.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">A bug has been fixed which could cause a FitsChan to lose the comment
     associated with a string value in a FITS header.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">A FitsChan now reports an error if it reads a FITS header which identifies
     a non-standard sky projection (previously, this was accepted without error
     and a Cartesian projection used instead).
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">A bug has been fixed which could prevent conversion between the coordinate
     systems represented by two CmpFrames. This could only occur if the
     CmpFrames contained a relatively large number of nested Frames.
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">Further improvements have been made to the simplification of compound
     Mappings, including fixes for several bugs which could cause indefinite
     looping or unwanted error messages.
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">Some memory leaks have been fixed.
     </dd><dt class="enumerate-enumitem">
 (9) </dt><dd 
class="enumerate-enumitem">A small number of documentation errors have been corrected.</dd></dl>
<a 
 id="x559-770010r1846"></a>
<h4 class="subsectionHead"><span class="titlemark">H.4  </span> <a 
 id="x559-7710004"></a>Changes Introduced in V1.4</h4>
<!--l. 50324--><p class="noindent" >The following describes the most significant changes which have occurred in the AST
library between versions V1.3 and V1.4 (not the most recent version):
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">A new <a 
href="sun211ss460.html#x487-6790000">MathMap</a> class has been introduced. This is a form of <a 
href="sun211ss459.html#x486-6780000">Mapping</a> that
     allows you to define coordinate transformations in a flexible and
     transportable way using arithmetic operations and mathematical functions
     similar to those available in C.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">WARNING&#x2014;INCOMPATIBLE        CHANGE.  Transformation functions used with
     the <a 
href="sun211ss456.html#x483-6750000">IntraMap</a> class (see, for example, <a 
href="sun211ss93.html#x118-3100000">astIntraReg</a>) now require a &#x201C;this&#x201D;
     pointer as their first parameter. <b>Existing implementations will not
     continue to work correctly with this version of AST unless this parameter
                                                                                       

                                                                                       
     is added.</b> There is no need for existing software to make use of this
     pointer, but it must be present.
     <!--l. 50341--><p class="noindent" >This change has been introduced so that transformation functions can gain
     access to IntraMap attributes.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">A new <a 
href="sun211ss311.html#x337-5290000">IntraFlag</a> attribute has been added to the IntraMap class. This allows
     the transformation functions used by IntraMaps to adapt to produce the
     required transformation on a per-IntraMap basis (&#x00A7;<a 
href="sun211se20.html#x21-1920009">20.9<!--tex4ht:ref: ss:intraflag --></a>).
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss467.html#x494-6860000">Plot</a> attributes MajTickLen and MinTickLen, which control the length of
     major and minor tick marks on coordinate axes, may now be subscripted using
     an axis number. This allows tick marks of different lengths to be used on
     each axis. It also allows tick marks to be suppressed on one axis only by
     setting the length to zero.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">The value of the Plot attribute NumLab, which controls the plotting of
     numerical labels on coordinate axes, no longer has any effect on whether
     labelling of a coordinate grid is interior or exterior (as controlled by
     the <a 
href="sun211ss327.html#x353-5450000">Labelling</a> attribute).
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class now provides some support for the IRAF-specific &#x201C;ZPX&#x201D;
     sky projection, which is converted transparently into the equivalent FITS
     &#x201C;ZPN&#x201D; projection (see the description of the <a 
href="sun211ss284.html#x310-5020000">Encoding</a> attribute for
     details).
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">The FitsChan class now recognises the coordinate system &#x201C;ICRS&#x201D;
     (International Celestial Reference <a 
href="sun211ss413.html#x439-6310000">System</a>) as equivalent to &#x201C;FK5&#x201D;. This is
     an interim measure and full support for the (exceedingly small) difference
     between ICRS and FK5 will be added at a future release.
     <!--l. 50371--><p class="noindent" >Note that &#x201C;ICRS&#x201D; is not yet recognised as a coordinate system by other
     classes such as <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a>, so this change only facilitates the importation
     of foreign data.
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">A bug in the FitsChan class has been fixed which could result in longitude
     values being incorrect by 180 degrees when using cylindrical sky
     projections, such as the FITS &#x201C;CAR&#x201D; projection.
     </dd><dt class="enumerate-enumitem">
 (9) </dt><dd 
class="enumerate-enumitem">A bug in the FitsChan class has been fixed which could result in the FITS
     sky projection parameters ProjP(0) to ProjP(9) being incorrectly named
     PROJP1 to PROJP10 when written out as FITS cards.
     </dd><dt class="enumerate-enumitem">
(10) </dt><dd 
class="enumerate-enumitem">A bug in the FitsChan class has been fixed which could cause confusion
                                                                                       

                                                                                       
     between the FITS-IRAF and FITS-WCS encoding schemes if both a CD matrix and
     a PC matrix are erroneously present in a FITS header.
     </dd><dt class="enumerate-enumitem">
(11) </dt><dd 
class="enumerate-enumitem">Some minor memory leaks have been fixed.
     </dd><dt class="enumerate-enumitem">
(12) </dt><dd 
class="enumerate-enumitem">A small number of documentation errors have been corrected.</dd></dl>
<a 
 id="x559-771013r1847"></a>
<h4 class="subsectionHead"><span class="titlemark">H.5  </span> <a 
 id="x559-7720005"></a>Changes Introduced in V1.5</h4>
<!--l. 50394--><p class="noindent" >The following describes the most significant changes which have occurred in the AST
library between versions V1.4 and V1.5 (not the most recent version):
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class has been modified to support the latest draft FITS WCS
     standard, described in the two papers &#x201C;Representation of world coordinates
     in FITS&#x201D; (E.W.Greisen and M.Calabretta, dated 30th November, 1999), and
     &#x201C;Representation of celestial coordinates in FITS&#x201D; (M.Calabretta and
     E.W.Greisen, dated 24th September, 1999). These are available at
     <a 
href="http://www.cv.nrao.edu/fits/documents/wcs/wcs.html" class="url" >http://www.cv.nrao.edu/fits/documents/wcs/wcs.html</a>.
     <!--l. 50408--><p class="noindent" >The FITS-WCS encoding now uses these updated conventions. The main changes
     are:
          <ul class="itemize1">
          <li class="itemize">Rotation and scaling of pixel axes is now represented by a matrix of
          <code>CDj_i</code> keywords instead of a combination of <code>PCjjjiii</code> and <code>CDELTj</code>
          keywords.
          </li>
          <li class="itemize"><a 
href="sun211ss376.html#x402-5940000">Projection</a> parameters are now associated with particular axes and are
          represented by <code><a 
href="sun211ss369.html#x395-5870000">PVi_m</a></code> keywords instead of the <code>PROJPm</code> keywords.
          </li>
          <li class="itemize">The tangent plane projection (&#x201C;TAN&#x201D;) can now include optional
          polynomial correction terms.
          </li>
          <li class="itemize">An entire set of keywords must be supplied for each set of secondary
          axis descriptions, and each such keyword must finish with a single
          character indicating which set it belongs to. This means that keywords
          which previously occupied eight characters have been shorten to seven
          to leave room for this extra character. Thus <code>LONGPOLE</code> has become
          <code>LONPOLE</code> and <code>RADECSYS</code> has become <code>RADESYS</code>.</li></ul>
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">Two new encodings have been added to the FitsChan class:
          <dl class="description"><dt class="description">
     FITS-PC </dt><dd 
class="description">This encoding uses the conventions of the now superseded FITS WCS
          paper by E.W.Greisen and M.Calabretta which used keywords <code>CDELTj</code> and
          <code>PCjjjiii</code> to describe axis scaling and rotation. These are the
                                                                                       

                                                                                       
          conventions which were used by the FITS-WCS encoding prior to version
          1.5 of AST. This encoding is provided to allow existing data which use
          these conventions to be read. It should not in general be used to
          create new data.
          </dd><dt class="description">
     FITS-AIPS </dt><dd 
class="description">This encoding is based on the conventions described in the
          document &#x201C;Non-linear Coordinate Systems in AIPS&#x201D; by Eric W. Greisen
          (revised 9th September, 1994 and available by ftp from fits.cv.nrao.edu
          /fits/documents/wcs/aips27.ps.Z). This encoding uses <code>CROTAi</code> and <code>CDELTi</code>
          keywords to describe axis rotation and scaling.
          </dd></dl>
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The FitsChan class now provides some support for the IRAF-specific &#x201C;TNX&#x201D; sky
     projection, which is converted transparently into the equivalent FITS &#x201C;TAN&#x201D;
     projection (see the description of the <a 
href="sun211ss284.html#x310-5020000">Encoding</a> attribute for details).
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">FrameSets originally read from a DSS encoded FITS header can now be written out
     using the FITS-WCS encoding (a TAN projection with correction terms will be used)
     in addition to the DSS encoding. The reverse is also possible: FrameSets
     originally read from a FITS-WCS encoded FITS header and which use a TAN projection
     can now be written out using the DSS encoding.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">The algorithm used by the FitsChan class to verify that a <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> conforms to the
     FITS-WCS model has been improved so that FrameSets including more complex mixtures
     of parallel and serial Mappings can be written out using the FITS-WCS
     encoding.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">The FitsChan class has been changed so that long strings included in the
     description of an <a 
href="sun211ss464.html#x491-6830000">Object</a> can be saved and restored without truncation when using
     the NATIVE encoding. Previously, very long <a 
href="sun211ss452.html#x479-6710000">Frame</a> titles, mathematical expressions,
     <em>etc.</em> were truncated if they exceeded the capacity of a single FITS header card.
     They are now split over several header cards so that they can be restored
     without truncation. Note, this facility is only available when using NATIVE
     encoding.
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">The FitsChan class has a new attribute called <a 
href="sun211ss431.html#x457-6490000">Warnings</a> which can be used to
     select potentially dangerous conditions under which warnings should be
     issued. These conditions include (for instance) unsupported features within
     non-standard projections, missing keywords for which default values will be used,
     <em>etc</em>.
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss497.html#x524-7160000">WcsMap</a> class has been changed to support the changes made to the FITS-WCS
     encoding in the FitsChan class:
                                                                                       

                                                                                       
          <ul class="itemize1">
          <li class="itemize">Projection parameters are now associated with a particular axis and are
          specified using a new set of attributes called PVj_m. Here, &#x201C;j&#x201D; is the
          index of an axis of WcsMap, and &#x201C;m&#x201D; is the index of the projection
          parameter.
          </li>
          <li class="itemize">The old attributes ProjP(0) to ProjP(9) are still available but are now
          deprecated in favour of the new PVj_m attributes. They are interpreted
          as aliases for PV(axlat)_0 to PV(axlat)_9, where &#x201C;axlat&#x201D; is the index
          of the latitude axis.
          </li>
          <li class="itemize">The GLS projection projection has been renamed as SFL, but the AST__GLS
          type has been retained as an alias for AST__SFL.</li></ul>
     </dd></dl>
<a 
 id="x559-772009r1848"></a>
<h4 class="subsectionHead"><span class="titlemark">H.6  </span> <a 
 id="x559-7730006"></a>Changes Introduced in V1.6</h4>
<!--l. 50496--><p class="noindent" >The following describes the most significant changes which have occurred in the AST
library between versions V1.5 and V1.6:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The C interface to several methods (<a 
href="sun211ss222.html#x247-4390000">astTranN</a>, <a 
href="sun211ss120.html#x145-3370000">astMark</a> and <a 
href="sun211ss143.html#x168-3600000">astPolyCurve</a>)
     have been changed to make them easier to call from C++. Parameters which
     previously had type &#x201C;double (*)[]&#x201D; have been changed to the simpler &#x201C;double
     *&#x201D;. Using the old types may result in non-fatal compiler warnings, but
     should not change the behaviour of the methods.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the <a 
href="sun211ss467.html#x494-6860000">Plot</a> class which could cause groups of tick
     marks to be skipped when using very small gaps.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the Plot class which could cause axes to be labeled
     outside the visible window, resulting in no axes being visible.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">The FITS-WCS encoding used by the <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class now includes the WCSNAME
     keyword. When creating a <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> from FITS headers, the values of the
     WCSNAME keywords are now used as the <a 
href="sun211ss279.html#x305-4970000">Domain</a> names for the corresponding
     Frames in the returned FrameSet. When writing a FrameSet to a FITS header
     the Domain names of each <a 
href="sun211ss452.html#x479-6710000">Frame</a> are stored in WCSNAME keywords in the
     header.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">The FITS-WCS encoding used by the FitsChan class now attempts to retain the
     identification letter associated with multiple axis descriptions. When
     reading a FrameSet from a FITS header, the identification letter is stored
     in the <a 
href="sun211ss307.html#x333-5250000">Ident</a> attribute for each Frame. When writing a FrameSet to a FITS
                                                                                       

                                                                                       
     header, the identification letter is read from the Ident attribute of each
     Frame. The letter to associate with each Frame can be changed by assigning
     a new value to the Frame&#x2019;s Ident attribute.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">The FITS-WCS, FITS-PC, FITS-IRAF and FITS-AIPS encodings used by the
     FitsChan class now create a <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> with the <a 
href="sun211ss413.html#x439-6310000">System</a> attribute set to
     &#x201C;Unknown&#x201D; if the CTYPE keywords in the supplied header refers to an unknown
     celestial coordinate system. Previously, a Frame was used instead of a
     SkyFrame.
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">The FITS-WCS, FITS-PC, FITS-IRAF and FITS-AIPS encodings used by the
     FitsChan class no longer report an error if the FITS header contains no
     CTYPE keywords. It is assumed that a missing CTYPE keyword implies that the
     world coordinate system is linear and identically equal to &#x201C;intermediate
     world coordinates&#x201D;.
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">The new value &#x201C;noctype&#x201D; is now recognized by the <a 
href="sun211ss431.html#x457-6490000">Warnings</a> attribute of the
     FitsChan class. This value causes warnings to be issued if CTYPE keywords
     are missing from foreign encodings.
     </dd><dt class="enumerate-enumitem">
 (9) </dt><dd 
class="enumerate-enumitem">A new attribute called <a 
href="sun211ss250.html#x276-4680000">AllWarnings</a> has been added to the FitsChan class.
     This is a read-only, space separated list of all the known condition names
     which can be specified in the Warnings attribute.
     </dd><dt class="enumerate-enumitem">
(10) </dt><dd 
class="enumerate-enumitem">The FitsChan class now attempts to assigns a <a 
href="sun211ss420.html#x446-6380000">Title</a> to each Frame in a
     FrameSet read using a foreign encoding. The Title is based on the Domain
     name of the Frame. If the Frame has no Domain name, the default Title
     supplied by the Frame class is retained.
     </dd><dt class="enumerate-enumitem">
(11) </dt><dd 
class="enumerate-enumitem">The FitsChan class uses the comments associated with CTYPE keywords as axis
     labels when reading a foreign encoding. This behaviour has been modified so
     that the default labels provided by the Frame class are retained (instead
     of using the CTYPE comments) if any of the CTYPE comments are identical.
     </dd><dt class="enumerate-enumitem">
(12) </dt><dd 
class="enumerate-enumitem">A new &#x201C;interpolation&#x201D; scheme identified by the symbolic constant AST__BLOCKAVE
     has been added to the AST_RESAMPLE<!--l. 50560--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <mo 
class="MathClass-rel">&#x003C;</mo></math>X<!--l. 50560--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <mo 
class="MathClass-rel">&#x003E;</mo></math>
     set of functions. The new scheme calculates each output pixel value by finding
     the mean of the input pixels in a box centred on the output pixel.
     </dd><dt class="enumerate-enumitem">
(13) </dt><dd 
class="enumerate-enumitem">The SkyFrame class can now be used to represent an arbitrary spherical
     coordinate system by setting its System attribute to &#x201C;Unknown&#x201D;.
     </dd><dt class="enumerate-enumitem">
                                                                                       

                                                                                       
(14) </dt><dd 
class="enumerate-enumitem">The indices of the latitude and longitude axes of a SkyFrame can now be
     found using new read-only attributes <a 
href="sun211ss328.html#x354-5460000">LatAxis</a> and <a 
href="sun211ss334.html#x360-5520000">LonAxis</a>. The effects of
     any axis permutation is taken into account.
     </dd><dt class="enumerate-enumitem">
(15) </dt><dd 
class="enumerate-enumitem">A new attribute called Ident has been added to the <a 
href="sun211ss464.html#x491-6830000">Object</a> class. This
     serves the same purpose as the existing <a 
href="sun211ss305.html#x331-5230000">ID</a> attribute, but (unlike ID) its
     value is transferred to the new Object when a copy is made.
     </dd><dt class="enumerate-enumitem">
(16) </dt><dd 
class="enumerate-enumitem">A bug has been fixed which could prevent complex CmpFrames behaving
     correctly (for instance, resulting in the failure of attempts to find a
     <a 
href="sun211ss459.html#x486-6780000">Mapping</a> between a <a 
href="sun211ss443.html#x470-6620000">CmpFrame</a> and itself).
     </dd></dl>
<a 
 id="x559-773017r1849"></a>
<h4 class="subsectionHead"><span class="titlemark">H.7  </span> <a 
 id="x559-7740007"></a>Changes Introduced in V1.7</h4>
<!--l. 50583--><p class="noindent" >The following describes the most significant changes which have occurred in the AST
library between versions V1.6 and V1.7:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss452.html#x479-6710000">Frame</a> class has a new method called <a 
href="sun211ss6.html#x31-2230000">astAngle</a> which returns the angle
     subtended by two points at a third point within a 2 or 3 dimensional Frame.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The Frame class has a new method called <a 
href="sun211ss132.html#x157-3490000">astOffset2</a> which calculates a
     position which is offset away from a given starting point by a specified
     distance along a geodesic curve which passes through the starting point at
     a given position angle. It can only be used with 2-dimensional Frames.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The Frame class has a new method called <a 
href="sun211ss9.html#x34-2260000">astAxDistance</a> which returns the increment
     between two supplied axis values. For axes belonging to SkyFrames, the returned
     value is normalized into the range <!--l. 50604--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x00B1;</mo><mi 
>&#x03C0;</mi></math>.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">The Frame class has a new method called <a 
href="sun211ss11.html#x36-2280000">astAxOffset</a> which returns an axis value
     a given increment away from a specified axis value. For axes belonging to SkyFrames,
     the returned value is normalized into the range <!--l. 50610--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x00B1;</mo><mi 
>&#x03C0;</mi></math>
     (for latitude axes) or zero to <!--l. 50610--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>2</mn><mi 
>&#x03C0;</mi></math>
     (for longitude axes).
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss467.html#x494-6860000">Plot</a> class has a new method called <a 
href="sun211ss60.html#x85-2770000">astGenCurve</a> which allows generalised
     user-defined curves to be drawn. The curve is defined by a user-supplied
     <a 
href="sun211ss459.html#x486-6780000">Mapping</a> which maps distance along the curve into the corresponding position
     in the current Frame of the Plot. The new method then maps these current
     Frame position into graphics coordinates, taking care of any
     non-linearities or discontinuities in the mapping.
                                                                                       

                                                                                       
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">The Plot class has a new method called <a 
href="sun211ss82.html#x107-2990000">astGrfSet</a> which allows the
     underlying primitive graphics functions to be selected at run-time.
     Previously, the functions used by the Plot class to produce graphics could
     only be selected at link-time, using the options of the <a 
href="sun211ss501.html#x529-7210000">ast_link</a> command.
     The new Plot method allows an application to over-ride the functions
     established at link-time, by specifying alternative primitive graphics
     routines. In addition, the two new Plot methods <a 
href="sun211ss81.html#x106-2980000">astGrfPush</a> and <a 
href="sun211ss80.html#x105-2970000">astGrfPop</a>
     allow the current graphics routines to be saved and restore on a
     first-in-last-out stack, allowing temporary changes to be made to the set
     of registered graphics routines.
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">The DrawAxes attribute of the Plot class can now be specified independantly
     for each axis, by appending the axis index to the end of the attribute
     name.
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the Plot class which could result in axis labels
     being drawn on inappropriate edges of the plotting box when using
     &#x201C;interior&#x201D; labelling.
     </dd><dt class="enumerate-enumitem">
 (9) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the <a 
href="sun211ss456.html#x483-6750000">IntraMap</a> class which could cause IntraMaps to
     be corrupted after transforming any points.
     </dd><dt class="enumerate-enumitem">
(10) </dt><dd 
class="enumerate-enumitem">Bugs have been fixed in the <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class which could cause inappropriate
     ordering of headers within a FitsChan when writing or reading objects using
     NATIVE encodings.
     </dd><dt class="enumerate-enumitem">
(11) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the FitsChan class which could cause the celestial
     longitude of a pixel to be estimated incorrectly by 180 degrees if the
     reference point is at either the north or the south pole.
     </dd></dl>
<a 
 id="x559-774012r1850"></a>
<h4 class="subsectionHead"><span class="titlemark">H.8  </span> <a 
 id="x559-7750008"></a>Changes Introduced in V1.8-2</h4>
<!--l. 50658--><p class="noindent" >The following describes the most significant changes which have occurred in the AST
library between versions V1.7 and V1.8-2:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> class has a new attribute called <a 
href="sun211ss350.html#x376-5680000">NegLon</a> which allows longitude values
     to be displayed in the range <!--l. 50664--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2212;</mo><mi 
>&#x03C0;</mi></math>
     to <!--l. 50664--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <mo 
class="MathClass-bin">+</mo> <mi 
>&#x03C0;</mi></math>,
     instead of the usual range zero to <!--l. 50665--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>2</mn><mi 
>.</mi><mi 
>&#x03C0;</mi></math>.
     </dd><dt class="enumerate-enumitem">
                                                                                       

                                                                                       
 (2) </dt><dd 
class="enumerate-enumitem">Some new functions (<a 
href="sun211ss6.html#x31-2230000">astAngle</a>, <a 
href="sun211ss8.html#x33-2250000">astAxAngle</a>, <a 
href="sun211ss173.html#x198-3900000">astResolve</a>, <a 
href="sun211ss132.html#x157-3490000">astOffset2</a>,
     <a 
href="sun211ss11.html#x36-2280000">astAxOffset</a>, <a 
href="sun211ss9.html#x34-2260000">astAxDistance</a>) have been added to the <a 
href="sun211ss452.html#x479-6710000">Frame</a> class to allow
     navigation of the coordinate space to be performed without needing to know
     the underlying geometry of the co-ordinate system (for instance, whether it
     is Cartesian or spherical).
     <!--l. 50675--><p class="noindent" >Note, version 1.8-1 contained many of these facilities, but some have been
     changed in version 1.8-2. Particularly, positions angles are now referred
     to the second Frame axis for <em>all</em> classes of Frames (including SkyFrames),
     and the astBear function has been replaced by astAxAngle.
     </dd></dl>
<a 
 id="x559-775003r1851"></a>
<h4 class="subsectionHead"><span class="titlemark">H.9  </span> <a 
 id="x559-7760009"></a>Changes Introduced in V1.8-3</h4>
<!--l. 50685--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V1.8-2 and V1.8-3:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">A new method called <a 
href="sun211ss38.html#x63-2550000">astDecompose</a> has been added to the <a 
href="sun211ss459.html#x486-6780000">Mapping</a> class which
     enables pointers to be obtained to the component parts of <a 
href="sun211ss444.html#x471-6630000">CmpMap</a> and
     <a 
href="sun211ss443.html#x470-6620000">CmpFrame</a> objects.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">Functions within proj.c and wcstrig.c have been renamed to avoid name
     clashes with functions in more recent versions of Mark Calabretta&#x2019;s wcslib
     library.
     </dd></dl>
<a 
 id="x559-776003r1852"></a>
<h4 class="subsectionHead"><span class="titlemark">H.10  </span> <a 
 id="x559-77700010"></a>Changes Introduced in V1.8-4</h4>
<!--l. 50702--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V1.8-3 and V1.8-4:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class has a new attribute called <a 
href="sun211ss275.html#x301-4930000">DefB1950</a> which can be used to
     select the default reference frame and equinox to be used if a FitsChan
     with foreign encoding contains no indication of the reference frame or
     equinox.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the FitsChan class which could prevent <a 
href="sun211ss237.html#x262-4540000">astWrite</a>
     from creating a set of FITS headers from an otherwise valid <a 
href="sun211ss453.html#x480-6720000">FrameSet</a>, when
     when using FITS-AIPS encoding.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the FitsChan class which could cause <a 
href="sun211ss160.html#x185-3770000">astRead</a> to
     mis-interpret the FITS CROTA keyword when using FITS-AIPS encoding.
     </dd></dl>
                                                                                       

                                                                                       
<a 
 id="x559-777004r1853"></a>
<h4 class="subsectionHead"><span class="titlemark">H.11  </span> <a 
 id="x559-77800011"></a>Changes Introduced in V1.8-5</h4>
<!--l. 50724--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V1.8-4 and V1.8-5:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss467.html#x494-6860000">Plot</a> class defines new graphical elements Axis1, Axis2, Grid1, Grid2,
     NumLabs1, NumLabs2, TextLab1, TextLab2, Ticks1 and Ticks2. These allow
     graphical attributes (colour, width, etc) to be set for each axis
     individually. Previously, graphical attributes could only be set for both
     axes together, using graphical elements Axes, <a 
href="sun211ss296.html#x322-5140000">Grid</a>, NumLabs, TextLabs and
     Ticks.
     </dd></dl>
<a 
 id="x559-778002r1854"></a>
<h4 class="subsectionHead"><span class="titlemark">H.12  </span> <a 
 id="x559-77900012"></a>Changes Introduced in V1.8-7</h4>
<!--l. 50741--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V1.8-5 and V1.8-7:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">A new attribute called <a 
href="sun211ss257.html#x283-4750000">CarLin</a> has been added to the <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class which
     controls the way CAR projections are handled when reading a <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> from a
     non-native FITS header. Some FITS writers use a CAR projection to represent
     a simple linear transformation between pixel coordinates and celestial sky
     coordinates. This is not consistent with the definition of the CAR
     projection in the draft FITS-WCS standard, which requires the resultant
     <a 
href="sun211ss459.html#x486-6780000">Mapping</a> to include a 3D rotation from native spherical coordinates to
     celestial spherical coordinates, thus making the Mapping non-linear.
     Setting CarLin to 1 forces <a 
href="sun211ss160.html#x185-3770000">astRead</a> to ignore the FITS-WCS standard and
     treat any CAR projections as simple linear Mappings from pixel coordinates
     to celestial coordinates.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">A bug has been fixed which could result in axis Format attributes set by
     the user being ignored under certain circumstances.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">A bug in the way tick marks positions are selected in the <a 
href="sun211ss467.html#x494-6860000">Plot</a> class has
     been fixed. This bug could result in extra ticks marks being displayed at
     inappropriate positions. This bug manifested itself, for instance, if the
     Mapping represented by the Plot was a simple Cartesian to Polar Mapping. In
     this example, the bug caused tick marks to be drawn at negative radius
     values.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">A bug has been fixed which could prevent attribute settings from being read
     correctly by <a 
href="sun211ss177.html#x202-3940000">astSet</a>, etc., on certain platforms (MacOS, for instance).
                                                                                       

                                                                                       
     </dd></dl>
<a 
 id="x559-779005r1855"></a>
<h4 class="subsectionHead"><span class="titlemark">H.13  </span> <a 
 id="x559-78000013"></a>Changes Introduced in V1.8-8</h4>
<!--l. 50778--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V1.8-7 and V1.8-8:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class which could cause problems when
     creating a <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> from a FITS header containing WCS information stored in
     the form of Digitised Digitised Sky Survey (DSS) keywords. These problems
     only occurred for DSS fields in the southern hemisphere, and resulted in
     pixel positions being mapped to sky positions close to the corresponding
     <em>northern</em> hemispshere field.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">A new method called <a 
href="sun211ss15.html#x40-2320000">astBoundingBox</a> has been added to the <a 
href="sun211ss467.html#x494-6860000">Plot</a> class. This
     method returns the bounding box of the previous graphical output produced
     by a Plot method.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">A new attribute called <a 
href="sun211ss313.html#x339-5310000">Invisible</a> has been added to the Plot class which
     suppresses the graphical output normally produced by Plot methods. All the
     calculations needed to produce the normal output are still performed
     however, and so the bounding box returned by the new astBoundingBox method
     is still usable.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">Bugs have been fixed related to the appearance of graphical output produced
     by the Plot class. These bugs were to do with the way in which graphical
     elements relating to a specific axis (e.g. <code>Colour(axis1)</code>, etc.) interacted
     with the corresponding generic element (e.g. <code>Colour(axes)</code>, etc.).
     </dd></dl>
<a 
 id="x559-780005r1856"></a>
<h4 class="subsectionHead"><span class="titlemark">H.14  </span> <a 
 id="x559-78100014"></a>Changes Introduced in V1.8-13</h4>
<!--l. 50813--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V1.8-8 and V1.8-13:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class has been modified so that LONPOLE keywords are only
     produced by <a 
href="sun211ss237.html#x262-4540000">astWrite</a> when necessary. For zenithal projections such as TAN,
     the LONPOLE keyword can always take its default value and so is not
     included in the FITS header produced by astWrite. Previously, the
     unnecessary production of a LONPOLE keyword could prevent FrameSets being
     written out using encodings which do not support the LONPOLE keyword (such
     as FITS-IRAF).
                                                                                       

                                                                                       
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The FitsChan class has been modified to retain leading and trailing spaces
     within COMMENT cards.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The FitsChan class has been modified to only use CTYPE comments as axis
     labels if all non-celestial axes have unique non-blank comments (otherwise
     the CTYPE keyword values are used as labels).
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">The FitsChan class has been modified so that it does not append a trailing
     &#x201C;Z&#x201D; character to the end of DATE-OBS keyword values.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">The FitsChan class has been modified to use latest list of FITS-WCS
     projections, as described in the FITS-WCS paper II, &#x201C;Representations of
     celestial coordinates in FITS&#x201D; (Calabretta &#x0026; Greisen, draft dated 23 April
     2002). Support has been retained for the polynomial correction terms which
     previous drafts have allowed to be associated with TAN projections.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss497.html#x524-7160000">WcsMap</a> class has additional projection types of AST__TPN (which
     implements a distorted TAN projection) and AST__SZP. The AST__TAN
     projection type now represents a simple TAN projection and has no
     associated projection parameters. In addition, the usage of projection
     parameters has been brought into line with the the FITS-WCS paper II.
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">The WcsMap class has been modified so that a &#x201C;get&#x201D; operation on a
     projection parameter attribute will return the default value defined in the
     FITS-WCS paper II if no value has been set for the attribute. Previously, a
     value of AST__BAD was returned in such a situation.
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss452.html#x479-6710000">Frame</a> class has new attributes <a 
href="sun211ss424.html#x450-6420000">Top(axis)</a> and <a 
href="sun211ss254.html#x280-4720000">Bottom(axis)</a> which allow a
     &#x201C;plottable range&#x201D; to be specified for each Frame axis. The grid produced by
     the <a 
href="sun211ss83.html#x108-3000000">astGrid</a> method will not extend beyond these limits.
     </dd></dl>
<a 
 id="x559-781009r1857"></a>
<h4 class="subsectionHead"><span class="titlemark">H.15  </span> <a 
 id="x559-78200015"></a>Changes Introduced in V2.0</h4>
<!--l. 50862--><p class="noindent" >Note, <a 
href="sun211ss452.html#x479-6710000">Frame</a> descriptions created using AST V2.0 will not be readable by applications
linked with earlier versions of AST. This applies to Frame descriptions created
using:
     <ul class="itemize1">
     <li class="itemize">the <a 
href="sun211ss441.html#x468-6600000">Channel</a> class
     </li>
     <li class="itemize">the <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class if the NATIVE <a 
href="sun211ss284.html#x310-5020000">Encoding</a> is used
                                                                                       

                                                                                       
     </li>
     <li class="itemize">the <a 
href="sun211ss187.html#x212-4040000">astShow</a> function</li></ul>
<!--l. 50871--><p class="noindent" >Applications must be re-linked with AST V2.0 in order to be able to read Frame
descriptions created by AST v2.0.
<!--l. 50874--><p class="noindent" >The following describes the most significant changes which have occurred in the AST
library between versions V1.8-13 and V2.0 (the current version):
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The default value for the <a 
href="sun211ss279.html#x305-4970000">Domain</a> attribute provided by the <a 
href="sun211ss443.html#x470-6620000">CmpFrame</a> class
     has been changed from &#x201C;CMP&#x201D; to a string formed by concatenating the Domain
     attributes of the two component Frames, separated by a minus sign. If both
     component Domains are blank, then the old default of &#x201C;CMP&#x201D; is retained for
     the CmpFrame Domain.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The implementation of the <a 
href="sun211ss237.html#x262-4540000">astWrite</a> function within the FitsChan class has
     been modified. It will now attempt to produce a set of FITS header cards to
     describe a <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> even if the number of axes in the <a 
href="sun211ss273.html#x299-4910000">Current</a> Frames is
     greater than the number in the <a 
href="sun211ss252.html#x278-4700000">Base</a> Frame (that is, if there are more WCS
     axes than pixel axes). This has always been possible with NATIVE encoding,
     but has not previously been possible for foreign encodings. The WCSAXES
     keyword is used to store the number of WCS axes in the FITS header.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">Another change to the astWrite function within the FitsChan class is that
     the ordering of &#x201C;foreign&#x201D; axes (<em>i.e.</em> CTYPE keywords) is now chosen to make
     the CD (or PC) matrix as diagonal as possible - any element of axis
     transposition is removed by this re-ordering as recommended in FITS-WCS
     paper I. Previously the ordering was determined by the order of the axes in
     the Current Frame of the supplied FrameSet. This change does not affect
     NATIVE encoding.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">Support for spectral coordinate systems has been introduced throught the
     addition of two new classes, <a 
href="sun211ss481.html#x508-7000000">SpecFrame</a> and <a 
href="sun211ss482.html#x509-7010000">SpecMap</a>. The SpecFrame is a
     1-dimensional Frame which can be used to describe positions within an
     electromagnetic spectrum in various systems (wavelength, frequency, various
     forms of velocity,&#x00A0;<em>etc.</em>) and referred to various standards of rest
     (topocentric, geocentric, heliocentric LSRK,&#x00A0;<em>etc.</em>). The SpecMap is a
     <a 
href="sun211ss459.html#x486-6780000">Mapping</a> which can transform spectral axis values between these various
     systems and standards of rest. Note, FitsChans which have a foreign
     encoding (<em>i.e.</em> any encoding other than NATIVE) are not yet able to read or
     write these new classes.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">Facilities have been added to the Frame class which allow differences in axis
     units to be taken into account when finding a Mapping between two Frames. In
     previous versions of AST, the Unit attribute was a purely descriptive item intended
     only for human readers - changing the value of Unit made no difference to the
                                                                                       

                                                                                       
     behaviour of the Frame. As of version 2.0, the Unit attribute can influence the
     nature of the Mappings between Frames. For instance, if the astFindrame or <a 
href="sun211ss32.html#x57-2490000">astConvert</a>
     method is used to find the Mapping between an <a 
href="sun211ss439.html#x466-6580000">Axis</a> with Unit set to &#x201C;m&#x201D; and another
     Axis with Unit set to &#x201C;km&#x201D;, then the method will return a <a 
href="sun211ss500.html#x527-7190000">ZoomMap</a> which introduces
     a scaling factor of 0.001 between the two axes. These facilities assume that
     units are specified following the rules included in FITS-WCS paper I (<em>Representation
     of World Coordinates in FITS</em>, Greisen &#x0026; Calabretta).
     <!--l. 50931--><p class="noindent" >In order to minimise the risk of breaking existing software, the default
     behaviour for simple Frames is to ignore the Unit attribute (<em>i.e.</em> to retain
     the previous behaviour). However, the new Frame method <a 
href="sun211ss179.html#x204-3960000">astSetActiveUnit</a> may
     be used to &#x201C;activate&#x201D; (or deactivate) the new facilities within a specific
     Frame. Note, the new SpecFrame class is different to the simple Frame class
     in that the new facilities for handling units are always active within a
     SpecFrame.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss413.html#x439-6310000">System</a> and <a 
href="sun211ss285.html#x311-5030000">Epoch</a> attributes fo the <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> class have been moved to
     the parent Frame class. This enables all sub-classes of Frame (such as the
     new SpecFrame class) to share these attributes, and to provide suitable
     options for each class.
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">The Frame class has a new attribute called <a 
href="sun211ss247.html#x273-4650000">AlignSystem</a>, which allows
     control over the alignment process performed by the methods <a 
href="sun211ss52.html#x77-2690000">astFindFrame</a>
     and astConvert.
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">The CmpFrame class has been modified so that attributes of a component Frame
     can be accessed without needing to extract the Frame first. To do this, append
     an axis index to the end of the attribute name. For instance, if a CmpFrame contains
     a SpecFrame and a SkyFrame (in that order), then the <a 
href="sun211ss409.html#x435-6270000">StdOfRest</a> attribute of the
     SpecFrame can be referred to as the &#x201C;StdOfRest(1)&#x201D; attribute of the CmpFrame.
     Likewise, the <a 
href="sun211ss286.html#x312-5040000">Equinox</a> attribute of the SkyFrame can be accessed as the &#x201C;Equinox(2)&#x201D;
     (or equivalently &#x201C;Equinox(3)&#x201D;) attribute of the CmpFrame. The &#x201C;System(1)&#x201D; attribute
     of the CmpFrame will refer to the System attribute of the SpecFrame, whereas
     the &#x201C;System(2)&#x201D; and &#x201C;System(3)&#x201D; attributes of the CmpFrame will refer to the
     System attribute of the SkyFrame (the &#x201C;System&#x201D; attribute without an axis specifier
     will refer to the System attribute of the CmpFrame as a whole, since System is
     an attribute of all Frames, and a CmpFrame is a Frame and so has its own System
     value which is independant of the System attributes of its component Frames).
     </dd><dt class="enumerate-enumitem">
 (9) </dt><dd 
class="enumerate-enumitem">The algorithms used by the <a 
href="sun211ss467.html#x494-6860000">Plot</a> class for determining when to omit
     overlapping axis labels, and the abbreviation of redundant leading fields
     within sexagesimal axis labels, have been improved to avoid some anomolous
     behaviour in previous versions.
     </dd><dt class="enumerate-enumitem">
(10) </dt><dd 
class="enumerate-enumitem">The curve drawing algorithm used by the Plot class has been modified to
     reduce the chance of it &#x201C;missing&#x201D; small curve sections, such as may be
                                                                                       

                                                                                       
     produced if a grid line cuts across the plot very close to a corner.
     Previously, these missed sections could sometimes result in axis labels
     being omitted.
     </dd><dt class="enumerate-enumitem">
(11) </dt><dd 
class="enumerate-enumitem">A new function (<a 
href="sun211ss232.html#x257-4490000">astVersion</a>) has been added to return the version of the AST
     library in use.
     </dd><dt class="enumerate-enumitem">
(12) </dt><dd 
class="enumerate-enumitem">Bugs have been fixed in the Plot class which caused serious problems when
     plotting high precision data. These problems could range from the omission
     of some tick marks to complete failure to produce a plot.
     </dd></dl>
<!--l. 50987--><p class="noindent" >Programs which are statically linked will need to be re-linked in order to take
advantage of these new facilities.
<a 
 id="x559-782013r1858"></a>
<h4 class="subsectionHead"><span class="titlemark">H.16  </span> <a 
 id="x559-78300016"></a>Changes Introduced in V3.0</h4>
<!--l. 50993--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V2.0 and V3.0:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">Many changes have been made in the <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class in order to bring the
     FITS-WCS encoding into line with the current versions of the FITS-WCS
     papers (see <a 
href="http://www.atnf.csiro.au/people/mcalabre/WCS/" class="url" >http://www.atnf.csiro.au/people/mcalabre/WCS/</a>):
          <ul class="itemize1">
          <li class="itemize">The rotation and scaling of the pixel axes may now be specified using
          either CD<em>i_j</em> keywords, or PC<em>i_j</em> and CDELTj keywords. A new attribute
          called <a 
href="sun211ss256.html#x282-4740000">CDMatrix</a> has been added to the FitsChan class to indicate which
          set of keywords should be used when writing a <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> to a FITS-WCS
          header.
          </li>
          <li class="itemize">The FITS-WCS encoding now supports most of the conventions described in
          FITS-WCS paper III for the description of spectral coordinates. The
          exceptions are that the SSYSOBS keyword is not supported, and WCS
          stored in tabular form (as indicated by the &#x201C;-TAB&#x201D; algorithm code) is
          not supported.
          </li>
          <li class="itemize">User-specified fiducial points for WCS projections are now supported by
          FitsChans which use FITS-WCS encoding. This use keywords PVi_0, PVi_1
          and PVi_2 for the longitude axis.
          </li>
          <li class="itemize">When reading a FITS-WCS header, a FitsChan will now use keywords PVi_3
          and PVi_4 for the longitude axis (if present) in preference to any
          LONPOLE and LATPOLE keywords which may be present. When writing a
          FITS-WCS header, both forms are written out.
                                                                                       

                                                                                       
          </li>
          <li class="itemize">The number of WCS axes is stored in the WCSAXES keyword if its value
          would be different to that of the NAXIS keyword.
          </li>
          <li class="itemize">Helio-ecliptic coordinates are now supported by FitsChans which use
          FITS-WCS encoding. This uses CTYPE codes &#x201C;HLON&#x201D; and &#x201C;HLAT&#x201D;. The
          resulting <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> will have a <a 
href="sun211ss413.html#x439-6310000">System</a> value of &#x201C;HELIOECLIPTIC&#x201D;, and all
          the usual facilities, such as conversion to other celestial systems,
          are available.
          </li>
          <li class="itemize">The FITS-WCS encoding now supports most of the conventions described in
          FITS-WCS paper III for the description of spectral coordinates. The
          exceptions are that the SSYSOBS keyword is not supported, and WCS
          stored in tabular form (as indicated by the &#x201C;-TAB&#x201D; algorithm code) is
          not supported.
          </li>
          <li class="itemize">When reading a FITS-WCS header, a FitsChan will now ignore any distortion
          codes which are present in CTYPE keywords. Here, a &#x201C;distortion code&#x201D; is the
          final group of four characters in a CTYPE value of the form &#x201C;xxxx-yyy-zzz&#x201D;,
          as described in FITS-WCS paper IV. The exception to this is that the &#x201C;-SIP&#x201D;
          distortion code (as used by the Spitzer Space Telescope project - see <a 
href="http://ssc.spitzer.caltech.edu/postbcd/doc/shupeADASS.pdf" class="url" >http://ssc.spitzer.caltech.edu/postbcd/doc/shupeADASS.pdf</a>)
          is interpreted correctly and results in a <a 
href="sun211ss470.html#x497-6890000">PolyMap</a> being used to represent
          the distortion in the resulting FrameSet. Note, &#x201C;-SIP&#x201D; distortion codes can
          only be read, not written. A FrameSet which uses a PolyMap will not in general
          be able to be written out to a FitsChan using any foreign encoding (although
          NATIVE encoding can of course be used).
          </li>
          <li class="itemize">The <a 
href="sun211ss431.html#x457-6490000">Warnings</a> attribute of the FitsChan class now accepts values
          &#x201C;BadVal&#x201D; (which gives warnings about conversion errors when reading
          FITS keyword values), &#x201C;Distortion&#x201D; (which gives warnings about
          unsupported distortion codes within CTYPE values), and &#x201C;BadMat&#x201D; (which
          gives a warning if the rotation/scaling matrix cannot be inverted).
          </li>
          <li class="itemize">When writing a FrameSet to a FitsChan which uses a non-Native encoding,
          the comment associated with any card already in the FitsChan will be
          retained if the keyword value being written is the same as the keyword
          value already in the FitsChan.
          </li>
          <li class="itemize">A FrameSet which uses the non-FITS projection type AST__TPN (a TAN
          projection with polynomial distortion terms) can now be written to a
          FitsChan if the <a 
href="sun211ss284.html#x310-5020000">Encoding</a> attribute is set to FITS-WCS. The standard
          &#x201C;-TAN&#x201D; code is used within the CTYPE values, and the distortion
          coefficients are encoded in keywords of the form &#x201C; QVi_ma&#x201D;, which are
          directly analogous to the standard &#x201C;PVi_ma&#x201D; projection parameter
          keywords. Thus a FITS reader which does not recognise the QV keywords
          will still be able to read the header, but the distortion will be
          ignored.
                                                                                       

                                                                                       
          </li>
          <li class="itemize">The default value for <a 
href="sun211ss275.html#x301-4930000">DefB1950</a> attribute now depends on the value of
          the Encoding attribute.
          </li>
          <li class="itemize">A new appendix has been added to SUN/210 and SUN/211 giving details of
          the implementation provided by the FitsChan class of the conventions
          contained in the first four FITS-WCS papers.</li></ul>
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The SkyFrame class now supports two new coordinate systems &#x201C;ICRS&#x201D; and
     &#x201C;HELIOECLIPTIC&#x201D;. The default for the System attribute for SkyFrames has been
     changed from &#x201C;FK5&#x201D; to &#x201C;ICRS&#x201D;.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss158.html#x183-3750000">astRate</a> function has been added which allows an estimate to be made of the
     rate of change of a <a 
href="sun211ss459.html#x486-6780000">Mapping</a> output with respect to one of the Mapping
     inputs.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">All attribute names for Frames of any class may now include an optional axis
     specifier. This includes those attributes which describe a property of the whole
     <a 
href="sun211ss452.html#x479-6710000">Frame</a>. For instance, the <a 
href="sun211ss279.html#x305-4970000">Domain</a> attribute may now be specified as &#x201C;Domain(1)&#x201D; in
     addition to the simpler &#x201C;Domain&#x201D;. In cases such as this, where the attribute
     describes a property of the whole Frame, axis specifiers will usually be
     ignored. The exception is that a <a 
href="sun211ss443.html#x470-6620000">CmpFrame</a> will use the presence of an
     axis specifier to indicate that the attribute name relates to the primary
     Frame containing the specified axis, rather than to the CmpFrame as a
     whole.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">A new subclass of Mapping, the PolyMap, has been added which performs a general
     N-dimensional polynomial mapping.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">A new subclass of Mapping, the <a 
href="sun211ss454.html#x481-6730000">GrismMap</a>, has been added which models the spectral
     dispersion produced by a grating, prism or grism.
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">A new subclass of Mapping, the <a 
href="sun211ss476.html#x503-6950000">ShiftMap</a>, has been added which adds constant values
     onto all coordinates (this is equivalent to a <a 
href="sun211ss498.html#x525-7170000">WinMap</a> with unit scaling on all
     axes).
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">Minor bugs have been fixed within the <a 
href="sun211ss467.html#x494-6860000">Plot</a> class to do with the choice and
     placement of numerical axis labels.
     </dd><dt class="enumerate-enumitem">
 (9) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss483.html#x510-7020000">SphMap</a> class has a new attribute called <a 
href="sun211ss372.html#x398-5900000">PolarLong</a> which gives the longitude
     value to be returned when a Cartesian position corresponding to either the north
     or south pole is transformed into spherical coordinates.
                                                                                       

                                                                                       
     </dd><dt class="enumerate-enumitem">
(10) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss497.html#x524-7160000">WcsMap</a> class now assigns a longitude of zero to output celestial coordinates
     which have a latitude of plus or minus 90 degrees.
     </dd><dt class="enumerate-enumitem">
(11) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss345.html#x371-5630000">NatLat</a> and <a 
href="sun211ss346.html#x372-5640000">NatLon</a> attributes of the WcsMap class have been changed so that
     they now return the fixed native coordinates of the projection reference
     point, rather than the native coordinates of the user-defined fiducial
     point.
     </dd><dt class="enumerate-enumitem">
(12) </dt><dd 
class="enumerate-enumitem">Notation has been changed in both the WcsMap and FitsChan classes to reflect the
     convention used in the FITS-WCS papers that index &#x201C;i&#x201D; refers to a world coordinate
     axis, and index &#x201C;j&#x201D; refers to a pixel axis.
     </dd><dt class="enumerate-enumitem">
(13) </dt><dd 
class="enumerate-enumitem">Changes have been made to several Mapping classes in order to allow the
     <a 
href="sun211ss190.html#x215-4070000">astSimplify</a> function to make simplifications in a <a 
href="sun211ss444.html#x471-6630000">CmpMap</a> which previously were not
     possible.
     </dd><dt class="enumerate-enumitem">
(14) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss479.html#x506-6980000">SlaMap</a> class has been extended by the addition of conversions between FK5 and
     ICRS coordinates, and between FK5 and helio-ecliptic coordinates.
     </dd><dt class="enumerate-enumitem">
(15) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss482.html#x509-7010000">SpecMap</a> class has been changed to use the equation for the refractive index of
     air as given in the current version of FITS-WCS paper III. Also, the forward and
     inverse transformations between frequency and air-wavelength have been
     made more compatible by using an iterative procedure to calculate the
     inverse.
     </dd></dl>
<a 
 id="x559-783016r1859"></a>
<h4 class="subsectionHead"><span class="titlemark">H.17  </span> <a 
 id="x559-78400017"></a>Changes Introduced in V3.1</h4>
<!--l. 51150--><p class="noindent" >The following describes the most significant changes which have occurred in the AST
library between versions V3.0 and V3.1 (the current version):
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">Addition of a new class called <a 
href="sun211ss499.html#x526-7180000">XmlChan</a> - a <a 
href="sun211ss441.html#x468-6600000">Channel</a> which reads and writes
     AST objects in the form of XML.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the <a 
href="sun211ss467.html#x494-6860000">Plot</a> class which could cause incorrect
     graphical attributes to be used for various parts of the plot if either
     axis has no tick marks (i.e. if both major and minor tick marks have zero
     length).</dd></dl>
<!--l. 51163--><p class="noindent" >Programs which are statically linked will need to be re-linked in order to take
advantage of these new facilities.
                                                                                       

                                                                                       
<a 
 id="x559-784003r1860"></a>
<h4 class="subsectionHead"><span class="titlemark">H.18  </span> <a 
 id="x559-78500018"></a>Changes Introduced in V3.2</h4>
<!--l. 51169--><p class="noindent" >The following describes the most significant changes which have occurred in the AST
library between versions V3.1 and V3.2:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">A new function <a 
href="sun211ss150.html#x175-3670000">astPutCards</a> has been added to the <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class. This
     allows multiple concatenated header cards to be stored in a FitsChan in a
     single call, providing an alternative to the existing astPutCards function.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">Some signficant changes have been made to the simplification of Mappings
     which should resultin a greater degree of simplication taking place.Some
     bugs have also been fixed which could result in an infinite loop being
     entered when attempting to simplify certain Mappings.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The FitsChan class now translates the spectral algorithm codes &#x201C;-WAV&#x201D;,
     &#x201C;-FRQ&#x201D; and &#x201C;-VEL&#x201D; (specified in early drafts of paper III) to the
     corresponding &#x201C;-X2P&#x201D; form when reading a spectral axis description from a
     set of FITS header cards.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the FitsChan class which could cause keywords
     associated with alternate axis descriptions to be mis-interpreted.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss467.html#x494-6860000">Plot</a> class now provides facilities for modifying the appearance of
     sub-strings within text strings such as axis labels, titles, <em>etc</em>, by
     producing super-scripts, sub-scripts, changing the font colour, size, <em>etc</em>.
     See attribute <a 
href="sun211ss287.html#x313-5050000">Escape</a>.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">The default value of the <a 
href="sun211ss422.html#x448-6400000">Tol</a> attribute of the Plot class has been changed
     from 0.001 to 0.01. This should not usually cause any significant visible
     change to the plot, but should make the plotting faster. You may need to
     set a lower value for Tol if you are producing a particularly large plot.
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">The algorithm for finding the default value for the Gap attribute has been
     changed. This attribute specifies the gap between major axis values in an
     annotated grid drawn by the Plot class. The change in algorithm may cause
     the default value to be different to previous versions in cirtain
     circumstances.
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">Some bugs have been fixed in the Plot class which could cause the system to
     hang for a long time while drawing certain all-sky grids (notable some of
     the FITS Quad-cube projections).
                                                                                       

                                                                                       
     </dd><dt class="enumerate-enumitem">
 (9) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss477.html#x504-6960000">SkyAxis</a> class has extended the Format attribute by the addition of the
     &#x201C;g&#x201D; option. this option is similar to the older &#x201C;l&#x201D; option in that it
     results in characters (&#x201C;h&#x201D;, &#x201C;m&#x201D;, &#x201C;s&#x201D;, <em>etc</em>) being used as delimiters between
     the sexagesimal fields of the celestial position. The difference is that
     the &#x201C;g&#x201D; option includes graphics escape sequences in the returned formatted
     string which result in the field delimiter characters being drawn as
     super-scripts when plotted as numerical axis values by a Plot.
     </dd><dt class="enumerate-enumitem">
(10) </dt><dd 
class="enumerate-enumitem">The Plot class has been extended to include facilities for producing
     logarithmic axes. See attributes LogPlot, LogTicks, LogGap and LogLabel.
     </dd><dt class="enumerate-enumitem">
(11) </dt><dd 
class="enumerate-enumitem">New functions astGCap and astGScales have been added to the interface defined
     by file <span class="obeylines-h"><span class="verb">grf.h</span></span>. The <a 
href="sun211ss501.html#x529-7210000">ast_link</a> command has been modified so that the <span class="obeylines-h"><span class="verb">-mygrf</span></span> switch
     loads dummy versions of the new grf functions. This means that applications should
     continue to build without any change. However, the facilities for interpreting
     escape sequences within strings drawn by the Plot class will not be available
     unless the new grf functions are implemented. If you choose to implement them,
     you should modify your linking procedure to use the <span class="obeylines-h"><span class="verb">-grf</span></span> switch in place of the
     older <span class="obeylines-h"><span class="verb">-mygrf</span></span> switch. See the description of the ast_link command for details
     of the new switches. Also note that the astGQch function, whilst included in
     verb+grf.h+ in pervious versions of AST, was not actually called. As of this
     version of AST, calls are made to the astGQch function, and so any bugs in the
     implementation of astGQch may cause spurious behaviour when plotting text strings.
     </dd><dt class="enumerate-enumitem">
(12) </dt><dd 
class="enumerate-enumitem">A new &#x2019;static&#x2019; method called <a 
href="sun211ss48.html#x73-2650000">astEscapes</a> has been added which is used to
     control and enquire whether astGetC and <a 
href="sun211ss56.html#x81-2730000">astFormat</a> will strip any graphical
     escape sequences which may be present out of the returned value.
     </dd><dt class="enumerate-enumitem">
(13) </dt><dd 
class="enumerate-enumitem">New attribute <a 
href="sun211ss437.html#x463-6550000">XmlPrefix</a> has been added to the <a 
href="sun211ss499.html#x526-7180000">XmlChan</a> class. It allows XML
     written by the XmlChan class to include an explicit namespace prefix on
     each element.
     </dd><dt class="enumerate-enumitem">
(14) </dt><dd 
class="enumerate-enumitem">New attribute <a 
href="sun211ss435.html#x461-6530000">XmlFormat</a> has been added to the XmlChan class. It specifies
     the format in which AST objects should be written.
     </dd><dt class="enumerate-enumitem">
(15) </dt><dd 
class="enumerate-enumitem">A new class of <a 
href="sun211ss459.html#x486-6780000">Mapping</a>, the <a 
href="sun211ss494.html#x521-7130000">TranMap</a>, has been introduced. A TranMap takes
     its forward transformation from an existing Mapping, and its inverse
     transformation from another existing Mapping.
     </dd><dt class="enumerate-enumitem">
(16) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in <a 
href="sun211ss497.html#x524-7160000">WcsMap</a> which caused error reports to include
     erroneous axis numbers when referring to missing parameter values.
     </dd></dl>
                                                                                       

                                                                                       
<a 
 id="x559-785017r1861"></a>
<h4 class="subsectionHead"><span class="titlemark">H.19  </span> <a 
 id="x559-78600019"></a>Changes Introduced in V3.3</h4>
<!--l. 51264--><p class="noindent" >The following describes the most significant changes which have occurred in the AST
library between versions V3.2 and V3.3:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">Options have been added to the <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> class which allows the origin of
     celestial coordinates to be moved to any specified point. See the new
     attributes SkyRef, <a 
href="sun211ss395.html#x421-6130000">SkyRefIs</a>, SkyRefP and <a 
href="sun211ss243.html#x269-4610000">AlignOffset</a>.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">An option has been added to the <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class which allows extra Frames
     representing cartesian projection plane coordinates (&#x201C;intermediate world
     coordinates&#x201D; in the parlance of FITS-WCS) to be created when reading WCS
     information from a foreign FITS header. This option is controlled by a new
     attribute called <a 
href="sun211ss319.html#x345-5370000">Iwc</a>.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The FitsChan class which been modified to interpret FITS-WCS CAR projection
     headers correctly if the longitude reference pixel (CRPIX) is very large.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">The FITS-AIPS++ encoding in the FitsChan class now recognised spectral axes
     if they conform to the AIPS convention in which the spectral axis is
     descirbed by a CTYPE keyword od the form &#x0022;AAAA-BBB&#x0022; where &#x201C;AAAA&#x201D; is one of
     FREQ, VELO or FELO, and &#x201C;BBB&#x201D; is one of LSR, LSD, HEL or OBS. Such spectral
     axes can be both read and written.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">The FitsChan class now has a FITS-AIPS++ encoding which represents WCS
     information using FITS header cards recognised by the AIPS++ project.
     Support for spectral axes is identical to the FITS-AIPS encoding.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">The organisation of the AST distribution and the commands for building it
     have been changed. Whereas AST used to be built and installed with
     <span class="obeylines-h"><span class="verb">./mk&#x00A0;build;&#x00A0;./mk&#x00A0;install</span></span>, it now builds using the more standard idiom
     <span class="obeylines-h"><span class="verb">./configure;&#x00A0;make;&#x00A0;make&#x00A0;install</span></span>. The installation location is controlled by
     the <span class="obeylines-h"><span class="verb">--prefix</span></span> argument to ./configure (as is usual for other packages which
     use this scheme). Note that the INSTALL environment variable now has a
     <em>different</em> meaning to that which it had before, and it should generally be
     <em>unset</em>. Also, there is no need to set the SYSTEM variable.
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">Shared libraries are now installed in the same directory as the static
     libraries. In addition, links to sharable libraries are installed with
     names which include version information, and &#x201C;libtool libraries&#x201D; are also
     installed (see <a 
href="http://www.gnu.org/software/libtool/manual.html" class="url" >http://www.gnu.org/software/libtool/manual.html</a>).
                                                                                       

                                                                                       
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">The <span class="obeylines-h"><span class="verb">ast_dev</span></span> script has been removed. Instead, the location of the AST
     include files should be specified using the -I option when compiling.
     </dd></dl>
<a 
 id="x559-786009r1862"></a>
<h4 class="subsectionHead"><span class="titlemark">H.20  </span> <a 
 id="x559-78700020"></a>Changes Introduced in V3.4</h4>
<!--l. 51321--><p class="noindent" >The following describes the most significant changes which have occurred in the AST
library between versions V3.3 and V3.4:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss459.html#x486-6780000">Mapping</a> class has a new method (<a 
href="sun211ss97.html#x122-3140000">astLinearApprox</a>) which calculates the
     co-efficients of a linear approximation to a Mapping.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The Format attribute for simple Frames and SkyFrames has been extended. It
     has always been possible, in both classes, to specify a precision by
     including a dot in the Format value followed by an integer (<em>e.g.</em> &#x201C;<span class="obeylines-h"><span class="verb">dms.1</span></span>&#x201D;
     for a <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a>, or &#x201C;<span class="obeylines-h"><span class="verb">%.10g</span></span>&#x201D; for a simple <a 
href="sun211ss452.html#x479-6710000">Frame</a>). The precision can now also
     be specified using an asterisk in place of the integer (<em>e.g.</em> &#x201C;<span class="obeylines-h"><span class="verb">dms.*</span></span>&#x201D; or
     &#x201C;<span class="obeylines-h"><span class="verb">%.*g</span></span>&#x201D;). This causes the precision to be derived on the basis of the Digits
     attribute value.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss467.html#x494-6860000">Plot</a> class has been changed so that the default value used for the
     Digits attribute is chosen to be the smallest value which results in no
     pair of adjacent labels being identical. For instance, if an annotated grid
     is being drawn describing a SkyFrame, and the Format(1) value is set to
     &#x201C;<span class="obeylines-h"><span class="verb">hms.*g</span></span>&#x201D; (the &#x201C;g&#x201D; causes field delimiters to be drawn as superscripts), and
     the Digits(1) value is unset, then the seconds field will have a number of
     decimal places which results in no pair of labels being identical.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">Addition of a new class classed <a 
href="sun211ss446.html#x473-6650000">DSBSpecFrame</a>. This is a sub-class of
     <a 
href="sun211ss481.html#x508-7000000">SpecFrame</a> which can be used to describe spectral axes associated with dual
     sideband spectral data.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class will now read headers which use the old &#x201C;-GLS&#x201D;
     projection code, converting them to the corresponding modern &#x201C;-SFL&#x201D; code,
     provided that the celestial axes are not rotated.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">The FitsChan class has a new <a 
href="sun211ss284.html#x310-5020000">Encoding</a>, &#x201C;FITS-CLASS&#x201D;, which allows the
     reading and writing of FITS headers using the conventions of the CLASS
     package - see
     <a 
href="http://www.iram.fr/IRAMFR/GILDAS/doc/html/class-html/class.html" class="url" >http://www.iram.fr/IRAMFR/GILDAS/doc/html/class-_html/class.html</a>).
     </dd></dl>
                                                                                       

                                                                                       
<a 
 id="x559-787007r1863"></a>
<h4 class="subsectionHead"><span class="titlemark">H.21  </span> <a 
 id="x559-78800021"></a>Changes Introduced in V3.5</h4>
<!--l. 51365--><p class="noindent" >The following describes the most significant changes which have occurred in the AST
library between versions V3.4 and V3.5:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">AST now provides facilities for representing regions of various shapes
     within a coordinate system. The <a 
href="sun211ss474.html#x501-6930000">Region</a> class provides general facilities
     which are independent of the specific shape of region being used. Various
     sub-classes of Region are also now available which provide means of
     creating Regions of specific shape. Facilities provided by the Region class
     include testing points to see if they are inside the Region, testing two
     Regions for overlap, transforming Regions from one coordinate system to
     another <em>etc</em>.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">A new class of 1-dimensional <a 
href="sun211ss452.html#x479-6710000">Frame</a> called <a 
href="sun211ss451.html#x478-6700000">FluxFrame</a> has been added which
     can be used to describe various systems for describing ovserved value at a
     single fixed spectral position.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">A new class of 2-dimensional Frame called <a 
href="sun211ss480.html#x507-6990000">SpecFluxFrame</a> has been added
     which can be used to describe a 2-d frame spanned by a spectral position
     axis and and an observed value axis.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">A new class of <a 
href="sun211ss459.html#x486-6780000">Mapping</a> called <a 
href="sun211ss473.html#x500-6920000">RateMap</a> has been added. A RateMap
     encapsulates a previously created Mapping. The inputs of the RateMap
     correspond to the inputs of the encapsulated Mapping. All RateMaps have
     just a single output which correspond to the rate of change of a specified
     output of the encapsulated Mapping with respect to a specified input.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> class now supports a value of &#x201C;J2000&#x201D; for <a 
href="sun211ss413.html#x439-6310000">System</a>. This system
     is an equatorial system based on the mean dynamical equator and equinox at
     J2000, and differs slightly from an FK5(J2000) system.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">A new class called <a 
href="sun211ss457.html#x484-6760000">KeyMap</a> has been added. A KeyMap can be used to store a
     collection of vector or scalar values or Objects, indexed by a character
     string rather than an integer.
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">The parameter list for the <a 
href="sun211ss158.html#x183-3750000">astRate</a> method of the Mapping class has been
     modified. It no longer returns a second derivative estimate. Existing code
     which uses this method will need to be changed.
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">Methods (astSetFits&#x003C;X&#x003E;) have been added to the <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class to allow
     values for named keywords to be changed or added.
                                                                                       

                                                                                       
     </dd></dl>
<a 
 id="x559-788009r1864"></a>
<h4 class="subsectionHead"><span class="titlemark">H.22  </span> <a 
 id="x559-78900022"></a>Changes Introduced in V3.6</h4>
<!--l. 51417--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V3.5 and V3.6:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">If the Format attribute associated with an axis of a <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> starts with a
     percent character (&#x201C;<span class="obeylines-h"><span class="verb">%</span></span>&#x201D;), then axis values are now formatted and unformatted
     as a decimal radians value, using the Format syntax of a simple <a 
href="sun211ss452.html#x479-6710000">Frame</a>.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss467.html#x494-6860000">Plot</a> class has a new attribute called <a 
href="sun211ss264.html#x290-4820000">Clip</a> which controls the clipping
     performed by AST at the plot boundary.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The keys used to label components of the <a 
href="sun211ss470.html#x497-6890000">PolyMap</a> structure when a PolyMap
     is written out through a <a 
href="sun211ss441.html#x468-6600000">Channel</a> have been changed. The new keys are
     shorter than the old keys and so can written succesfully to a <a 
href="sun211ss449.html#x476-6680000">FitsChan</a>. The
     new PolyMap class always writes new styles keys but can read either old or
     new style keys. Consequently, PolyMap dumps written by this version of AST
     cannot be read by older versions of AST.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">A mimimal cut down subset of the C version of SLALIB is now included with
     the AST distribution and built as part of building AST. This means that it
     is no longer necessary to have SLALIB installed separately at your site.
     The SLALIB code included with AST is distrubuted under the GPL. The default
     behaviour of the <a 
href="sun211ss501.html#x529-7210000">ast_link</a> script is now to link with this internal slalib
     subset. However, the &#x201C;-csla&#x201D; option can still be used to force linking with
     an external full C SLALIB library. A new option &#x201C;-fsla&#x201D; has been introduced
     which forces linking with the external full Fortran SLALIB library.
     </dd></dl>
<a 
 id="x559-789005r1865"></a>
<h4 class="subsectionHead"><span class="titlemark">H.23  </span> <a 
 id="x559-79000023"></a>Changes Introduced in V3.7</h4>
<!--l. 51451--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V3.6 and V3.7:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">Support for time coordinate systems has been introduced throught the
     addition of two new classes, <a 
href="sun211ss492.html#x519-7110000">TimeFrame</a> and <a 
href="sun211ss493.html#x520-7120000">TimeMap</a>. The TimeFrame is a
     1-dimensional <a 
href="sun211ss452.html#x479-6710000">Frame</a> which can be used to describe moments in time (either
     absolute or relative) in various systems (MJD, Julian <a 
href="sun211ss285.html#x311-5030000">Epoch</a>, <em>etc.</em>) and
     referred to various time scales (TAI, UTC, UT1, GMST, <em>etc</em>). The TimeMap is
     a <a 
href="sun211ss459.html#x486-6780000">Mapping</a> which can transform time values between these various systems and
     time scales. Note, FitsChans which have a foreign encoding (<em>i.e.</em> any
                                                                                       

                                                                                       
     encoding other than NATIVE) are not able to read or write these new
     classes.
     </dd></dl>
<a 
 id="x559-790002r1866"></a>
<h4 class="subsectionHead"><span class="titlemark">H.24  </span> <a 
 id="x559-79100024"></a>Changes Introduced in V4.0</h4>
<!--l. 51471--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V3.7 and V4.0:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">Experimental support for reading IVOA Space-Time-Coordinates (STC-X)
     descriptions using the <a 
href="sun211ss499.html#x526-7180000">XmlChan</a> class has been added. Support is included
     for a subset of V1.20 of the draft STC specification.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">A new set of methods (AST_REBIN&#x003C;X&#x003E;/astRebin&#x003C;X&#x003E;) has been added to the
     <a 
href="sun211ss459.html#x486-6780000">Mapping</a> class. These are flux-conserving alternatives to the existing
     AST_RESAMPLE&#x003C;X&#x003E;/astResample&#x003C;X&#x003E; methods.
     </dd></dl>
<a 
 id="x559-791003r1867"></a>
<h4 class="subsectionHead"><span class="titlemark">H.25  </span> <a 
 id="x559-79200025"></a>Changes Introduced in V4.1</h4>
<!--l. 51489--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V4.0 and V4.1:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">A new control flag has been added to the AST_RESAMPLE&#x003C;X&#x003E;/astResample&#x003C;X&#x003E;
     functions which produces approximate flux conservation.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">New constants AST__SOMB and AST__SOMBCOS have been added to ast.h. These specify
     kernels for astResample and astRebin based on the &#x201C;Sombrero&#x201D; function ( <!--l. 51499--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>2</mn> <mo 
class="MathClass-bin">&#x2217;</mo><mi 
>J</mi><mn>1</mn><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>x</mi></mrow><mo 
class="MathClass-close">)</mo></mrow><mo 
class="MathClass-bin">/</mo><mi 
>x</mi></math>
     where <!--l. 51499--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>J</mi><mn>1</mn><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>x</mi></mrow><mo 
class="MathClass-close">)</mo></mrow></math>
     is the first order Bessel function of the first kind).
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> class now supports a <a 
href="sun211ss413.html#x439-6310000">System</a> value of AZEL corresponding to
     horizon (azimuth/elevation) coordinates.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class allows the non-standard strings &#x201C;AZ&#x2013;&#x201D; and &#x201C;EL&#x2013;&#x201D; to be
     used as axis types in FITS-WCS CTYPE keyword values.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss452.html#x479-6710000">Frame</a> class now has attributes <a 
href="sun211ss367.html#x393-5850000">ObsLon</a> and <a 
href="sun211ss366.html#x392-5840000">ObsLat</a> to specify the
     geodetic longitude and latitude of the observer.
                                                                                       

                                                                                       
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">The ClockLon and ClockLat attributes have been removed from the <a 
href="sun211ss492.html#x519-7110000">TimeFrame</a>
     class. Likewise, the GeoLon and GeoLat attributes have been removed from
     the <a 
href="sun211ss481.html#x508-7000000">SpecFrame</a> class. Both classes now use the ObsLon and ObsLat attributes
     of the parent Frame class instead. However, the old attribute names can be
     used as synonyms for ObsLat and ObsLon. Also, dumps created using the old
     scheme can be read succesfully by AST V4.1 and converted to the new form.
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">A new function <a 
href="sun211ss118.html#x143-3350000">astMapSplit</a> has been added to the <a 
href="sun211ss459.html#x486-6780000">Mapping</a> class. This splits
     a Mapping into two component Mappings which, when combined in parallel, are
     equivalent to the original Mapping.
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">The default value for the <a 
href="sun211ss395.html#x421-6130000">SkyRefIs</a> attribute has been changed from &#x201C;Origin&#x201D;
     to &#x201C;Ignored&#x201D;. This means that if you want to use a SkyFrame to represent
     offsets from some origin position, you must now set the SkyRefIs attribute
     explicitly to either &#x201C;Pole&#x201D; or &#x201C;Origin&#x201D;, in addition to assigning the
     required origin position to the SkyRef attribute.
     </dd></dl>
<a 
 id="x559-792009r1868"></a>
<h4 class="subsectionHead"><span class="titlemark">H.26  </span> <a 
 id="x559-79300026"></a>Changes Introduced in V4.2</h4>
<!--l. 51535--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V4.1 and V4.2:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss386.html#x412-6040000">SideBand</a> attribute of the <a 
href="sun211ss446.html#x473-6650000">DSBSpecFrame</a> class can now take the option
     &#x201C;LO&#x201D; in addition to &#x201C;USB&#x201D; and &#x201C;LSB&#x201D;. The new option causes the DSBSpecFrame
     to represent the offset from the local oscillator frequency, rather than
     either of the two sidebands.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class has been changed so that it writes out a VELOSYS keyword
     when creating a FITS-WCS encoding (VELOSYS indicates the topocentric
     apparent velocity of the standard of rest). FitsChan also strips out
     VELOSYS keywords when reading a <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> from a FITS-WCS encoding.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The FitsChan class has a new method called <a 
href="sun211ss174.html#x199-3910000">astRetainFits</a> that indicates
     that the current card in the FitsChan should not be stripped out of the
     FitsChan when an AST <a 
href="sun211ss464.html#x491-6830000">Object</a> is read from the FitsChan. Unless this method
     is used, all cards that were involved in the creation of the AST Object
     will be stripped from the FitsChan afte a read operation.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">A problem with unaligned memory access that could cause bus errors on
     Solaris has been fixed.
                                                                                       

                                                                                       
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">A new read-only attribute called <a 
href="sun211ss364.html#x390-5820000">ObjSize</a> has been added to the base Object
     <a 
href="sun211ss262.html#x288-4800000">Class</a>. This gives the number of bytes of memory occupied by the Object.
     Note, this is the size of the internal in-memory representation of the
     Object, not the size of the textual representation produced by writing the
     Object out through a <a 
href="sun211ss441.html#x468-6600000">Channel</a>.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">A new function <a 
href="sun211ss224.html#x249-4410000">astTune</a> has been added which can be used to get and set
     global AST tuning parameters. At the moment there are only two such
     parameter, both of which are concerned with memory management within AST.
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">A new method called <a 
href="sun211ss220.html#x245-4370000">astTranGrid</a> has been added to the <a 
href="sun211ss459.html#x486-6780000">Mapping</a> class. This
     method creates a regular grid of points covering a rectangular region
     within the input space of a Mapping, and then transforms this set of points
     into the output space of the Mapping, using a piecewise-continuous linear
     approximation to the Mapping if appropriate in order to achive higher
     speed.
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">A new subclass of Mapping has been added called <a 
href="sun211ss490.html#x517-7090000">SwitchMap</a>. A SwitchMap
     represents several alternate Mappings, each of which is used to transforms
     input positions within a different region of the input coordinate space.
     </dd><dt class="enumerate-enumitem">
 (9) </dt><dd 
class="enumerate-enumitem">A new subclass of Mapping has been added called <a 
href="sun211ss475.html#x502-6940000">SelectorMap</a>. A SelectorMap
     tests each input position to see if it falls within one of several Regions.
     If it does, the index of the <a 
href="sun211ss474.html#x501-6930000">Region</a> containing the input position is
     returned as the Mapping output.
     </dd><dt class="enumerate-enumitem">
(10) </dt><dd 
class="enumerate-enumitem">The behaviour of the <a 
href="sun211ss32.html#x57-2490000">astConvert</a> method when trying to align a <a 
href="sun211ss443.html#x470-6620000">CmpFrame</a> with
     another <a 
href="sun211ss452.html#x479-6710000">Frame</a> has been modified. If no conversion between positions in the
     Frame and CmpFrame can be found, an attempt is now made to find a
     conversion between the Frame and one of two component Frames contained
     within the CmpFrame. Thus is should now be possible to align a <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a>
     with a CmpFrame containing a SkyFrame and a <a 
href="sun211ss481.html#x508-7000000">SpecFrame</a> (for instance). The
     returned Mapping produces bad values for the extra axes (i.e. for the
     SpecFrame axis in the above example).
     </dd><dt class="enumerate-enumitem">
(11) </dt><dd 
class="enumerate-enumitem">The &#x201C;<a 
href="sun211ss502.html#x530-7220000"><a 
href="sun211ss501.html#x529-7210000">ast_link</a>_adam</a>&#x201D; and &#x201C;ast_link&#x201D; scripts now ignore the <span class="obeylines-h"><span class="verb">-fsla</span></span> and <span class="obeylines-h"><span class="verb">-csla</span></span>
     options, and always link against the minimal cut-down version of SLALIB
     distributed as part of AST.
     </dd></dl>
<a 
 id="x559-793012r1869"></a>
                                                                                       

                                                                                       
<h4 class="subsectionHead"><span class="titlemark">H.27  </span> <a 
 id="x559-79400027"></a>Changes Introduced in V4.3</h4>
<!--l. 51608--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V4.2 and V4.3:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The astGetFitsS function now strips trailing white space from the returned
     string, if the original string contains 8 or fewer characters
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss481.html#x508-7000000">SpecFrame</a> class has a new attribute called <a 
href="sun211ss400.html#x426-6180000">SourceSys</a> that specified
     whether the <a 
href="sun211ss402.html#x428-6200000">SourceVel</a> attribute (which specifies the rest frame of the
     source) should be accessed as an apparent radial velocity or a redshift.
     Note, any existing software that assumes that SourceVel always represents a
     velocity in km/s should be changed to allow for the possibility of
     SourceVel representing a redshift value.
     </dd></dl>
<a 
 id="x559-794003r1870"></a>
<h4 class="subsectionHead"><span class="titlemark">H.28  </span> <a 
 id="x559-79500028"></a>Changes Introduced in V4.4</h4>
<!--l. 51630--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V4.3 and V4.4:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss52.html#x77-2690000">astFindFrame</a> function can now be used to search a <a 
href="sun211ss443.html#x470-6620000">CmpFrame</a> for an instance
     of a more specialised class of <a 
href="sun211ss452.html#x479-6710000">Frame</a> (<a 
href="sun211ss478.html#x505-6970000">SkyFrame</a>, <a 
href="sun211ss492.html#x519-7110000">TimeFrame</a>, <a 
href="sun211ss481.html#x508-7000000">SpecFrame</a>, <a 
href="sun211ss446.html#x473-6650000">DSBSpecFrame</a>
     or <a 
href="sun211ss451.html#x478-6700000">FluxFrame</a>). That is, if an instance of one of these classes is used as the
     &#x201C;template&#x201D; when calling astFindFrame, and the &#x201C;target&#x201D; being searched is a CmpFrame
     (or a <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> in which the current Frame is a CmpFrame), then the component
     Frames within the CmpFrame will be searched for an instance of the supplied template
     Frame, and, if found, a suitable <a 
href="sun211ss459.html#x486-6780000">Mapping</a> (which will include a <a 
href="sun211ss466.html#x493-6850000">PermMap</a> to select
     the required axes from the CmpFrame) will be returned by astFindFrame. Note,
     for this to work, the <a 
href="sun211ss340.html#x366-5580000">MaxAxes</a> and <a 
href="sun211ss342.html#x368-5600000">MinAxes</a> attributes of the template Frame must
     be set so that they cover a range that includes the number of axes in the target
     CmpFrame.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The SkyFrame, SpecFrame, DSBSpecFrame, TimeFrame and FluxFrame classes now
     allow the MaxAxes and MinAxes attributes to be set freely to any value. In
     previous versions of AST, any attempt to change the value of MinAxes or
     MaxAxes was ignored, resulting in them always taking the default values.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The DSBSpecFrame class has a new attribute called AlignSB that specifies
     whether or not to take account of the <a 
href="sun211ss386.html#x412-6040000">SideBand</a> attributes when aligning two
     DSBSpecFrames using <a 
href="sun211ss32.html#x57-2490000">astConvert</a>.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">The Frame class has a new attribute called <a 
href="sun211ss282.html#x308-5000000">Dut1</a> that can be used to store a
                                                                                       

                                                                                       
     value for the difference between the UT1 and UTC timescales at the epoch
     referred to by the Frame.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">The number of digits used to format the Frame attributes <a 
href="sun211ss366.html#x392-5840000">ObsLat</a> and <a 
href="sun211ss367.html#x393-5850000">ObsLon</a>
     has been increased.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">The use of the SkyFrame attribute <a 
href="sun211ss243.html#x269-4610000">AlignOffset</a> has been changed. This
     attribute is used to control how two SkyFrames are aligned by astConvert.
     If the template and target SkyFrames both have a non-zero value for
     AlignOffset, then alignment occurs between the offset coordinate systems
     (that is, a <a 
href="sun211ss495.html#x522-7140000">UnitMap</a> will always be used to align the two SkyFrames).
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss467.html#x494-6860000">Plot</a> class has a new attribute called ForceExterior that can be used to
     force exterior (rather than interior) tick marks to be produced. By
     default, exterior ticks are only produced if this would result in more than
     3 tick marks being drawn.
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">The TimeFrame class now supports conversion between angle based timescales
     such as UT1 and atomic based timescales such as UTC.
     </dd></dl>
<a 
 id="x559-795009r1871"></a>
<h4 class="subsectionHead"><span class="titlemark">H.29  </span> <a 
 id="x559-79600029"></a>Changes Introduced in V4.5</h4>
<!--l. 51688--><p class="noindent" >The following describes the most significant changes that occurred in the AST library
between versions V4.4 and V4.5:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">All FITS-CLASS headers are now created with a frequency axis. If the
     <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> supplied to <a 
href="sun211ss237.html#x262-4540000">astWrite</a> contains a velocity axis (or any other form
     of spectral axis) it will be converted to an equivalent frequency axis
     before being used to create the FITS-CLASS header.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The value stored in the FITS-CLASS keyword &#x201C;VELO-LSR&#x201D; has been changed from
     the velocity of the source to the velocity of the reference channel.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">Addition of a new method call <a 
href="sun211ss149.html#x174-3660000">astPurgeWCS</a> to the <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class. This
     method removes all WCS-related header cards from a FitsChan.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss467.html#x494-6860000">Plot</a> class has a new attribute called GrfContext that can be used to
     comminicate context information between an application and any graphics
     functions registered with the Plot class via the <a 
href="sun211ss82.html#x107-2990000">astGrfSet</a> function.
                                                                                       

                                                                                       
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">Functions registered with the Plot class using astGrfSet now take a new
     additional integer parameter, &#x201C;grfcon&#x201D;. The Plot class sets this parameter
     to the value of the Plot&#x2019;s GrfContext attribute before calling the graphics
     function. NOTE, THIS CHANGE WILL REQUIRE EXISTING CODE THAT USES astGrfSet
     TO BE MODIFIED TO INCLUDE THE NEW PARAMETER.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">The astRebinSeq functions now have an extra parameter that is used to
     record the total number of input data values added into the output array.
     This is necessary to correct a flaw in the calculation of output variances
     based on the spread of input values. NOTE, THIS CHANGE WILL REQUIRE
     EXISTING CODE TO BE MODIFIED TO INCLUDE THE NEW PARAMETER (CALLED &#x0022;NUSED&#x0022;).
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">Support has been added for the FITS-WCS &#x201C;HPX&#x201D; (HEALPix) projection.
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">A new flag &#x201C;AST__VARWGT&#x201D; can be supplied to astRebinSeq. This causes the
     input data values to be weighted using the reciprocals of the input
     variances (if supplied).
     </dd><dt class="enumerate-enumitem">
 (9) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss452.html#x479-6710000">Frame</a> class has a new read-only attribute called NormUnit that returns
     the normalised value of the Unit attribute for an axis. Here,
     &#x201C;normalisation&#x201D; means cancelling redundant units, etc. So for instance, a
     Unit value of &#x201C;s*(m/s)&#x201D; would result in a NormUnit value of &#x201C;m&#x201D;.
     </dd><dt class="enumerate-enumitem">
(10) </dt><dd 
class="enumerate-enumitem">A new function <a 
href="sun211ss189.html#x214-4060000">astShowMesh</a> has been added to the <a 
href="sun211ss474.html#x501-6930000">Region</a> class. It displays
     a mesh of points covering the surface of a Region by writing out a table of
     axis values to standard output.
     </dd><dt class="enumerate-enumitem">
(11) </dt><dd 
class="enumerate-enumitem">The Plot class now honours the value of the LabelUp attribute even if
     numerical labels are placed around the edge of the Plot. Previously LabelUp
     was only used if the labels were drawn within the interior of the plot. The
     LabelUp attribute controls whether numerical labels are drawn horizontally
     or parallel to the axis they describe.
     </dd><dt class="enumerate-enumitem">
(12) </dt><dd 
class="enumerate-enumitem">A bug has been fixed that could segmentation violations when setting
     attribute values.
     </dd></dl>
<a 
 id="x559-796013r1872"></a>
<h4 class="subsectionHead"><span class="titlemark">H.30  </span> <a 
 id="x559-79700030"></a>Changes Introduced in V4.6</h4>
<!--l. 51759--><p class="noindent" >The following describes the most significant changes which have occurred in the AST
library between versions V4.5 and V4.6:
                                                                                       

                                                                                       
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss492.html#x519-7110000">TimeFrame</a> class now support Local Time as a time scale. The offset from
     UTC to Local Time is specified by a new TimeFrame attribute called
     <a 
href="sun211ss322.html#x348-5400000">LTOffset</a>.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">A new class called <a 
href="sun211ss468.html#x495-6870000">Plot3D</a> has been added. The Plot3D class allows the
     creation of 3-dimensional annotated coordinate grids.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">A correction for diurnal aberration is now included when converting between
     AZEL and other celestial coordinate systems. The correction is based on the
     value of the <a 
href="sun211ss366.html#x392-5840000">ObsLat</a> <a 
href="sun211ss452.html#x479-6710000">Frame</a> attribute (the geodetic latitude of the
     observer).
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">A bug has been fixed which caused the DUT1 attribute to be ignored by the
     <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> class when finding conversions between AZEL and other celestial
     coordinate systems.
     </dd></dl>
<a 
 id="x559-797005r1873"></a>
<h4 class="subsectionHead"><span class="titlemark">H.31  </span> <a 
 id="x559-79800031"></a>Changes Introduced in V5.0</h4>
<!--l. 51784--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V4.6 and V5.0:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The AST library is now thread-safe (assuming that the POSIX pthreads
     library is available when AST is built). Many of the macros defined in the
     ast.h header file have changed. It is therefore necessary to re-compile all
     source code that includes ast.h.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">New methods <a 
href="sun211ss98.html#x123-3150000">astLock</a> and <a 
href="sun211ss231.html#x256-4480000">astUnlock</a> allow an AST <a 
href="sun211ss464.html#x491-6830000">Object</a> to be locked for
     exclusive use by a thread.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss492.html#x519-7110000">TimeFrame</a> class now support Local Time as a time scale. The offset from
     UTC to Local Time is specified by a new TimeFrame attribute called
     <a 
href="sun211ss322.html#x348-5400000">LTOffset</a>.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss441.html#x468-6600000">Channel</a> class has a new attribute called <a 
href="sun211ss410.html#x436-6280000">Strict</a> which controls whether
     or not to report an error if unexpected data items are found within an AST
     Object description read from an external data source. Note, the default
     behaviour is now not to report such errors. This differs from previous
     versions of AST which always reported an error is unexpected input items
     were encountered.
     </dd></dl>
                                                                                       

                                                                                       
<a 
 id="x559-798005r1874"></a>
<h4 class="subsectionHead"><span class="titlemark">H.32  </span> <a 
 id="x559-79900032"></a>Changes Introduced in V5.1</h4>
<!--l. 51813--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V5.0 and V5.1:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss231.html#x256-4480000">astUnlock</a> function now has an extra parameter that controls whether or
     not an error is reported if the <a 
href="sun211ss464.html#x491-6830000">Object</a> is currently locked by another
     thread.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss472.html#x499-6910000">Prism</a> class has been modified so that any class of <a 
href="sun211ss474.html#x501-6930000">Region</a> can be used
     to define the extrusion axes. Previously, only a <a 
href="sun211ss440.html#x467-6590000">Box</a> or <a 
href="sun211ss455.html#x482-6740000">Interval</a> could be
     used for this purpose.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The values of the AST__THREADSAFE macro (defined in ast.h) have been
     changed from &#x201C;yes&#x201D; and &#x201C;no&#x201D; to &#x201C;1&#x201D; and &#x201C;0&#x201D;.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">Improvements have been made to the way that Prisms are simplified when
     <a 
href="sun211ss190.html#x215-4070000">astSimplify</a> is called. The changes mean that more types of Prism will now
     simplify into a simpler class of Region.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss469.html#x496-6880000">PointList</a> class has a new method, astPoints, that copies the axis
     values from the PointList into a supplied array.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">The PointList class has a new (read-only) attribute, <a 
href="sun211ss329.html#x355-5470000">ListSize</a>, that gives
     the number of points stored in the PointList.
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">The handling of warnings within different classes of <a 
href="sun211ss441.html#x468-6600000">Channel</a> has been
     rationalised. The XmlStrict attribute and astXmlWarnings function have been
     removed. The same functionality is now available via the existing <a 
href="sun211ss410.html#x436-6280000">Strict</a>
     attribute (which has had its remit widened), a new attribute called
     <a 
href="sun211ss382.html#x408-6000000">ReportLevel</a>, and the new <a 
href="sun211ss233.html#x258-4500000">astWarnings</a> function. This new function can be
     used on any class of Channel. Teh <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class retains its long standing
     ability to store warnings as header cards within the FitsChan, but it also
     now stores warnings in the parent Channel structure, from where they can be
     retrieved using the astWarnings function.
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">A new function called astIntercept has been added to the <a 
href="sun211ss452.html#x479-6710000">Frame</a> class. This
     function finds the point of intersection beteeen two geodesic curves.
     </dd><dt class="enumerate-enumitem">
 (9) </dt><dd 
class="enumerate-enumitem">A bug in the type-checking of Objects passed as arguments to constructor
     functions has been fixed. This bug could lead to applications crashing or
                                                                                       

                                                                                       
     showing strange behaviour if an inappropriate class of Object was supplied
     as an argument to a constructor.
     </dd><dt class="enumerate-enumitem">
(10) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss139.html#x164-3560000">astPickAxes</a> function will now return a Region, if possible, when
     applied to a Region. If this is not possible, a Frame will be returned as
     before.
     </dd><dt class="enumerate-enumitem">
(11) </dt><dd 
class="enumerate-enumitem">The choice of default tick-mark for time axes has been improved, to avoid
     previous issues which could result in no suitable gap being found, or
     inappropriate tick marks when using formatted dates.
     </dd><dt class="enumerate-enumitem">
(12) </dt><dd 
class="enumerate-enumitem">A new function called <a 
href="sun211ss211.html#x236-4280000">astTestFits</a> has been added to the FitsChan class.
     This function tests a FitsChan to see if it contains a defined value for
     specified FITS keyword.
     </dd><dt class="enumerate-enumitem">
(13) </dt><dd 
class="enumerate-enumitem">The AST__UNDEF&#x003C;X&#x003E; parameters used to flag undefined FITS keyword values
     have been removed. Use the new astTestFits function instead.
     </dd><dt class="enumerate-enumitem">
(14) </dt><dd 
class="enumerate-enumitem">The astIsUndef&#x003C;X&#x003E; functions used to test FITS keyword values have been
     removed. Use the new astTestFits function instead.
     </dd></dl>
<a 
 id="x559-799015r1875"></a>
<h4 class="subsectionHead"><span class="titlemark">H.33  </span> <a 
 id="x559-80000033"></a>Changes Introduced in V5.2</h4>
<!--l. 51892--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V5.1 and V5.2:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">A new method called <a 
href="sun211ss181.html#x206-3980000">astSetFitsCM</a> has been added to the <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class. It
     stores a pure comment card in a FitsChan (that is, a card with no keyword
     name or equals sign).
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">A new attribute called <a 
href="sun211ss365.html#x391-5830000">ObsAlt</a> has been added to the <a 
href="sun211ss452.html#x479-6710000">Frame</a> class. It records
     the geodetic altitude of the observer, in metres. It defaults to zero. It
     is used when converting times to or from the TDB timescale, or converting
     spectral positions to or from the topocentric rest frame, or converting sky
     positions to or from horizon coordinates. The FitsChan class will include
     its effect when creating a set of values for the OBSGEO-X/Y/Z keywords, and
     will also assign a value to it when reading a set of OBSGEO-X/Y/Z keyword
     values from a FITS header.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss493.html#x520-7120000">TimeMap</a> conversions &#x201C;TTTOTDB&#x201D; and &#x201C;TDBTOTT&#x201D;, and the <a 
href="sun211ss482.html#x509-7010000">SpecMap</a>
     conversions &#x201C;TPF2HL&#x201D; and &#x201C;HLF2TP&#x201D;, now have an additional argument - the
     observer&#x2019;s geodetic altitude.
                                                                                       

                                                                                       
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss471.html#x498-6900000">Polygon</a> class has been modified to make it consistent with the IVOA STC
     definition of a Polygon. Specifically, the inside of a polygon is now the
     area to the left of each edge as the vertices are traversed in an
     anti-clockwise manner, as seen from the inside of the celestial sphere.
     Previously, AST used the anti-clockwise convention, but viewed from the
     outside of the celestial sphere instead of the inside. Any Polygon saved
     using previous versions of AST will be identified and negated automatically
     when read by AST V5.2.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">A new class of <a 
href="sun211ss441.html#x468-6600000">Channel</a>, called <a 
href="sun211ss489.html#x516-7080000">StcsChan</a>, has been added that allows
     conversion of suitable AST Objects to and from IVOA STC-S format.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">A new method called <a 
href="sun211ss169.html#x194-3860000">astRemoveRegions</a> has been added to the <a 
href="sun211ss459.html#x486-6780000">Mapping</a> class.
     It searches a (possibly compound) Mapping (or Frame) for any instances of
     the AST <a 
href="sun211ss474.html#x501-6930000">Region</a> class, and either removes them, or replaces them with
     UnitMaps (or equivalent Frames). It can be used to remove the masking
     effects of Regions from a compound Mapping or Frame.
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">A new method called <a 
href="sun211ss42.html#x67-2590000">astDownsize</a> has been added to the Polygon class. It
     produces a new Polygon that contains a subset of the vertices in the
     supplied Polygon. The subset is chosen to retain the main features of the
     supplied Polygion, in so far as that is possible, within specified
     constraints.
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">A new constructor called astOutline has been added to the Polygon class.
     Given a 2D data array, it identifies the boundary of a region within the
     array that holds pixels with specified values. It then creates a new
     Polygon to describe this boundary to a specified accuracy.
     </dd><dt class="enumerate-enumitem">
 (9) </dt><dd 
class="enumerate-enumitem">A new set of methods, called astMapGetElem&#x003C;X&#x003E; has been added to the <a 
href="sun211ss457.html#x484-6760000">KeyMap</a>
     class. They allow a single element of a vector valued entry to be returned.
     </dd><dt class="enumerate-enumitem">
(10) </dt><dd 
class="enumerate-enumitem">A new attribute called <a 
href="sun211ss321.html#x347-5390000">KeyError</a> has been added to the KeyMap <a 
href="sun211ss262.html#x288-4800000">Class</a>. It
     controls whether the astMapGet... family of functions report an error if an
     entry with the requested key does not exist in the KeyMap.
     </dd></dl>
<a 
 id="x559-800011r1876"></a>
<h4 class="subsectionHead"><span class="titlemark">H.34  </span> <a 
 id="x559-80100034"></a>Changes Introduced in V5.3</h4>
<!--l. 51964--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V5.2 and V5.3:
                                                                                       

                                                                                       
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The details of how a <a 
href="sun211ss452.html#x479-6710000">Frame</a> is aligned with another Frame by the
     <a 
href="sun211ss52.html#x77-2690000">astFindFrame</a> and <a 
href="sun211ss32.html#x57-2490000">astConvert</a> functions have been changed. The changes mean
     that a Frame can now be aligned with an instance of a sub-class of Frame,
     so long as the number of axes and the <a 
href="sun211ss279.html#x305-4970000">Domain</a> values are consistent. For
     instance, a basic 2-dimensional Frame with Domain &#x201C;SKY&#x201D; will now align
     succesfully with a <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a>, conversion between the two Frames being
     achieved using a <a 
href="sun211ss495.html#x522-7140000">UnitMap</a>.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The arrays that supply input values for astMapPut1&#x003C;X&#x003E; are now declared
     &#x201C;const&#x201D;.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">Added method <a 
href="sun211ss122.html#x147-3390000">astMatchAxes</a> to the Frame class. This method allows
     corresponding axes within two Frames to be identified.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss3.html#x28-2200000">astAddFrame</a> method can now be used to append one or more axes to all
     Frames in a <a 
href="sun211ss453.html#x480-6720000">FrameSet</a>.</dd></dl>
<a 
 id="x559-801005r1877"></a>
<h4 class="subsectionHead"><span class="titlemark">H.35  </span> <a 
 id="x559-80200035"></a>Changes Introduced in V5.3-1</h4>
<!--l. 51993--><p class="noindent" >The following describes the most significant changes which have occurred in the AST
library between versions V5.3 and V5.3-1:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The utility functions provided by the AST memory management layer are now
     documented in an appendix.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss457.html#x484-6760000">KeyMap</a> class now supports entries that have undefined values. A new
     method called <a 
href="sun211ss113.html#x138-3300000">astMapPutU</a> will store an entry with undefined value in a
     keymap. Methods that retrieve values from a KeyMap (astMapGet0&#x003C;X&#x003E;, etc.)
     ignore entries with undefined values when searching for an entry with a
     given key.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The KeyMap class has a new method called <a 
href="sun211ss101.html#x126-3180000">astMapCopy</a> that copies entries
     from one KeyMap to another KeyMap.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">The KeyMap class has a new boolean attribute called <a 
href="sun211ss338.html#x364-5560000">MapLocked</a>. If non-zero,
     an error is reported if an attempt is made to add any new entries to a
     KeyMap (the value associated with any old entry may still be changed
     without error). The default is zero.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss464.html#x491-6830000">Object</a> class has a new method called <a 
href="sun211ss86.html#x111-3030000">astHasAttribute</a>/AST_HASATTRIBUTE
     that returns a boolean value indicating if a specified Object has a named
     attribute.
                                                                                       

                                                                                       
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> class has two new read-only boolean attributes called
     IsLatAxis and IsLonAxis that can be used to determine the nature of a
     specified SkyFrame axis.
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the astRebin(Seq) methods that could cause flux to
     be lost from the edges of the supplied array.
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the astRebin(Seq) methods that caused the first
     user supplied parameter to be interpreted as the full width of the
     spreading kernel, rather than the half-width.
     </dd><dt class="enumerate-enumitem">
 (9) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss489.html#x516-7080000">StcsChan</a> class now ignores case when reading STC-S phrases (except that
     units strings are still case sensitive).
     </dd><dt class="enumerate-enumitem">
(10) </dt><dd 
class="enumerate-enumitem">A new <a 
href="sun211ss459.html#x486-6780000">Mapping</a> method, <a 
href="sun211ss157.html#x182-3740000">astQuadApprox</a>, produces a quadratic least-squares fit
     to a 2D Mapping.
     </dd><dt class="enumerate-enumitem">
(11) </dt><dd 
class="enumerate-enumitem">A new Mapping method, <a 
href="sun211ss192.html#x217-4090000">astSkyOffsetMap</a>, produces a Mapping from absolute
     SkyFrame coordinates to offset SkyFrame coordinates.
     </dd><dt class="enumerate-enumitem">
(12) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss441.html#x468-6600000">Channel</a> class now has an <a 
href="sun211ss309.html#x335-5270000">Indent</a> attribute that controls indentation in
     the text created by <a 
href="sun211ss237.html#x262-4540000">astWrite</a>. The StcsIndent and XmlIndent attributes have
     been removed.
     </dd><dt class="enumerate-enumitem">
(13) </dt><dd 
class="enumerate-enumitem">All classes of Channel now use the string &#x201C;&#x003C;bad&#x003E;&#x201D; to represent the floating
     point value AST__BAD, rather than the literal formatted value (typically
     &#x201C;-1.79769313486232e+308&#x201D; ).
     </dd><dt class="enumerate-enumitem">
(14) </dt><dd 
class="enumerate-enumitem">The KeyMap class now uses the string &#x201C;&#x003C;bad&#x003E;&#x201D; to represent the floating
     point value AST__BAD, rather than the literal formatted value (typically
     &#x201C;-1.79769313486232e+308&#x201D; ).
     </dd><dt class="enumerate-enumitem">
(15) </dt><dd 
class="enumerate-enumitem">The KeyMap class has a new method called astMapPutElem&#x003C;X&#x003E; that allows a
     value to be put into a single element of a vector entry in a KeyMap. The
     vector entry is extended automatically to hold the new element if required.
     </dd><dt class="enumerate-enumitem">
(16) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss446.html#x473-6650000">DSBSpecFrame</a> class now reports an error if the local oscillator
     frequency is less than the absoliute value of the intermediate frequency.
     </dd></dl>
<a 
 id="x559-802017r1878"></a>
                                                                                       

                                                                                       
<h4 class="subsectionHead"><span class="titlemark">H.36  </span> <a 
 id="x559-80300036"></a>Changes Introduced in V5.3-2</h4>
<!--l. 52077--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V5.3-1 and V5.3-2:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class that could cause wavelength axes
     to be assigned the units &#x201C;m/s&#x201D; when reading WCS information from a FITS
     header.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss177.html#x202-3940000">astSet</a> function now allows literal commas to be included in string
     attribute values. String attribute values that include a literal comma
     should be enclosed in quotation marks.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">A bug in FitsChan has been fixed that caused &#x201C;-SIN&#x201D; projection codes within
     FITS-WCS headers to be mis-interpreted, resulting in no <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> being read
     by <a 
href="sun211ss160.html#x185-3770000">astRead</a>.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss457.html#x484-6760000">KeyMap</a> class has a new attribute called &#x201C;<a 
href="sun211ss398.html#x424-6160000">SortBy</a>&#x201D;. It controls the order
     in which keys are returned by the <a 
href="sun211ss107.html#x132-3240000">astMapKey</a> function. Keys can be sorted
     alphabetically or by age, or left unsorted.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">Access to KeyMaps holding thousands of entries is now significantly faster.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">KeyMaps can now hold word (i.e. short integer) values.
     </dd></dl>
<a 
 id="x559-803007r1879"></a>
<h4 class="subsectionHead"><span class="titlemark">H.37  </span> <a 
 id="x559-80400037"></a>Changes Introduced in V5.4-0</h4>
<!--l. 52113--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V5.3-2 and V5.4-0:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">the <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class now has an option to support reading and writing of
     FITS-WCS headers that use the -TAB algorithm described in FITS-WCS paper
     III. This option is controlled by a new FitsChan attribute called <a 
href="sun211ss414.html#x440-6320000">TabOK</a>.
     See the documentation for TabOK for more information.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">A new class called &#x201C;<a 
href="sun211ss491.html#x518-7100000">Table</a>&#x201D; has been added. A Table is a <a 
href="sun211ss457.html#x484-6760000">KeyMap</a> in which
     each entry represents a cell in a two-dimensional table.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">A new class called &#x201C;<a 
href="sun211ss450.html#x477-6690000">FitsTable</a>&#x201D; has been added. A FitsTable is a Table that
     has an associated FitsChan holding headers appropriate to a FITS binary
     table.
                                                                                       

                                                                                       
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">KeyMaps can now hold byte values. These are held in variables of type
     &#x0022;unsigned char&#x0022;.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">KeyMaps have a new attribute called <a 
href="sun211ss320.html#x346-5380000">KeyCase</a> that can be set to zero to make
     the handling of keys case insensitive.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">a memory leak associated with the use of the astMapPutElem&#x003C;X&#x003E; functions has
     been fixed.
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">A new method called <a 
href="sun211ss116.html#x141-3330000">astMapRename</a> has been added to rename existing entry in
     a KeyMap.</dd></dl>
<a 
 id="x559-804008r1880"></a>
<h4 class="subsectionHead"><span class="titlemark">H.38  </span> <a 
 id="x559-80500038"></a>Changes Introduced in V5.5-0</h4>
<!--l. 52148--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V5.4-0 and V5.5-0:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> &#x201C;<a 
href="sun211ss414.html#x440-6320000">TabOK</a>&#x201D; attribute is now an integer value rather than a
     boolean value. If TabOK is set to a non-zero positive integer before
     invoking the <a 
href="sun211ss237.html#x262-4540000">astWrite</a> method, its value is used as the version number for
     any table that is created as a consequence of the write operation. This is
     the value stored in the PVi_1a keyword in the IMAGE header, and the EXTVER
     keyword in the binary table header. In previous versions of AST, the value
     used for these headers could not be controlled and was fixed at 1. If TabOK
     is set to a negative or zero value, the -TAB algorithm will not be
     supported by either the astWrite or <a 
href="sun211ss160.html#x185-3770000">astRead</a> methods.
     </dd></dl>
<a 
 id="x559-805002r1881"></a>
<h4 class="subsectionHead"><span class="titlemark">H.39  </span> <a 
 id="x559-80600039"></a>Changes Introduced in V5.6-0</h4>
<!--l. 52173--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V5.5-0 and V5.6-0:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">New functions <a 
href="sun211ss12.html#x37-2290000">astBBuf</a> and <a 
href="sun211ss43.html#x68-2600000">astEBuf</a> have been added to the <a 
href="sun211ss467.html#x494-6860000">Plot</a> class. These
     control the buffering of graphical output produced by other Plot methods.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">New functions astGBBuf and astGEBuf have been added to the interface
     defined by file <span class="obeylines-h"><span class="verb">grf.h</span></span>. The <a 
href="sun211ss501.html#x529-7210000">ast_link</a> command has been modified so that the
     <span class="obeylines-h"><span class="verb">-grf_v3.2</span></span> switch loads dummy versions of the new grf functions. This means
     that applications that use the <span class="obeylines-h"><span class="verb">-grf_v3.2</span></span> switch should continue to build
     without any change. However, the new public functions astBBuf and astEBuf
                                                                                       

                                                                                       
     will report an error unless the new grf functions are implemented. If you
     choose to implement them, you should modify your linking procedure to use
     the <span class="obeylines-h"><span class="verb">-grf</span></span> (or <span class="obeylines-h"><span class="verb">-grf_v5.6</span></span> ) switch in place of the older <span class="obeylines-h"><span class="verb">-grf_v3.2</span></span> switch. See
     the description of the ast_link command for details of these switches.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">New method <a 
href="sun211ss72.html#x97-2890000">astGetRegionMesh</a> returns a set of positions covering the
     boundary, or volume, of a supplied <a 
href="sun211ss474.html#x501-6930000">Region</a>.
     </dd></dl>
<a 
 id="x559-806004r1882"></a>
<h4 class="subsectionHead"><span class="titlemark">H.40  </span> <a 
 id="x559-80700040"></a>ChangesIntroduced in V5.6-1</h4>
<!--l. 52205--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V5.6-0 and V5.6-1:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">Tables can now have any number of parameters describing the global
     properties of the <a 
href="sun211ss491.html#x518-7100000">Table</a>.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">Frames now interpret the unit string &#x201C;A&#x201D; as meaning &#x201C;Ampere&#x201D; rather than
     &#x201C;Angstrom&#x201D;, as specified by FITS-WCS paper I.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the <a 
href="sun211ss52.html#x77-2690000">astFindFrame</a> method that allowed a template
     <a 
href="sun211ss452.html#x479-6710000">Frame</a> of a more specialised class to match a target frame of a less
     specialised class. For example, this bug would allow a template <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> to
     match a target Frame. This no longer happens.
     </dd></dl>
<a 
 id="x559-807004r1883"></a>
<h4 class="subsectionHead"><span class="titlemark">H.41  </span> <a 
 id="x559-80800041"></a>Changes Introduced in V5.7-0</h4>
<!--l. 52227--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V5.6-1 and V5.7-0:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class support for the IRAF-specific &#x201C;TNX&#x201D; projection has been
     extended to include reading TNX headers that use a Chebyshev representation
     for the distortion polynomial.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The FitsChan class support for the IRAF-specific &#x201C;ZPX&#x201D; projection has been
     extended to include reading ZPX headers that use simple or Chebyshev
     representation for the distortion polynomial.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the FitsChan class that caused headers including
     the Spitzer &#x201C;-SIP&#x201D; distortion code to be read incorrectly if no inverse
     polynomial was specified in the header.
                                                                                       

                                                                                       
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">A new attribute called <a 
href="sun211ss373.html#x399-5910000">PolyTan</a> has been added to the FitsChan class. It can
     be used to indicate that FITS headers that specify a TAN projection should
     be interpreted according to the &#x201C;distorted TAN&#x201D; convention included in an
     early draft of FITS-WCS paper II. Such headers are created by (for
     instance) the SCAMP tool (<a 
href="http://www.astromatic.net/software/scamp" class="url" >http://www.astromatic.net/software/scamp</a>).
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss470.html#x497-6890000">PolyMap</a> class now provides a method called <a 
href="sun211ss145.html#x170-3620000">astPolyTran</a> that adds an
     inverse transformation to a PolyMap by sampling the forward transformation
     on a regular grid, and then fitting a polynomial function from the
     resulting output values to the grid of input values.
     </dd></dl>
<a 
 id="x559-808006r1884"></a>
<h4 class="subsectionHead"><span class="titlemark">H.42  </span> <a 
 id="x559-80900042"></a>Changes Introduced in V5.7-1</h4>
<!--l. 52260--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V5.7-0 and V5.7-1:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">- All classes of <a 
href="sun211ss441.html#x468-6600000">Channel</a> can now read to and write from specified text
     files, without the need to provide source and sink functions when the
     Channel is created. The files to use are specified by the new attributes
     <a 
href="sun211ss399.html#x425-6170000">SourceFile</a> and <a 
href="sun211ss390.html#x416-6080000">SinkFile</a>.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">- The <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class now ignores trailing spaces in character-valued WCS
     keywords when reading a <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> from a FITS header.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">- If the FitsChan <a 
href="sun211ss160.html#x185-3770000">astRead</a> method reads a FITS header that uses the -SIP
     (Spitzer) distortion code within the CTYPE values, but which does not
     provide an inverse polynomial correction, the FitsChan class will now use
     the PolyTran method of the <a 
href="sun211ss470.html#x497-6890000">PolyMap</a> class to create an estimate of the
     inverse polynomial correction.
     </dd></dl>
<a 
 id="x559-809004r1885"></a>
<h4 class="subsectionHead"><span class="titlemark">H.43  </span> <a 
 id="x559-81000043"></a>Changes Introduced in V5.7-2</h4>
<!--l. 52284--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V5.7-1 and V5.7-2:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss464.html#x491-6830000">Object</a> class has a new function <a 
href="sun211ss217.html#x242-4340000">astToString</a> (C only), which creates an
     in-memory textual serialisation of a given AST Object. A corresponding new
     function called <a 
href="sun211ss59.html#x84-2760000">astFromString</a> re-creates the Object from its serialisation.
                                                                                       

                                                                                       
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss470.html#x497-6890000">PolyMap</a> class can now use an iterative Newton-Raphson method to
     evaluate the inverse the inverse transformation if no inverse
     transformation is defined when the PolyMap is created.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class has a new method <a 
href="sun211ss238.html#x263-4550000">astWriteFits</a> which writes out all cards
     currently in the FitsChan to the associated external data sink (specified
     either by the <a 
href="sun211ss390.html#x416-6080000">SinkFile</a> attribute or the sink function supplied when the
     FitsChan was created), and then empties the FitsChan.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">The FitsChan class has a new read-only attribute called &#x201C;<a 
href="sun211ss355.html#x381-5730000">Nkey</a>&#x201D;, which holds
     the number of keywords for which values are held in a FitsChan.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">The FitsChan astGetFits&#x003C;X&#x003E; methods can now be used to returned the value of
     the current card.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">The FitsChan class has a new read-only attribute called &#x201C;<a 
href="sun211ss261.html#x287-4790000">CardType</a>&#x201D;, which
     holds the data type of the keyword value for the current card.
     </dd><dt class="enumerate-enumitem">
 (7) </dt><dd 
class="enumerate-enumitem">The FitsChan class has a new method <a 
href="sun211ss161.html#x186-3780000">astReadFits</a> which forces the FitsChan
     to reads cards from the associated external source and appends them to the
     end of the FitsChan.
     </dd><dt class="enumerate-enumitem">
 (8) </dt><dd 
class="enumerate-enumitem">- If the FitsChan <a 
href="sun211ss160.html#x185-3770000">astRead</a> method reads a FITS header that uses the -SIP
     (Spitzer) distortion code within the CTYPE values, but which does not
     provide an inverse polynomial correction, and for which the PolyTran method
     of the PolyMap class fails to create an accurate estimate of the inverse
     polynomial correction, then an iterative method will be used to evaluate
     the inverse correction for each point transformed.
     </dd></dl>
<a 
 id="x559-810009r1886"></a>
<h4 class="subsectionHead"><span class="titlemark">H.44  </span> <a 
 id="x559-81100044"></a>Changes Introduced in V6.0</h4>
<!--l. 52331--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V5.7-2 and V6.0:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">This version of AST is the first that can be used with the Python AST
     wrapper module, starlink.Ast, available at
     <a 
href="http://github.com/timj/starlink-pyast" class="url" >http://github.com/timj/starlink-_pyast</a>.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">When reading a FITS-WCS header, the <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class now recognises the
     non-standard &#x201C;TPV&#x201D; projection code within a CTYPE keyword value. This code
                                                                                       

                                                                                       
     is used by SCAMP (see www.astromatic.net/software/scamp) to represent a
     distorted TAN projection.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss467.html#x494-6860000">Plot</a> class has been changed to remove visual anomalies (such as
     incorrectly rotated numerical axis labels) if the graphics coordinates have
     unequal scales on the X and Y axes.
     <!--l. 52348--><p class="noindent" >- The graphics escape sequences used to produce graphical sky axis labels
     can now be changed using the new function <a 
href="sun211ss225.html#x250-4420000">astTuneC</a>.
     </dd></dl>
<a 
 id="x559-811004r1887"></a>
<h4 class="subsectionHead"><span class="titlemark">H.45  </span> <a 
 id="x559-81200045"></a>Changes Introduced in V6.0-1</h4>
<!--l. 52356--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V6.0 and V6.0-1:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class now recognises the Spitzer &#x201C;-SIP&#x201D; distortion code within
     FITS headers that describe non-celestial axes, as well as celestial axes.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">A bug has been fixed that could cause inappropriate equinox values to be
     used when aligning SkyFrames if the <a 
href="sun211ss247.html#x273-4650000">AlignSystem</a> attribute is set.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">The versioning string for AST has changed from &#x201C;<!--l. 52369--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <mo 
class="MathClass-rel">&#x003C;</mo> <mi 
>m</mi><mi 
>a</mi><mi 
>j</mi><mi 
>o</mi><mi 
>r</mi> <mo 
class="MathClass-rel">&#x003E;</mo> <mi 
>.</mi> <mo 
class="MathClass-rel">&#x003C;</mo> <mi 
>m</mi><mi 
>i</mi><mi 
>n</mi><mi 
>o</mi><mi 
>r</mi> <mo 
class="MathClass-rel">&#x003E;</mo> <mo 
class="MathClass-bin">&#x2212;</mo> <mo 
class="MathClass-rel">&#x003C;</mo> <mi 
>r</mi><mi 
>e</mi><mi 
>l</mi><mi 
>e</mi><mi 
>a</mi><mi 
>s</mi><mi 
>e</mi> <mo 
class="MathClass-rel">&#x003E;</mo></math>&#x201D;
     to &#x201C;<!--l. 52369--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <mo 
class="MathClass-rel">&#x003C;</mo> <mi 
>m</mi><mi 
>a</mi><mi 
>j</mi><mi 
>o</mi><mi 
>r</mi> <mo 
class="MathClass-rel">&#x003E;</mo> <mi 
>.</mi> <mo 
class="MathClass-rel">&#x003C;</mo> <mi 
>m</mi><mi 
>i</mi><mi 
>n</mi><mi 
>o</mi><mi 
>r</mi> <mo 
class="MathClass-rel">&#x003E;</mo> <mi 
>.</mi> <mo 
class="MathClass-rel">&#x003C;</mo> <mi 
>r</mi><mi 
>e</mi><mi 
>l</mi><mi 
>e</mi><mi 
>a</mi><mi 
>s</mi><mi 
>e</mi> <mo 
class="MathClass-rel">&#x003E;</mo></math>&#x201D;.
     </dd></dl>
<a 
 id="x559-812004r1888"></a>
<h4 class="subsectionHead"><span class="titlemark">H.46  </span> <a 
 id="x559-81300046"></a>Changes Introduced in V7.0.0</h4>
<!--l. 52375--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V6.0-1 and V7.0.0:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">Fundamental positional astronomy calculations are now performed using the
     IAU SOFA library where possible, and the Starlink PAL library <a 
href="http://www.starlink.ac.uk/cgi-bin/htxserver/sun268.htx/sun268.html?xref_" >SUN/268</a>
     otherwise (the PAL library contains a subset of the Fortran Starlink SLALIB
     library re-written in C). Copies of these libraries are bundled with AST
     and so do not need to be obtained or built separately, although external
     copies of SOFA and PAL can be used if necessary by including the
     &#x201C;<code>&#x2013;with-external_pal</code>&#x201D; option when configuring AST.
     </dd></dl>
<a 
 id="x559-813002r1889"></a>
                                                                                       

                                                                                       
<h4 class="subsectionHead"><span class="titlemark">H.47  </span> <a 
 id="x559-81400047"></a>Changes Introduced in V7.0.1</h4>
<!--l. 52392--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V7.0.0 and V7.0.1:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The levmar and wcslib code distributed within AST is now stored in the main
     AST library (libast.so) rather than in separate libraries.
     </dd></dl>
<a 
 id="x559-814002r1890"></a>
<h4 class="subsectionHead"><span class="titlemark">H.48  </span> <a 
 id="x559-81500048"></a>Changes Introduced in V7.0.2</h4>
<!--l. 52404--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V7.0.1 and V7.0.2:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The libast_pal library is no longer built if the &#x201C;&#x2013;with-external_pal&#x201D;
     option is used when AST is configured.
     </dd></dl>
<a 
 id="x559-815002r1891"></a>
<h4 class="subsectionHead"><span class="titlemark">H.49  </span> <a 
 id="x559-81600049"></a>Changes Introduced in V7.0.3</h4>
<!--l. 52416--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V7.0.2 and V7.0.3:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">A bug has been fixed which could cause an incorrect axis to be used when
     accessing axis attributes within CmpFrames. This could happen if axes
     within the <a 
href="sun211ss443.html#x470-6620000">CmpFrame</a> have been permuted.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> class that could cause the two values
     of the SkyRef and/or SkyRefP attributes to be reversed.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">Bugs have been fixed in the <a 
href="sun211ss445.html#x472-6640000">CmpRegion</a> class that should allow the border
     around a compound <a 
href="sun211ss474.html#x501-6930000">Region</a> to be plotted more quickly, and more accurately.
     Previously, component Regions nested deeply inside a CmpRegion may have
     been completely or partially ignored.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the <a 
href="sun211ss468.html#x495-6870000">Plot3D</a> class that caused a segmentation
     violation if the MinTick attribute was set to zero.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">The astResampleX set of methods now includes astResampleK and astResampleUK
     that handles 64 bit integer data.
     </dd></dl>
                                                                                       

                                                                                       
<a 
 id="x559-816006r1892"></a>
<h4 class="subsectionHead"><span class="titlemark">H.50  </span> <a 
 id="x559-81700050"></a>Changes Introduced in V7.0.4</h4>
<!--l. 52444--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V7.0.3 and V7.0.4:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The previously private grf3d.h header file is now installed into
     prefix/include.
     </dd></dl>
<a 
 id="x559-817002r1893"></a>
<h4 class="subsectionHead"><span class="titlemark">H.51  </span> <a 
 id="x559-81800051"></a>Changes Introduced in V7.0.5</h4>
<!--l. 52458--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V7.0.4 and V7.0.5:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class can now read FITS headers that use the SAO convention
     for representing distorted TAN projections, based on the use of &#x201C;COi_m&#x201D;
     keywords to hold the coefficients of the distortion polynomial.
     </dd></dl>
<a 
 id="x559-818002r1894"></a>
<h4 class="subsectionHead"><span class="titlemark">H.52  </span> <a 
 id="x559-81900052"></a>Changes Introduced in V7.0.6</h4>
<!--l. 52472--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V7.0.5 and V7.0.6:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in astRebinSeq&#x003C;X&#x003E; which could result in incorrect
     normalisation of the final binned data and variance values.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">When reading a <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> from a FITS-DSS header, the keywords CNPIX1 and
     CNPIX2 now default to zero if absent. Previously an error was reported.
     </dd></dl>
<a 
 id="x559-819003r1895"></a>
<h4 class="subsectionHead"><span class="titlemark">H.53  </span> <a 
 id="x559-82000053"></a>Changes Introduced in V7.1.0</h4>
<!--l. 52488--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V7.0.6 and V7.1.0:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">IMPORTANT! The default behaviour of astRebinSeq is now NOT to conserve
     flux. To conserve flux, the AST__CONSERVEFLUX flag should be supplied when
     calling astRebinSeq&#x003C;X&#x003E;. Without this flag, each output value is a weighted
     mean of the neighbouring input values.
                                                                                       

                                                                                       
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">A new flag AST__NONORM can be used with astRebinSeq&#x003C;X&#x003E; to indicate that
     normalisation of the output arrays is not required. In this case no weights
     array need be supplied.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in <a 
href="sun211ss3.html#x28-2200000">astAddFrame</a> method that could result in the
     incorrect inversion of Mappings within the <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> when the AST__ALLFRAMES
     flag is supplied for the &#x0022;iframe&#x0022; parameter.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss158.html#x183-3750000">astRate</a> method has been re-written to make it faster and more reliable.
     </dd></dl>
<a 
 id="x559-820005r1896"></a>
<h4 class="subsectionHead"><span class="titlemark">H.54  </span> <a 
 id="x559-82100054"></a>Changes Introduced in V7.1.1</h4>
<!--l. 52518--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V7.1.0 and V7.1.1:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">When a <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> is used to write an &#x201C;offset&#x201D; <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> (see attribute
     <a 
href="sun211ss395.html#x421-6130000">SkyRefIs</a>) to a FITS-WCS encoded header, two alternate axis descriptions are
     now created - one for the offset coordinates and one for the absolute
     coordinates. If such a header is subsequently read back into AST, the
     original offset SkyFrame is recreated.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in FitsChan that caused inappropriate CTYPE values to
     be generated when writing a <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> to FITS-WCS headers if the current
     <a 
href="sun211ss452.html#x479-6710000">Frame</a> describes generalised spherical coordinates (i.e. a SkyFrame with
     <a 
href="sun211ss413.html#x439-6310000">System</a>=Unknown).
     </dd></dl>
<a 
 id="x559-821003r1897"></a>
<h4 class="subsectionHead"><span class="titlemark">H.55  </span> <a 
 id="x559-82200055"></a>Changes Introduced in V7.2.0</h4>
<!--l. 52538--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V7.1.1 and V7.2.0:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">A new method call <a 
href="sun211ss102.html#x127-3190000">astMapDefined</a> has been added to the <a 
href="sun211ss457.html#x484-6760000">KeyMap</a> class. It
     checks if a gtiven key name has a defined value in a given KeyMap.
     </dd></dl>
<a 
 id="x559-822002r1898"></a>
<h4 class="subsectionHead"><span class="titlemark">H.56  </span> <a 
 id="x559-82300056"></a>Changes Introduced in V7.3.0</h4>
<!--l. 52552--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V7.2.0 and V7.3.0:
                                                                                       

                                                                                       
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The interface for the astRebinSeq&#x003C;X&#x003E; family of functions has been changed
     in order to allow a greater number of pixels to be pasted into the output
     array. The &#x0022;nused&#x0022; parameter is now a pointer to a &#x0022;int64_t&#x0022; variable,
     instead of an &#x0022;int&#x0022;. APPLICATION CODE SHOULD BE CHANGED ACCORDINGLY TO
     AVOID SEGMENTATION FAULTS AND OTHER ERRATIC BEHAVIOUR.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">Added a new facility to the <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> class to allow each <a 
href="sun211ss452.html#x479-6710000">Frame</a> to be
     associated with multiple Mappings, any one of which can be used to connect
     the Frame to the other Frames in the FrameSet. The choice of which <a 
href="sun211ss459.html#x486-6780000">Mapping</a>
     to use is controlled by the new &#x201C;<a 
href="sun211ss430.html#x456-6480000">Variant</a>&#x201D; attribute of the FrameSet class.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">Mappings (but not Frames) that have a value set for their <a 
href="sun211ss307.html#x333-5250000">Ident</a> attribute
     are now left unchanged by the c <a 
href="sun211ss190.html#x215-4070000">astSimplify</a> function. f AST_SIMPLIFY
     routine.
     </dd></dl>
<a 
 id="x559-823004r1899"></a>
<h4 class="subsectionHead"><span class="titlemark">H.57  </span> <a 
 id="x559-82400057"></a>Changes Introduced in V7.3.1</h4>
<!--l. 52579--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V7.3.0 and V7.3.1:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">Fix a bug that could cauise a segmentation violation when reading certain
     FITS headers that use a TNX projection.
     </dd></dl>
<a 
 id="x559-824002r1900"></a>
<h4 class="subsectionHead"><span class="titlemark">H.58  </span> <a 
 id="x559-82500058"></a>Changes Introduced in V7.3.2</h4>
<!--l. 52591--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V7.3.1 and V7.3.2:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">Fix support for reading FITS header that use a GLS projection. Previously,
     an incorrect transformation was used for such projections if any CRVAL or
     CROTA value was non-zero.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss457.html#x484-6760000">KeyMap</a> class has new sorting options &#x201C;KeyAgeUp&#x201D; and &#x201C;KeyAgeDown&#x201D; that
     retain the position of an existing entry if its value is changed. See the
     <a 
href="sun211ss398.html#x424-6160000">SortBy</a> attribute.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class that caused CDELT keywords for
     sky axes to be treated as radians rather than degrees when reading a FITS
     header, if the corresponding CTYPE values included no projection code.
                                                                                       

                                                                                       
     </dd></dl>
<a 
 id="x559-825004r1901"></a>
<h4 class="subsectionHead"><span class="titlemark">H.59  </span> <a 
 id="x559-82600059"></a>Changes Introduced in V7.3.3</h4>
<!--l. 52612--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V7.3.2 and V7.3.3:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class has new attributes <a 
href="sun211ss260.html#x286-4780000">CardName</a> and <a 
href="sun211ss259.html#x285-4770000">CardComm</a>, which hold the
     keyword name and comment of the current card.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">When using the FitsChan class to read FITS-WCS headers that include
     polynomial distortion in the SIP format, any inverse transformation
     specified in the header is now ignored and a new inverse is created to
     replace it based on the supplied forward transformation. Previously, an
     inverse was created only if the header did not include an inverse. The
     accuracy of the inverse transformation has also been improved, although it
     may now be slower to evaluate in some circumstances.
     </dd></dl>
<a 
 id="x559-826003r1902"></a>
<h4 class="subsectionHead"><span class="titlemark">H.60  </span> <a 
 id="x559-82700060"></a>Changes Introduced in V7.3.4</h4>
<!--l. 52632--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V7.3.3 and V7.3.4:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">By default, the simplification of Polygons no longer checks that the edges
     are not bent by the simplification. A new attribute, <a 
href="sun211ss389.html#x415-6070000">SimpVertices</a>, can be
     set to zero in order to re-instate this check.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss471.html#x498-6900000">Polygon</a> class has a new mathod, astConvex, that returns a Polygon
     representing the shortest polygon (i.e. convex hull) enclosing a specified
     set of pixel values within a supplied array.
     </dd></dl>
<a 
 id="x559-827003r1903"></a>
<h4 class="subsectionHead"><span class="titlemark">H.61  </span> <a 
 id="x559-82800061"></a>Changes Introduced in V8.0.0</h4>
<!--l. 52650--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V7.3.4 and V8.0.0:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">AST is now distributed under the Lesser GPL licence.
                                                                                       

                                                                                       
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss470.html#x497-6890000">PolyMap</a> class now uses files copied from the C/C++ Minpack package (see
     <a 
href="http://devernay.free.fr/hacks/cminpack/index.html" class="url" >http://devernay.free.fr/hacks/cminpack/index.html</a>) to perform least squares
     fitting of N-dimensional polynomials.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">Use of the IAU SOFA library has been replaced by ERFA library, which is a
     re-badged copy of SOFA distributed under a less restrictive license. A copy
     of ERFA is included within AST.
     </dd></dl>
<a 
 id="x559-828004r1904"></a>
<h4 class="subsectionHead"><span class="titlemark">H.62  </span> <a 
 id="x559-82900062"></a>Changes Introduced in V8.0.1</h4>
<!--l. 52669--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V8.0.0 and V8.0.1:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss252.html#x278-4700000">Base</a> and <a 
href="sun211ss273.html#x299-4910000">Current</a> attributes of a <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> may now be set using the
     <a 
href="sun211ss279.html#x305-4970000">Domain</a> name or the index of the required <a 
href="sun211ss452.html#x479-6710000">Frame</a>.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The order of WCS axes within new FITS-WCS headers created by <a 
href="sun211ss237.html#x262-4540000">astWrite</a> can
     now be controlled using a new attribute called <a 
href="sun211ss289.html#x315-5070000">FitsAxisOrder</a>.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">Supported added for FITS XPH (polar HEALPIX) projection.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">The macro used to invoke the <a 
href="sun211ss503.html#x532-7240000">astAppendString</a> utility function has changed
     to allow printf-style converstions to be included in the supplied text. Any
     code that uses this macro must be re-compiled.
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">The astRebin and astRebinSeq family of functions now include support for
     arrays with char (byte) and unsigned char (unsigned byte) data types.
     </dd></dl>
<a 
 id="x559-829006r1905"></a>
<h4 class="subsectionHead"><span class="titlemark">H.63  </span> <a 
 id="x559-83000063"></a>Changes Introduced in V8.0.2</h4>
<!--l. 52688--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V8.0.1 and V8.0.2:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">For security reasons, the change introduced to <a 
href="sun211ss503.html#x532-7240000">astAppendString</a> in V8.0.1
     has been moved to a new function called <a 
href="sun211ss504.html#x533-7250000">astAppendStringf</a>, and
     astAppendString itself has been reverted to its V8.0.0 version. Any
     software that has been built against V8.0.1 will need to be re-compiled and
     re-linked against V8.0.2.</dd></dl>
                                                                                       

                                                                                       
<a 
 id="x559-830002r1906"></a>
<h4 class="subsectionHead"><span class="titlemark">H.64  </span> <a 
 id="x559-83100064"></a>Changes Introduced in V8.0.3</h4>
<!--l. 52701--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V8.0.2 and V8.0.3:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">Methods astRebin, astRebinSeq, astResample and <a 
href="sun211ss220.html#x245-4370000">astTranGrid</a> now report an
     error if an array is specified that has more pixels than can be counted by
     a 32 bit integer.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The hypertext documentation is now generated using Tex4HT rather than
     latex2html. The format of the hypertext docs has changed significantly.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">Another bug fix associated with reading CAR projections from FITS-WCS
     headers.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">Constructor options strings of the form &#x201C;<code>..., &#x0022;%s&#x0022;, text );</code>&#x201D; can now be
     supplied. This avoids a security issue associated with the alternative form
     &#x201C;<code>..., text );</code>&#x201D;.</dd></dl>
<a 
 id="x559-831005r1907"></a>
<h4 class="subsectionHead"><span class="titlemark">H.65  </span> <a 
 id="x559-83200065"></a>Changes Introduced in V8.0.4</h4>
<!--l. 52720--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V8.0.3 and V8.0.4:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The behaviour of the <a 
href="sun211ss3.html#x28-2200000">astAddFrame</a> method has been changed slightly.
     Previously, astAddFrame modified the <a 
href="sun211ss453.html#x480-6720000">FrameSet</a> by storing references to the
     supplied <a 
href="sun211ss459.html#x486-6780000">Mapping</a> and <a 
href="sun211ss452.html#x479-6710000">Frame</a> objects within the FrameSet. This meant that any
     subsequent changes to the current Frame of the modified FrameSet also
     affected the supplied Frame object. Now, deep copies of the Mapping and
     Frame objects (rather than references) are stored within the modified
     FrameSet. This means that subsequent changes to the modified FrameSet will
     now have no effect on the supplied Frame.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The choice of default tick-mark gaps for time axes has been improved, to
     avoid a previous issue which could result in no suitable gap being found.
     <!--l. 52739--><p class="noindent" >- A new method called <a 
href="sun211ss164.html#x189-3810000">astRegionOutline</a> has been added to the <a 
href="sun211ss467.html#x494-6860000">Plot</a> class. It
     draws the outline of a supplied AST <a 
href="sun211ss474.html#x501-6930000">Region</a>.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">A bug has been fixed that could cause astSimplfy to enter an infinite loop.
     </dd><dt class="enumerate-enumitem">
 (4) </dt><dd 
class="enumerate-enumitem">Some improvements have been made to the Mapping simplification process that
     allow more Mappings to be simplified.
                                                                                       

                                                                                       
     </dd><dt class="enumerate-enumitem">
 (5) </dt><dd 
class="enumerate-enumitem">The Frame class has a new read-only attribute called InternalUnit, which
     gives the units used for the unformatted (i.e. floating-point) axis values
     used internally by application code. For most Frames, the InternalUnit
     value is just the same as the Unit value (i.e. formatted and unformatted
     axis values use the same units). However, the <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> class always returns
     &#x201C;<code>rad</code>&#x201D; for InternalUnit, regardless of the value of Unit, indicating that
     floating-point SkyFrame axis values are always in units of radians.
     </dd><dt class="enumerate-enumitem">
 (6) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss458.html#x485-6770000">LutMap</a> class has a new attribute called <a 
href="sun211ss335.html#x361-5530000">LutEpsilon</a>, which specifies the
     relative error of the values in the table. It is used to decide if the
     LutMap can be simplified to a straight line.
     </dd></dl>
<a 
 id="x559-832007r1908"></a>
<h4 class="subsectionHead"><span class="titlemark">H.66  </span> <a 
 id="x559-83300066"></a>Changes Introduced in V8.0.5</h4>
<!--l. 52766--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V8.0.4 and V8.0.5:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The <a 
href="sun211ss478.html#x505-6970000">SkyFrame</a> class has a new attribute called <a 
href="sun211ss397.html#x423-6150000">SkyTol</a>, which specifies the
     smallest significant distance within the SkyFrame. It is used to decide if
     the <a 
href="sun211ss459.html#x486-6780000">Mapping</a> between two SkyFrames can be considered a unit transformation.
     The default value is 0.001 arc-seconds.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the <a 
href="sun211ss449.html#x476-6680000">FitsChan</a> class that prevented illegal
     characters within FITS keyword names (i.e. characters not allowed by the
     FITS standard) being detected. This bug could under some circumstances
     cause a subsequent segmentation violation to occur.
     </dd><dt class="enumerate-enumitem">
 (3) </dt><dd 
class="enumerate-enumitem">A &#x201C;BadKeyName&#x201D; warning is now issued by the FitsChan class if a FITS
     keyword name is encountered that contains any illegal characters. See
     attribute &#x201C;<a 
href="sun211ss431.html#x457-6490000">Warnings</a>&#x201D; and function &#x201C;<a 
href="sun211ss233.html#x258-4500000">astWarnings</a>&#x201D;.
     </dd></dl>
<a 
 id="x559-833004r1909"></a>
<h4 class="subsectionHead"><span class="titlemark">H.67  </span> <a 
 id="x559-83400067"></a>Changes Introduced in V8.1.0</h4>
<!--l. 52789--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V8.0.5 and V8.1.0:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">The configure script has a new option &#x201C;&#x2013;without-fortran&#x201D; that allows AST to
     be built in situations where no Fortran compiler is available. The
     resulting library has no Fortran interface and so cannot be used within
     Fortran applications. Also, the link scripts do not attempt to include the
     fortran runtime libraries.
                                                                                       

                                                                                       
     </dd></dl>
<a 
 id="x559-834002r1910"></a>
<h4 class="subsectionHead"><span class="titlemark">H.68  </span> <a 
 id="x559-83500068"></a><a name="xref_changes"></a><a name="xref_list_of_most_recent_changes"></a>Changes Introduced in V8.2</h4>
<!--l. 52804--><p class="noindent" >The following describes the most significant changes which occurred in the AST library
between versions V8.1.0 and V8.2.0:
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">A new class of <a 
href="sun211ss459.html#x486-6780000">Mapping</a> called <a 
href="sun211ss496.html#x523-7150000">UnitNormMap</a> has been added that converts a
     vector to a unit vector relative to a specified centre, plus length. A
     UnitNormMap has N inputs and N+1 outputs.The lower N output coordinates
     represent a unit vector parallel to the supplied input vector, and the
     (N+1)&#x2019;th output coordinate is the length of the input vector.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">The restriction that Mappings are immutable has been extended to all
     Mapping classes. This means that attributes representing parameters of a
     Mapping&#x2019;s forward or inverse transformation cannot be changed after the
     Mapping has been created. In order to minimise the risk to existing
     software, this rule does not apply to Mappings that have not yet been
     included in other objects such as CmpMaps or FrameSets, or which have not
     yet been cloned. In other words, an error is reported if an attempt is made
     to change the nature of a Mapping&#x2019;s transformation, but only if the
     reference count of the Mapping is greater than one. The Mapping classes
     affected include: <a 
href="sun211ss454.html#x481-6730000">GrismMap</a>, <a 
href="sun211ss458.html#x485-6770000">LutMap</a>, <a 
href="sun211ss465.html#x492-6840000">PcdMap</a>, <a 
href="sun211ss483.html#x510-7020000">SphMap</a>, <a 
href="sun211ss497.html#x524-7160000">WcsMap</a> and <a 
href="sun211ss500.html#x527-7190000">ZoomMap</a>.
     </dd></dl>
<a 
 id="x559-835003r1911"></a>
<h4 class="subsectionHead"><span class="titlemark">H.69  </span> <a 
 id="x559-83600069"></a><a name="xref_changes"></a><a name="xref_list_of_most_recent_changes"></a>Changes Introduced in V8.3</h4>
<!--l. 52831--><p class="noindent" >The following describes the most significant changes which have occurred in the AST
library between versions V8.2.0 and V8.3.0 (the current version):
     <dl class="enumerate-enumitem"><dt class="enumerate-enumitem">
 (1) </dt><dd 
class="enumerate-enumitem">A new method called <a 
href="sun211ss10.html#x35-2270000">astAxNorm</a> has been added to the <a 
href="sun211ss452.html#x479-6710000">Frame</a> class that
     normalises an array of axis values. When used with SkyFrames, it allows
     longitude values to be normalised into the shortest range.
     </dd><dt class="enumerate-enumitem">
 (2) </dt><dd 
class="enumerate-enumitem">A bug has been fixed in the <a 
href="sun211ss69.html#x94-2860000">astGetRegionBounds</a> method that could cause the
     wrong bounds to be returned for regions spanning a longitude = zero
     singularity.
     </dd></dl>
                                                                                       

                                                                                       
<div class="crosslinks"> <div class="copyright"><span class="pushright">Copyright (C) 2014 Science &#x0026; Technology Facilities Council</span></div> <ul class='nav'> <li class="prev"> <a 
href="sun211se29.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for
Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next">&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li> </ul></div>
<!--l. 52853--><p class="noindent" ><a 
 id="tailsun211se30.html"></a> 
</body> 
</html>