<!DOCTYPE html> 
<html> 
<head><title> astPolyMap </title> 
<meta charset=utf-8/> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<link rel="stylesheet" type="text/css" href="sun211.css" /> 
 <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=MML_HTMLorMML"></script><style type="text/css">.MathJax_MathML {text-indent: 0;}</style></head><body 
>
<div class="sstrefsection"><div class="crosslinks"><ul class='nav'> <li class="prev"> <a 
href="sun211ss143.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211ss145.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li>
</ul></div>
<!--l. 23882--><p class="noindent" ><header class="sstreftitle"><h3 class="sstsectitle"><a 
 id="x169-3610000"></a> astPolyMap </h3>  <p class="subtitle"> Create a PolyMap  </p> </h3> </header><a 
 id="Q1-169-665"></a> <a 
 id="Q1-169-666"></a> <a name="xref_astPolyMap"></a>  <h4 class="ssth4">Description: </h4><div class="sstvalues"> This function creates a new
<a 
href="sun211ss470.html#x497-6890000">PolyMap</a> and optionally initialises its attributes.
<!--l. 23882--><p class="noindent" >A PolyMap is a form of <a 
href="sun211ss459.html#x486-6780000">Mapping</a> which performs a general polynomial transformation. Each
output coordinate is a polynomial function of all the input coordinates. The
coefficients are specified separately for each output coordinate. The forward and
inverse transformations are defined independantly by separate sets of coefficients. If
no inverse transformation is supplied, an iterative method can be used to evaluate
the inverse based only on the forward transformation.  </div> <h4 class="ssth4">Synopsis </h4><div class="sstvalues"> AstPolyMap
<!--l. 23882--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>astPolyMap( int
nin, int nout, int ncoeff_f, const double coeff_f[], int ncoeff_i, const double coeff_i[], const
char <!--l. 23882--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>options,
... )  </div> <h4 class="ssth4">Parameters: </h4><div class="sstvalues"> <h5 class="ssth5"> nin  </h5><div class="sstsub"> The number of input coordinates.  </div> <h5 class="ssth5"> nout  </h5><div class="sstsub"> The number of
output coordinates.  </div> <h5 class="ssth5"> ncoeff_f  </h5><div class="sstsub"> The number of non-zero coefficients necessary to
define the forward transformation of the PolyMap. If zero is supplied, the
forward transformation will be undefined.  </div> <h5 class="ssth5"> coeff_f  </h5><div class="sstsub"> An array containing <code>&#x0022;</code>
ncoeff_f<!--l. 23882--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>( 2
<!--l. 23882--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math> nin )<code>&#x0022;</code> elements.
Each group of <code>&#x0022;</code> 2 <!--l. 23882--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math>
nin<code>&#x0022;</code> adjacent elements describe a single coefficient of the forward transformation.
Within each such group, the first element is the coefficient value; the next element is
the integer index of the PolyMap output which uses the coefficient within its
defining polynomial (the first output has index 1); the remaining elements of the
group give the integer powers to use with each input coordinate value (powers
must not be negative, and floating point values are rounded to the nearest
integer). If <code>&#x0022;</code> ncoeff_f<code>&#x0022;</code> is zero, a NULL pointer may be supplied for <code>&#x0022;</code> coeff_f<code>&#x0022;</code>
.
<!--l. 23882--><p class="noindent" >For instance, if the PolyMap has 3 inputs and 2 outputs, each group consisting of 5
elements, A groups such as <code>&#x0022;</code> (1.2, 2.0, 1.0, 3.0, 0.0)<code>&#x0022;</code> describes a coefficient with
                                                                                       

                                                                                       
value 1.2 which is used within the definition of output 2. The output value is
incremented by the product of the coefficient value, the value of input coordinate 1
raised to the power 1, and the value of input coordinate 2 raised to the power 3. Input
coordinate 3 is not used since its power is specified as zero. As another example, the
group <code>&#x0022;</code> (-1.0, 1.0, 0.0, 0.0, 0.0 )<code>&#x0022;</code> describes adds a constant value -1.0 onto output
1 (it is a constant value since the power for every input axis is given as
zero).
<!--l. 23882--><p class="noindent" >Each final output coordinate value is the sum of the <code>&#x0022;</code> ncoeff_f<code>&#x0022;</code> terms described by the
<code>&#x0022;</code> ncoeff_f<code>&#x0022;</code> groups within the supplied array.  </div> <h5 class="ssth5"> ncoeff_i  </h5><div class="sstsub"> The number of non-zero
coefficients necessary to define the inverse transformation of the PolyMap. If zero is
supplied, the inverse transformation will be undefined.  </div> <h5 class="ssth5"> coeff_i  </h5><div class="sstsub"> An array containing <code>&#x0022;</code>
ncoeff_i<!--l. 23882--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x2217;</mo></math>( 2
<!--l. 23882--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math> nout )<code>&#x0022;</code> elements.
Each group of <code>&#x0022;</code> 2 <!--l. 23882--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">+</mo></math>
nout<code>&#x0022;</code> adjacent elements describe a single coefficient of the inverse transformation,
using the same schame as <code>&#x0022;</code> coeff_f<code>&#x0022;</code> , except that <code>&#x0022;</code> inputs<code>&#x0022;</code> and <code>&#x0022;</code> outputs<code>&#x0022;</code>
are transposed. If <code>&#x0022;</code> ncoeff_i<code>&#x0022;</code> is zero, a NULL pointer may be supplied for
<code>&#x0022;</code> coeff_i<code>&#x0022;</code> .  </div> <h5 class="ssth5"> options  </h5><div class="sstsub"> Pointer to a null-terminated string containing an
optional comma-separated list of attribute assignments to be used for initialising
the new PolyMap. The syntax used is identical to that for the <a 
href="sun211ss177.html#x202-3940000">astSet</a> function
and may include <code>&#x0022;</code> printf<code>&#x0022;</code> format specifiers identified by <code>&#x0022;</code> %<code>&#x0022;</code> symbols in the
normal way.  </div> <h5 class="ssth5"> ...  </h5><div class="sstsub"> If the <code>&#x0022;</code> options<code>&#x0022;</code> string contains <code>&#x0022;</code> %<code>&#x0022;</code> format specifiers,
then an optional list of additional arguments may follow it in order to supply
values to be substituted for these specifiers. The rules for supplying these are
identical to those for the astSet function (and for the C <code>&#x0022;</code> printf<code>&#x0022;</code> function).  </div>
</div> <h4 class="ssth4">Returned Value </h4><div class="sstvalues"> <h5 class="ssth5"> astPolyMap()  </h5><div class="sstsub"> A pointer to the new PolyMap.  </div>  </div> <h4 class="ssth4">Notes: </h4><div class="sstvalues">
<ul class="sstitemlist">
<li >
<!--l. 23882--><p class="noindent" >A null <a 
href="sun211ss464.html#x491-6830000">Object</a> pointer (AST__NULL) will be returned if this function is invoked with the
AST error status set, or if it should fail for any reason.  </li></ul>  </div><div class="crosslinks"> <div class="copyright"><span class="pushright">Copyright (C) 2014 Science &#x0026; Technology Facilities Council</span></div> <ul class='nav'> <li class="prev"> <a 
href="sun211ss143.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">AST<BR>A Library for
Handling<BR>World Coordinate Systems<BR>in Astronomy</li> <li class="next"><a 
href="sun211ss145.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun211.html#toc">TOC &#8593</a></li> </ul></div>
<!--l. 33670--><p class="noindent" ><a 
 id="tailsun211ss144.html"></a> </div> 
</body> 
</html>